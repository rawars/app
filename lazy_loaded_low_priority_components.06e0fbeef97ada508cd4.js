/*! Copyright (c) 2021 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client = self.webpackChunkwhatsapp_web_client || []).push([
    [275], {
        60237: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                e.cartItemCollection.reset(), e.set("message", void 0), e.trigger("change:cartItemCollection"), (0, l.default)(e)
            };
            var l = n(a(8166))
        },
        70539: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                var a = l.default.findCart(e);
                return a.cartItemCollection.remove(t), a.trigger("change:cartItemCollection"), (0, r.default)(a), a.itemCount
            };
            var l = n(a(73293)),
                r = n(a(8166))
        },
        38088: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.parsePrice = E, t.isPriceMatch = _, t.createProductFromRefreshCartItem = C, t.default = function(e, t) {
                var a = i.default.get((0, v.createWid)(e.id)),
                    n = [],
                    l = [],
                    c = !0;
                a && e.cartItemCollection.forEach((function(r) {
                    var i = a.productCollection.get(r.id),
                        o = t && t.products.find((function(e) {
                            return e.id === r.id
                        }));
                    if (o = function(e, t) {
                            if (e && "deleted" === e.status) return void t.productCollection.remove(e.id);
                            return e
                        }(o, a), !t && i) {
                        var u = function(e, t) {
                            var a = function(e, t) {
                                return e.priceAmount1000 === (0, p.getActivePrice)(t) && e.currency === t.currency && e.name === t.name && e.imageHash === t.imageHash
                            }(e, t);
                            a || e.set({
                                priceAmount1000: (0, p.getActivePrice)(t),
                                currency: t.currency,
                                name: t.name,
                                imageHash: t.imageHash
                            }, {
                                silent: !0
                            });
                            return a
                        }(r, i);
                        c = c && u, n.push({
                            product: i,
                            cartItem: r
                        })
                    } else if (o) {
                        var d = function(e, t) {
                            var a = !t || function(e, t) {
                                var a, n, l = (0, p.getActivePrice)(g(t));
                                return _(e.priceAmount1000, l) && (!(0, h.isString)(e.currency) && !(0, h.isString)(t.currency) || e.currency === t.currency) && e.name === t.name && e.imageHash === (null === (a = t.media) || void 0 === a || null === (n = a.image) || void 0 === n ? void 0 : n.id)
                            }(e, t);
                            if (!a && t) {
                                var n = g(t);
                                e.set({
                                    priceAmount1000: (0, p.getActivePrice)(n),
                                    currency: n.currency,
                                    name: n.name,
                                    imageHash: n.imageHash
                                }, {
                                    silent: !0
                                })
                            }
                            return a
                        }(r, o);
                        c = c && d, n.push({
                            product: C(o, e.id),
                            cartItem: r
                        })
                    } else c = !1, l.push(r.id)
                })), a || (0, o.default)(e);
                c || (l.length && e.cartItemCollection.remove(l), e.trigger("change:cartItemCollection"), u.default.openModal(r.default.createElement(d.default, {
                    onOK: function() {
                        u.default.closeModal()
                    }
                }, s.default.t(429))));
                return (0, m.default)(e), n
            };
            var l = n(a(81109)),
                r = n(a(67294)),
                i = n(a(10725)),
                o = n(a(60237)),
                u = n(a(34541)),
                d = n(a(25960)),
                s = n(a(89115)),
                c = n(a(91030)),
                f = a(86763),
                p = a(67717),
                m = n(a(8166)),
                h = a(88828),
                v = a(75793);

            function g(e) {
                var t, a, n, l, r, i, o, u;
                return {
                    id: e.id,
                    name: null !== (t = e.name) && void 0 !== t ? t : "",
                    imageCdnUrl: null === (a = e.media) || void 0 === a || null === (n = a.image) || void 0 === n ? void 0 : n.request_image_url,
                    imageHash: null === (l = e.media) || void 0 === l || null === (r = l.image) || void 0 === r ? void 0 : r.id,
                    currency: e.currency,
                    priceAmount1000: E(e.price),
                    salePriceAmount1000: E(null === (i = e.sale_price) || void 0 === i ? void 0 : i.price),
                    salePriceStartDate: (0, f.parseDateValue)(null === (o = e.sale_price) || void 0 === o ? void 0 : o.start_date),
                    salePriceEndDate: (0, f.parseDateValue)(null === (u = e.sale_price) || void 0 === u ? void 0 : u.end_date)
                }
            }

            function E(e) {
                return "string" == typeof e ? e.length > 0 ? parseInt(e, 10) : null : e
            }

            function _(e, t) {
                var a = E(e),
                    n = E(t);
                return (0, h.isNumber)(a) && (0, h.isNumber)(n) ? a === n : !(0, h.isNumber)(a) && !(0, h.isNumber)(n)
            }

            function C(e, t) {
                return new c.default((0, l.default)((0, l.default)({}, g(e)), {}, {
                    catalogWid: (0, v.createWid)(t),
                    productMsgMediaData: null,
                    imageCount: 1,
                    fetchedFromServer: !0,
                    t: Date.now() / 1e3,
                    old: !1
                }))
            }
        },
        6721: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (0 === e.cartItemCollection.length) return n.resolve({
                    products: [],
                    price: {}
                });
                var t = e.cartItemCollection.map((function(e) {
                    return e.id
                }));
                return (0, r.refreshCart)(e.id, t, i.default.imageWidth, i.default.imageHeight)
            };
            var r = a(87898),
                i = l(a(73293))
        },
        93177: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return f.apply(this, arguments)
            };
            var l = n(a(87757)),
                r = n(a(48926)),
                i = n(a(10725)),
                o = a(21301),
                u = n(a(86286)),
                d = n(a(8166)),
                s = a(75793);

            function c(e) {
                var t, a, n = e.cartItemCollection.at(0);
                if (null == n) return "";
                var l = i.default.get((0, s.createWid)(e.id)),
                    r = null == l ? void 0 : l.productCollection.get(n.id),
                    o = null == r || null === (t = r.productImageCollection.at(0)) || void 0 === t ? void 0 : t.mediaData;
                if (null == o) return "";
                var u = null === (a = o.preview) || void 0 === a ? void 0 : a.getBase64();
                return null != u ? u : ""
            }

            function f() {
                return (f = (0, r.default)(l.default.mark((function e(t, a) {
                    var n;
                    return l.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, o.createOrder)(a.id, t.cartItemCollection.toArray());
                            case 2:
                                return n = e.sent, e.next = 5, (0, u.default)(a, n, t.itemCount, c(t), t.message);
                            case 5:
                                return (0, d.default)(t), e.abrupt("return", n.id);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        19056: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                e.set("message", t), (0, l.default)(e)
            };
            var l = n(a(8166))
        },
        31493: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a) {
                var n = l.default.findCart(e),
                    i = n.cartItemCollection.get(t.id);
                null == i || i.set("quantity", a), n.trigger("change:cartItemCollection"), (0, r.default)(n)
            };
            var l = n(a(73293)),
                r = n(a(8166))
        },
        86286: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a, n, f) {
                var p = (0, i.getMaybeMeUser)(),
                    m = function(e, t, a, n, d) {
                        var s = (0, i.getMaybeMeUser)(),
                            c = {
                                type: "order",
                                ack: r.default.ACK.CLOCK,
                                from: s,
                                id: new o.default({
                                    from: s,
                                    to: e.id,
                                    id: (0, u.default)(),
                                    participant: void 0,
                                    selfDir: "out"
                                }),
                                local: !0,
                                isNewMsg: !0,
                                self: "out",
                                t: l.default.globalUnixTime(),
                                to: e.id,
                                orderId: t.id,
                                token: t.token,
                                orderTitle: e.name || e.formattedTitle,
                                sellerJid: e.id.toString({
                                    legacy: !0
                                }),
                                thumbnail: n,
                                itemCount: a,
                                message: d
                            },
                            f = t.price.total;
                        f && f.length > 0 && (c.totalAmount1000 = parseInt(f, 10));
                        t.price.currency && t.price.currency.length > 0 && (c.totalCurrencyCode = t.price.currency);
                        return c
                    }(e, t, a, n, f);
                if (c.default.equals(e.id, p)) return (0, d.addAndSendMsgToChat)(e, m)[0].then((function() {})).catch((function(e) {
                    throw __LOG__(3)`Order message send to chat failure: ${e}`, e
                }));
                return (0, d.addAndSendMsgToChat)(e, m)[1].then((function(e) {
                    if (!e || e !== s.SendMsgResult.OK) throw new Error("Order message SendMsgResult failure status")
                })).catch((function(e) {
                    throw __LOG__(3)`Order message send to chat failure: ${e}`, e
                }))
            };
            var l = n(a(79140)),
                r = n(a(34263)),
                i = a(71701),
                o = n(a(5315)),
                u = n(a(75554)),
                d = a(83537),
                s = a(67298),
                c = n(a(12717))
        },
        59465: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.setPushname = function(e) {
                return f(e)
            };
            var l = n(a(67294)),
                r = a(83180),
                i = n(a(34541)),
                o = n(a(93743)),
                u = a(14650),
                d = n(a(89115)),
                s = n(a(4887)),
                c = a(57222);

            function f(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : (0, r.genId)(),
                    a = (0, s.default)(e),
                    n = new r.ActionType(d.default.t(195)),
                    p = o.default.pushname,
                    m = a.then((function() {
                        return new r.ActionType(d.default.t(192), {
                            actionText: d.default.t(207),
                            actionHandler: function() {
                                return f(p, t)
                            }
                        })
                    })).catchType(u.ServerStatusCodeError, (function(e) {
                        if (e.status >= 400) return new r.ActionType(d.default.t(193))
                    })).catch((function() {
                        throw __LOG__(3)`models:conn:setPushname dropped`, new r.ActionType(d.default.t(193), {
                            actionText: d.default.t(203),
                            actionHandler: function() {
                                return f(status, t)
                            }
                        })
                    }));
                return i.default.openToast(l.default.createElement(r.ActionToast, {
                    id: t,
                    initialAction: n,
                    pendingAction: m
                })), a.then((function(t) {
                    t._duplicate || (0, c.setPushnameLocally)(e)
                }))
            }
        },
        26011: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a, n) {
                var l = e.map(y.vcardFromContactModel),
                    u = 1 === l.length ? l[0] : (0, y.mergeVcards)(l),
                    d = `${u.displayName}.vcf`,
                    s = (0, m.createFile)([u.vcard], d, {
                        type: S
                    }),
                    f = s.size / 1024;
                if (0 !== _.default.vcardAsDocumentSizeKb && f > _.default.vcardAsDocumentSizeKb) return void

                function() {
                    k.apply(this, arguments)
                }(s, e.length, t, a, n);
                ! function(e, t, a, n, l) {
                    var u = n && n.msgContextInfo(t.id),
                        d = (0, h.getMaybeMeUser)(),
                        s = (0, i.default)((0, i.default)({
                            ack: p.default.ACK.CLOCK,
                            from: d,
                            id: new v.default({
                                from: d,
                                to: t.id,
                                id: (0, g.default)(),
                                participant: void 0,
                                selfDir: "out"
                            }),
                            local: !0,
                            isNewMsg: !0,
                            self: "out",
                            t: c.default.globalUnixTime(),
                            to: t.id
                        }, u), {}, {
                            ctwaContext: l
                        }),
                        f = 1 === e.length ? (0, i.default)((0, i.default)({
                            type: "vcard",
                            vcardFormattedName: e[0].displayName,
                            body: e[0].vcard
                        }, s), M(t)) : (0, i.default)((0, i.default)({
                            type: "multi_vcard",
                            vcardList: e
                        }, s), M(t));
                    (0, o.default)(r.default.mark((function e() {
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.prev = 0, e.next = 3, (0, E.addAndSendMsgToChat)(t, f)[1];
                                case 3:
                                    e.next = 9;
                                    break;
                                case 5:
                                    throw e.prev = 5, e.t0 = e.catch(0), __LOG__(2)`Error sending contact: ${e.t0}`, e.t0;
                                case 9:
                                case "end":
                                    return e.stop()
                            }
                        }), e, null, [
                            [0, 5]
                        ])
                    })))()
                }(l, t, 0, a, n)
            };
            var r = l(a(87757)),
                i = l(a(81109)),
                o = l(a(48926)),
                u = l(a(91080)),
                d = l(a(67294)),
                s = l(a(34215)),
                c = l(a(79140)),
                f = l(a(34541)),
                p = l(a(34263)),
                m = a(19059),
                h = a(71701),
                v = l(a(5315)),
                g = l(a(75554)),
                E = a(83537),
                _ = l(a(63056)),
                C = n(a(92631)),
                y = a(38210),
                S = "text/vcard";

            function k() {
                return (k = (0, o.default)(r.default.mark((function e(t, a, n, l, i) {
                    var c, m, h, v, g;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return c = {
                                    file: t,
                                    type: p.default.MSG_TYPE.DOCUMENT,
                                    filename: t.name,
                                    mimetype: S,
                                    isVcardOverMmsDocument: !0,
                                    documentPageCount: a
                                }, m = new s.default({
                                    chatParticipantCount: n.getParticipantCount()
                                }), e.next = 4, m.processAttachments([c]);
                            case 4:
                                if (h = m.uiProcessMsgs(), !(v = h.errorMsgs)) {
                                    e.next = 8;
                                    break
                                }
                                return f.default.openToast(d.default.createElement(C.default, {
                                    msg: v,
                                    id: (0, C.genId)()
                                })), e.abrupt("return");
                            case 8:
                                g = (0, u.default)(m.getValidMedias()[0], "collection.getValidMedias()[0]"), (0, o.default)(r.default.mark((function e() {
                                    return r.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.prev = 0, e.next = 3, g.sendToChat(n, {
                                                    quotedMsg: l,
                                                    ctwaContext: i
                                                });
                                            case 3:
                                                e.next = 9;
                                                break;
                                            case 5:
                                                throw e.prev = 5, e.t0 = e.catch(0), __LOG__(2)`Error sending contact: ${e.t0}`, e.t0;
                                            case 9:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e, null, [
                                        [0, 5]
                                    ])
                                })))();
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function M(e) {
                var t = {};
                if (_.default.ephemeralMessages) {
                    e.isEphemeralSettingOn() && (t.ephemeralDuration = e.getEphemeralSetting());
                    var a = e.getEphemeralSettingTimestamp();
                    null != a && (t.ephemeralSettingTimestamp = a);
                    var n = e.getDisappearingModeInitiator();
                    null != n && (t.disappearingModeInitiator = n)
                }
                return t
            }
        },
        72041: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                i.default.openToast(r.default.createElement(u.default, {
                    msg: o.default.t(437),
                    duration: 6e3,
                    id: (0, u.genId)()
                }))
            };
            var r = l(a(67294)),
                i = l(a(34541)),
                o = l(a(89115)),
                u = n(a(92631))
        },
        17830: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendSupportRequest = function(e, t) {
                var a = (0, l.wap)("iq", {
                    from: (0, d.USER_JID)((0, o.getMeUser)()),
                    id: (0, l.generateId)(),
                    smax_id: "3",
                    to: l.S_WHATSAPP_NET,
                    type: "set",
                    xmlns: "fb:thrift_iq"
                }, (0, l.wap)("description", null, e), null != t ? (0, l.wap)("debug_information_json", null, t) : null);
                return (0, i.sendIq)(a, c).then((function(e) {
                    var a;
                    if (e.success) {
                        var n, l = e.result;
                        return "success" === l.type ? (null != t && (__LOG__(2)`InAppSupport: Uploading logs for ticketId=${l.ticketId}`, (0, r.upload)({
                            reason: "user-report",
                            immediate: !0,
                            force: !0,
                            persist: !0,
                            ticketId: l.ticketId
                        }).then((function(e) {
                            __LOG__(2)`InAppSupport: Logs upload complete for ticketId=${l.ticketId}, logsId=${e}`
                        }))), {
                            type: "success",
                            message: l.message,
                            ticketId: l.ticketId
                        }) : (s(a = null !== (n = l.errorCode) && void 0 !== n ? n : 400), {
                            type: "error",
                            errorCode: a
                        })
                    }
                    return s(e.errorCode, e.errorText), {
                        type: "error",
                        errorCode: e.errorCode
                    }
                }))
            };
            var l = a(18712),
                r = a(70371),
                i = a(4746),
                o = a(71701),
                u = n(a(98112)),
                d = a(19325);

            function s(e, t) {
                __LOG__(3, void 0, void 0, !0)`supportRequest error: code=${e} message=${null!=t?t:""}`, SEND_LOGS("supportRequest")
            }
            var c = new u.default("supportResponse", (function(e) {
                var t = e.child("response");
                return t.hasAttr("error_code") ? {
                    type: "error",
                    errorCode: t.attrInt("error_code", 0, 1e3)
                } : (t.assertAttr("status", "ok"), {
                    type: "success",
                    message: t.child("message").contentString(),
                    ticketId: t.child("ticket_id").contentString()
                })
            }))
        },
        18780: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.editBusinessProfile = void 0;
            var r = l(a(22021)),
                i = l(a(32644)),
                o = a(83239);
            t.editBusinessProfile = function(e) {
                var t;
                return r.default.supportsFeature(r.default.F.MD_BACKEND) ? (t = (0, o.editBusinessProfile)(e)) || (t = n.reject(new Error("md business profile edit not supported"))) : t = (0, i.default)(e), t
            }
        },
        32644: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.convertProfileToRequestData = void 0;
            var l = n(a(87757)),
                r = n(a(81109)),
                i = n(a(48926)),
                o = n(a(63038)),
                u = n(a(43269)),
                d = a(14650),
                s = n(a(64032)),
                c = n(a(7860)),
                f = function(e) {
                    return e >= 200 && e <= 299
                },
                p = function(e) {
                    if (e) return {
                        category: e.map((function(e) {
                            return {
                                id: e.id
                            }
                        }))
                    }
                },
                m = function(e) {
                    if (e) {
                        var t = e.note,
                            a = e.timezone,
                            n = e.config,
                            l = [];
                        for (var r in n) {
                            var i = n[r],
                                d = i.mode,
                                s = i.hours;
                            if (s) {
                                var c, f = (0, u.default)(s);
                                try {
                                    for (f.s(); !(c = f.n()).done;) {
                                        var p = (0, o.default)(c.value, 2),
                                            m = p[0],
                                            h = p[1];
                                        l.push({
                                            day_of_week: r,
                                            mode: d,
                                            open_time: m,
                                            close_time: h
                                        })
                                    }
                                } catch (e) {
                                    f.e(e)
                                } finally {
                                    f.f()
                                }
                            } else l.push({
                                day_of_week: r,
                                mode: d
                            })
                        }
                        return {
                            timezone: a,
                            business_hours_note: t,
                            business_hours_config: l
                        }
                    }
                },
                h = function(e) {
                    var t = e.address,
                        a = e.description,
                        n = e.email,
                        l = e.website,
                        r = e.businessHours,
                        i = e.categories,
                        o = (0, s.default)({
                            address: t,
                            description: a,
                            email: n,
                            website: l,
                            business_hours: m(r),
                            categories: p(i)
                        });
                    return Object.keys(o).length > 0 ? o : void 0
                };
            t.convertProfileToRequestData = h;
            var v = function() {
                var e = (0, i.default)(l.default.mark((function e(t) {
                    var a, n, i, o, u;
                    return l.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (a = h(t)) {
                                    e.next = 4;
                                    break
                                }
                                return __LOG__(3)`empty profile received, ignoring save`, e.abrupt("return");
                            case 4:
                                return n = (0, r.default)({
                                    v: 2
                                }, a), e.prev = 5, e.next = 8, c.default.send2({
                                    data: ["action", "editBusinessProfile", n],
                                    retryOn5xx: !0
                                });
                            case 8:
                                if (i = e.sent, o = i.status, !f(o)) {
                                    e.next = 13;
                                    break
                                }
                                return e.abrupt("return");
                            case 13:
                                throw __LOG__(3)`error editing business profile webd: ${o}`, new d.ServerStatusCodeError(o, "edit business profile");
                            case 17:
                                throw e.prev = 17, e.t0 = e.catch(5), u = e.t0, __LOG__(3)`error editing business profile: ${u}`, u;
                            case 22:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 17]
                    ])
                })));
                return function() {
                    return e.apply(this, arguments)
                }
            }();
            t.default = v
        },
        4887: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (i.default.supportsFeature(i.default.F.MD_BACKEND) && e) {
                    var t = (0, u.unixTimeMs)(),
                        a = s.default.getPushnameMutation(t, e);
                    return (0, d.default)(e), (0, c.lockForSync)([], [a], (function() {
                        return n.resolve()
                    })).then((function() {
                        return {
                            _duplicate: null
                        }
                    }))
                }
                return o.default.setPushname(e).then((function(e) {
                    if (e.status && 200 !== e.status) throw new r.ServerStatusCodeError(e.status);
                    return {
                        _duplicate: e._duplicate
                    }
                }))
            };
            var r = a(14650),
                i = l(a(22021)),
                o = l(a(23306)),
                u = a(90066),
                d = l(a(49327)),
                s = l(a(19616)),
                c = a(50773)
        },
        65802: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CombinedFingerprintSpec = t.FingerprintDataSpec = void 0;
            var n = a(22236),
                l = {};
            t.FingerprintDataSpec = l;
            var r = {};
            t.CombinedFingerprintSpec = r, l.internalSpec = {
                publicKey: [1, n.TYPES.BYTES],
                identifier: [2, n.TYPES.BYTES]
            }, r.internalSpec = {
                version: [1, n.TYPES.UINT32],
                localFingerprint: [2, n.TYPES.MESSAGE, l],
                remoteFingerprint: [3, n.TYPES.MESSAGE, l]
            }
        },
        78185: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(87757)),
                i = l(a(48926)),
                o = l(a(63038)),
                u = l(a(59713)),
                d = l(a(319)),
                s = l(a(81109)),
                c = l(a(34575)),
                f = l(a(93913)),
                p = l(a(2205)),
                m = l(a(99842)),
                h = l(a(43269)),
                v = n(a(67294)),
                g = l(a(13237)),
                E = l(a(26015)),
                _ = l(a(66607)),
                C = l(a(89115)),
                y = a(29793),
                S = l(a(19973)),
                k = l(a(27698)),
                M = l(a(90327)),
                T = l(a(79077)),
                I = a(89822),
                b = a(54302).Mirrored(["START", "END"]),
                P = y.BUSINESS_HOUR_MODES.SPECIFIC_HOURS,
                w = function() {
                    return [(0, I.minutesToTime)(540), (0, I.minutesToTime)(1080)]
                },
                L = function(e) {
                    var t, a = e.businessHours,
                        n = a.mode,
                        l = a.days,
                        r = {},
                        i = (0, h.default)(l);
                    try {
                        for (i.s(); !(t = i.n()).done;) {
                            var o = t.value,
                                u = o.dayKey,
                                d = o.closed,
                                s = o.hours,
                                c = o.dayName;
                            r[u] = {
                                closed: d,
                                hours: s || [w()],
                                dayKey: u,
                                dayName: c
                            }
                        }
                    } catch (e) {
                        i.e(e)
                    } finally {
                        i.f()
                    }
                    return {
                        mode: n || P,
                        dayValues: r
                    }
                },
                O = function(e) {
                    (0, p.default)(a, e);
                    var t = (0, m.default)(a);

                    function a() {
                        var e;
                        (0, c.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = L(e.props), e
                    }
                    return (0, f.default)(a, [{
                        key: "_buildDayId",
                        value: function(e) {
                            return `${e.dayKey}_business_hours`
                        }
                    }, {
                        key: "_renderCheckbox",
                        value: function(e) {
                            var t = this,
                                a = e.closed,
                                n = e.dayKey,
                                l = this._buildDayId(e);
                            return v.default.createElement("div", {
                                className: g.default.dayCheckbox
                            }, v.default.createElement(E.default, {
                                id: l,
                                checked: !a,
                                onChange: function() {
                                    var e = t.state.dayValues[n];
                                    t._updateDayValue(n, {
                                        closed: !e.closed
                                    })
                                }
                            }))
                        }
                    }, {
                        key: "_renderTabs",
                        value: function() {
                            var e = this,
                                t = this.state.mode;
                            return v.default.createElement(M.default, {
                                onSelect: function(t) {
                                    if (t === y.BUSINESS_HOUR_MODES.OPEN_24H) {
                                        var a, n = e.state.dayValues,
                                            l = (0, h.default)(y.DAYS_OF_WEEK);
                                        try {
                                            for (l.s(); !(a = l.n()).done;) {
                                                var r = a.value;
                                                n[r] = (0, s.default)((0, s.default)({}, n[r]), {}, {
                                                    closed: !1
                                                })
                                            }
                                        } catch (e) {
                                            l.e(e)
                                        } finally {
                                            l.f()
                                        }
                                        e.setState({
                                            mode: t,
                                            dayValues: n
                                        })
                                    } else e.setState({
                                        mode: t
                                    })
                                },
                                selectedId: t,
                                tabConfigs: [{
                                    title: C.default.t(367),
                                    id: y.BUSINESS_HOUR_MODES.SPECIFIC_HOURS
                                }, {
                                    title: C.default.t(363),
                                    id: y.BUSINESS_HOUR_MODES.OPEN_24H
                                }, {
                                    title: C.default.t(364),
                                    id: y.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY
                                }]
                            })
                        }
                    }, {
                        key: "_updateValueToUserTimeFormat",
                        value: function(e, t, a) {
                            var n = this.state.dayValues[e].hours,
                                l = t === b.START ? 0 : 1,
                                r = n[a][l],
                                i = (0, I.timeStringToMinutes)(r);
                            void 0 !== i && this._updateDayValue(e, {
                                hours: this._updateHoursValue(n, (0, I.minutesToTime)(i), t, a)
                            })
                        }
                    }, {
                        key: "_updateHoursValue",
                        value: function(e, t, a, n) {
                            var l = (0, d.default)(e),
                                r = a === b.START ? 0 : 1,
                                i = (0, d.default)(l[n]);
                            return i[r] = t, l[n] = i, l
                        }
                    }, {
                        key: "_renderTimeInput",
                        value: function(e, t, a, n) {
                            var l = this,
                                r = (0, I.isValidTime)(t) ? null : " ";
                            return v.default.createElement("div", {
                                key: `${e}-${a}-${n}`,
                                className: g.default.timeWrapper
                            }, v.default.createElement(T.default, {
                                managed: !0,
                                value: t,
                                theme: "small",
                                maxLength: 15,
                                customStyleThemes: ["desaturated", "noErrorInfo"],
                                error: r,
                                onChange: function(t) {
                                    var r = l.state.dayValues[e].hours;
                                    l._updateDayValue(e, {
                                        hours: l._updateHoursValue(r, t, a, n)
                                    })
                                },
                                onBlur: function() {
                                    l._updateValueToUserTimeFormat(e, a, n)
                                }
                            }))
                        }
                    }, {
                        key: "_updateDayValue",
                        value: function(e, t) {
                            var a = this.state.dayValues,
                                n = a[e];
                            this.setState({
                                dayValues: (0, s.default)((0, s.default)({}, a), {}, (0, u.default)({}, e, (0, s.default)((0, s.default)({}, n), t)))
                            })
                        }
                    }, {
                        key: "_addHours",
                        value: function(e) {
                            var t = this.state.dayValues[e].hours;
                            this._updateDayValue(e, {
                                hours: [].concat((0, d.default)(t), [w()])
                            })
                        }
                    }, {
                        key: "_removeHours",
                        value: function(e) {
                            var t = this.state.dayValues[e].hours,
                                a = (0, d.default)(t);
                            a.pop(), this._updateDayValue(e, {
                                hours: a
                            })
                        }
                    }, {
                        key: "_renderAdd",
                        value: function(e) {
                            var t = this;
                            return v.default.createElement("div", {
                                className: g.default.timeWrapper
                            }, v.default.createElement(_.default, {
                                "aria-label": C.default.t(1),
                                label: C.default.t(224),
                                onClick: function() {
                                    t._addHours(e)
                                },
                                prefixIcon: "status-ciphertext",
                                iconTheme: "padded-svg"
                            }))
                        }
                    }, {
                        key: "_renderRemove",
                        value: function(e) {
                            var t = this;
                            return v.default.createElement("div", {
                                className: g.default.timeWrapper
                            }, v.default.createElement(k.default, {
                                title: C.default.t(1310),
                                "aria-label": C.default.t(1310),
                                name: "x-alt",
                                onClick: function() {
                                    t._removeHours(e)
                                }
                            }))
                        }
                    }, {
                        key: "_renderHours",
                        value: function(e) {
                            var t = this,
                                a = e.dayKey,
                                n = e.hours,
                                l = [],
                                r = n.length >= 2 ? this._renderRemove(a) : this._renderAdd(a);
                            return n.forEach((function(e, n) {
                                var r = (0, o.default)(e, 2),
                                    i = r[0],
                                    u = r[1];
                                n > 0 && l.push(v.default.createElement("div", {
                                    className: g.default.hoursAnd
                                }, C.default.t(357))), l.push(t._renderTimeInput(a, i, b.START, n), t._renderTimeInput(a, u, b.END, n))
                            })), v.default.createElement("div", {
                                className: g.default.hoursMain
                            }, l, r)
                        }
                    }, {
                        key: "_renderDayValues",
                        value: function(e, t) {
                            var a;
                            return e.closed ? a = C.default.t(359) : t === y.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY ? a = C.default.t(358) : t === y.BUSINESS_HOUR_MODES.OPEN_24H && (a = C.default.t(370)), a ? v.default.createElement("div", {
                                className: g.default.dayInfoText
                            }, a) : y.BUSINESS_HOUR_MODES.SPECIFIC_HOURS && !e.closed ? this._renderHours(e) : null
                        }
                    }, {
                        key: "_renderDayInfo",
                        value: function(e, t) {
                            var a = e.dayName,
                                n = this._buildDayId(e);
                            return v.default.createElement("div", {
                                className: g.default.dayInfo
                            }, v.default.createElement("label", {
                                htmlFor: n
                            }, a), this._renderDayValues(e, t))
                        }
                    }, {
                        key: "_renderDay",
                        value: function(e) {
                            var t = this.state.mode;
                            return v.default.createElement("div", {
                                key: `day-${e.dayKey}`,
                                className: g.default.dayMain
                            }, this._renderCheckbox(e), this._renderDayInfo(e, t))
                        }
                    }, {
                        key: "_renderBusinessHours",
                        value: function() {
                            var e = this,
                                t = this.props.businessHours.days;
                            return v.default.createElement("div", null, this._renderTabs(), v.default.createElement("div", {
                                className: g.default.editMain
                            }, t.map((function(t) {
                                var a = t.dayKey,
                                    n = e.state.dayValues[a];
                                return e._renderDay(n)
                            }))))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this._renderBusinessHours(),
                                a = this.state,
                                n = a.mode,
                                l = a.dayValues,
                                o = this.props.businessHours,
                                u = o.note,
                                d = o.timezone;
                            return v.default.createElement(S.default, {
                                title: C.default.t(365),
                                isValid: (0, I.isValidBusinessHours)(n, l),
                                doSave: (0, i.default)(r.default.mark((function t() {
                                    return r.default.wrap((function(t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                return t.next = 2, e.props.saveBusinessProfile((0, I.convertToRawBusinessProfile)({
                                                    mode: n,
                                                    dayValues: l,
                                                    note: u,
                                                    timezone: d
                                                }));
                                            case 2:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t)
                                }))),
                                afterSave: this.props.afterSave,
                                onCancel: this.props.onCancel
                            }, t)
                        }
                    }]), a
                }(v.Component);
            t.default = O, O.displayName = "BusinessHours"
        },
        23136: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(87757)),
                i = l(a(48926)),
                o = l(a(81109)),
                u = l(a(319)),
                d = l(a(59713)),
                s = l(a(34575)),
                c = l(a(93913)),
                f = l(a(2205)),
                p = l(a(99842)),
                m = l(a(94184)),
                h = n(a(67294)),
                v = a(4781),
                g = a(16271),
                E = l(a(31942)),
                _ = l(a(26015)),
                C = l(a(12328)),
                y = l(a(34541)),
                S = l(a(60482)),
                k = l(a(55959)),
                M = l(a(50842)),
                T = l(a(89115)),
                I = l(a(17381)),
                b = l(a(19973)),
                P = l(a(87729)),
                w = n(a(92631)),
                L = function(e) {
                    return {
                        selectedCategories: e.initialCategories,
                        searchText: "",
                        isLoading: !1
                    }
                },
                O = function(e) {
                    (0, f.default)(a, e);
                    var t = (0, p.default)(a);

                    function a() {
                        var e;
                        (0, s.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = L(e.props), e.flatListController = new M.default, e.setRefList = function(t) {
                            e.list = t
                        }, e.renderItem = function(t) {
                            var a = h.default.createElement(_.default, {
                                    id: `${t.id}`,
                                    onChange: function() {
                                        !t.disabled && e._toggleResultById(t.id)
                                    },
                                    checked: t.selected,
                                    disabled: t.disabled
                                }),
                                n = h.default.createElement("label", {
                                    className: (0, m.default)(E.default.rowLabel, (0, d.default)({}, E.default.disabled, t.disabled)),
                                    htmlFor: t.id
                                }, t.localized_display_name);
                            return e._renderRow(n, a)
                        }, e._removeById = function(t) {
                            var a = e.state.selectedCategories.filter((function(e) {
                                return e.id === t
                            }))[0];
                            a && e.toggle(a)
                        }, e._toggleResultById = function(t) {
                            var a, n = null === (a = e.state.results) || void 0 === a ? void 0 : a.filter((function(e) {
                                return e.id === t
                            }))[0];
                            n && e.toggle(n)
                        }, e.toggle = function(t) {
                            var a, n = null === (a = e.state.results) || void 0 === a ? void 0 : a.find((function(e) {
                                    return e.not_a_biz
                                })),
                                l = e.state.selectedCategories.find((function(e) {
                                    return e.id === (null == n ? void 0 : n.id)
                                })),
                                r = e.state.selectedCategories;
                            e.state.selectedCategories.length > 0 && (t.not_a_biz && !l ? (r = [], e._showConflictWarning()) : !t.not_a_biz && l && (r = e.state.selectedCategories.filter((function(e) {
                                return e.id !== l.id
                            })), e._showConflictWarning())), e.isSelected(t.id) ? e.setState({
                                selectedCategories: r.filter((function(e) {
                                    return e.id !== t.id
                                }))
                            }) : e.setState({
                                selectedCategories: [].concat((0, u.default)(r), [t])
                            })
                        }, e.setSearchText = function(t) {
                            e._getResults(t)
                        }, e.handleRemoveItem = function(t) {
                            e.setState({
                                selectedCategories: e.state.selectedCategories.filter((function(e) {
                                    return e.id !== t.id
                                }))
                            })
                        }, e
                    }
                    return (0, c.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._getResults("")
                        }
                    }, {
                        key: "renderList",
                        value: function() {
                            var e = this;
                            if (this.state.isLoading) return h.default.createElement("div", {
                                className: E.default.loadingSpinner
                            }, h.default.createElement(P.default, {
                                color: "highlight",
                                size: 44,
                                stroke: 6
                            }));
                            if (!this.state.results || 0 === this.state.results.length) return this._renderRow(T.default.t(404), null);
                            var t = this.state.results.map((function(t) {
                                return (0, o.default)((0, o.default)({}, t), {}, {
                                    id: t.id,
                                    itemKey: t.id.toString(),
                                    disabled: e.isDisabled(t),
                                    selected: e.isSelected(t.id)
                                })
                            }));
                            return h.default.createElement(k.default, {
                                flatListControllers: [this.flatListController]
                            }, h.default.createElement(S.default, {
                                ref: this.setRefList,
                                data: t,
                                flatListController: this.flatListController,
                                direction: "vertical",
                                renderItem: this.renderItem,
                                defaultItemHeight: 48
                            }))
                        }
                    }, {
                        key: "_renderRow",
                        value: function(e, t) {
                            return h.default.createElement("div", {
                                className: E.default.rowMain
                            }, h.default.createElement("div", {
                                className: E.default.rowCheckbox
                            }, t), e)
                        }
                    }, {
                        key: "_renderSearchBox",
                        value: function() {
                            return h.default.createElement(I.default, {
                                onSearch: this.setSearchText,
                                placeholder: T.default.t(406)
                            })
                        }
                    }, {
                        key: "_renderFooter",
                        value: function() {
                            return this.state && this.state.selectedCategories ? h.default.createElement(C.default, {
                                categories: this.state.selectedCategories,
                                onRemoveItem: this._removeById
                            }) : null
                        }
                    }, {
                        key: "_showConflictWarning",
                        value: function() {
                            y.default.openToast(h.default.createElement(w.default, {
                                id: (0, w.genId)(),
                                msg: T.default.t(384)
                            }))
                        }
                    }, {
                        key: "isSelected",
                        value: function(e) {
                            for (var t = this.state.selectedCategories, a = 0; a < t.length; a++)
                                if (t[a].id === e) return !0;
                            return !1
                        }
                    }, {
                        key: "isDisabled",
                        value: function(e) {
                            return !e.not_a_biz && !this.isSelected(e.id) && this.state.selectedCategories.length >= g.MAX_BUSINESS_CATEGORIES
                        }
                    }, {
                        key: "_getResults",
                        value: function(e) {
                            var t = this;
                            this.setState({
                                isLoading: !0
                            }), this.props.searchCategories(e || v.BUSINESS_CATEGORY_EMPTY_STR_ID).then((function(a) {
                                var n = a.categories;
                                "" !== e && (n = n.filter((function(e) {
                                    return !e.not_a_biz
                                }))), t.setState({
                                    isLoading: !1,
                                    results: n
                                })
                            })).catch((function() {
                                y.default.openToast(h.default.createElement(w.default, {
                                    id: (0, w.genId)(),
                                    msg: T.default.t(383)
                                })), t.setState({
                                    isLoading: !1,
                                    results: []
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this;
                            return this.state.selectedCategories.length && (e = this._renderFooter()), h.default.createElement(b.default, {
                                title: T.default.t(385),
                                isValid: this.state.selectedCategories.length > 0,
                                doSave: (0, i.default)(r.default.mark((function e() {
                                    return r.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, t.props.saveBusinessProfile({
                                                    categories: t.state.selectedCategories
                                                });
                                            case 2:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                }))),
                                afterSave: this.props.afterSave,
                                onCancel: this.props.onCancel
                            }, h.default.createElement("div", {
                                className: E.default.searchBackground
                            }, this._renderSearchBox()), h.default.createElement("div", {
                                className: E.default.editMain
                            }, h.default.createElement("div", {
                                className: E.default.list
                            }, this.renderList()), e))
                        }
                    }]), a
                }(h.Component);
            t.default = O, O.displayName = "Categories"
        },
        1346: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(67154)),
                r = n(a(63038)),
                i = n(a(67294)),
                o = n(a(35771)),
                u = n(a(78185)),
                d = a(58435),
                s = n(a(23136)),
                c = n(a(34541)),
                f = n(a(51376)),
                p = n(a(20230)),
                m = a(31230),
                h = n(a(54882)),
                v = n(a(89115)),
                g = a(51584),
                E = n(a(78973)),
                _ = n(a(8643)),
                C = a(54587),
                y = a(68951),
                S = n(a(79077)),
                k = n(a(69267)),
                M = a(31186),
                T = i.default.useState,
                I = i.default.useEffect,
                b = 256,
                P = 512,
                w = 128,
                L = 256;
            t.default = function(e) {
                var t = e.businessProfile,
                    a = e.saveBusinessProfile,
                    n = e.sessionId,
                    O = e.verifiedName,
                    D = T(),
                    N = (0, r.default)(D, 2),
                    R = N[0],
                    A = N[1],
                    x = T(),
                    F = (0, r.default)(x, 2),
                    U = F[0],
                    B = F[1],
                    G = T(),
                    H = (0, r.default)(G, 2),
                    j = H[0],
                    V = H[1],
                    W = T(),
                    z = (0, r.default)(W, 2),
                    K = z[0],
                    Y = z[1],
                    q = T(),
                    Z = (0, r.default)(q, 2),
                    $ = Z[0],
                    X = Z[1],
                    J = T(),
                    Q = (0, r.default)(J, 2),
                    ee = Q[0],
                    te = Q[1],
                    ae = T(),
                    ne = (0, r.default)(ae, 2),
                    le = ne[0],
                    re = ne[1],
                    ie = T(),
                    oe = (0, r.default)(ie, 2),
                    ue = oe[0],
                    de = oe[1],
                    se = T(),
                    ce = (0, r.default)(se, 2),
                    fe = ce[0],
                    pe = ce[1],
                    me = T(!1),
                    he = (0, r.default)(me, 2),
                    ve = he[0],
                    ge = he[1],
                    Ee = T(),
                    _e = (0, r.default)(Ee, 2),
                    Ce = _e[0],
                    ye = _e[1];
                I((function() {
                    var e = (0, y.convertRawBusinessProfile)(t);
                    A(e.description), V(e.email), B(e.address), Y(e.primaryWebsite), X(e.secondaryWebsite), te(Boolean(e.primaryWebsite && !e.secondaryWebsite))
                }), [t]), I((function() {
                    (0, M.validateEmail)(j) && re(null)
                }), [j]), I((function() {
                    (0, M.validateURL)(K) && de(null)
                }), [K]), I((function() {
                    (0, M.validateURL)($) && pe(null)
                }), [$]);
                var Se, ke, Me, Te, Ie = function() {
                        var e = [];
                        return K && e.push(K), $ && e.push($), {
                            website: e.map((function(e, t) {
                                if (!k.default.isHttps(e) && !k.default.isHttp(e)) {
                                    var a = `https://${e}`;
                                    return 0 === t ? Y(a) : X(a), a
                                }
                                return e
                            }))
                        }
                    },
                    be = function(e) {
                        return i.default.createElement(h.default, (0, l.default)({}, e, {
                            hideEditIcon: Boolean(Ce)
                        }))
                    },
                    Pe = function(e) {
                        var r = e.setValue,
                            o = e.value,
                            u = e.fieldKey,
                            d = e.fieldMetric,
                            s = e.originalValue,
                            c = e.textFieldConfig,
                            f = e.formatForSave,
                            p = e.validate,
                            m = e.onError,
                            h = e.error,
                            v = e.lowProfile,
                            E = e.placeholder,
                            _ = e.startActive,
                            y = (null == Ce ? void 0 : Ce.fieldKey) === u,
                            k = o ? void 0 : E;
                        return i.default.createElement(S.default, (0, l.default)({
                            value: o,
                            editable: !Ce || y,
                            pending: y && (null == Ce ? void 0 : Ce.editType) === C.EditType.PENDING,
                            showRemaining: !0,
                            onBeginEdit: function() {
                                (0, g.logProfileFieldOpen)(d, t, n), ye({
                                    fieldKey: u,
                                    editType: C.EditType.EDITING
                                })
                            },
                            onChange: r,
                            onSave: function() {
                                (0, g.logProfileFieldSave)(d, t, n), ye({
                                    fieldKey: u,
                                    editType: C.EditType.PENDING
                                }), a(f()).then((function() {
                                    ye()
                                }), (function() {
                                    ye()
                                }))
                            },
                            onCancel: function() {
                                (0, g.logProfileFieldDiscard)(d, t, n), r(s), ye()
                            },
                            lockable: !0,
                            lowProfile: v,
                            multiline: !0,
                            inputPlaceholder: k,
                            theme: "text-input",
                            validate: p,
                            onError: m,
                            error: h,
                            a8n: `biz-profile-${u}-input`,
                            startActive: _
                        }, c))
                    },
                    we = (0, y.convertRawBusinessProfile)(t),
                    Le = v.default.t(401),
                    Oe = void 0;
                return (0, m.canSeeBizProfileV3)() && (Le = null, Oe = p.default.noPaddingTop), i.default.createElement(f.default, {
                    title: Le,
                    theme: "refresh",
                    className: Oe
                }, function(e) {
                    if (!e) return null;
                    var t = (0, m.canSeeBizProfileV3)() ? "no-margin" : void 0;
                    return be({
                        theme: t,
                        icon: "account-box",
                        iconClass: p.default.verifiedNameIcon,
                        content: i.default.createElement("div", null, i.default.createElement("div", null, e), i.default.createElement("div", {
                            className: p.default.infoText
                        }, v.default.t(403)))
                    })
                }(O), be({
                    icon: "business-description",
                    content: Pe({
                        value: R,
                        setValue: A,
                        originalValue: we.description,
                        fieldKey: "description",
                        fieldMetric: _.default.BUSINESS_PROFILE_FIELD.DESCRIPTION,
                        placeholder: v.default.t(393),
                        textFieldConfig: {
                            maxLength: P,
                            supportsEmoji: !0
                        },
                        lowProfile: !0,
                        formatForSave: function() {
                            return {
                                description: R
                            }
                        }
                    })
                }), be({
                    icon: "business-category",
                    type: "container",
                    emptyText: v.default.t(392),
                    content: (Te = we.categories, 0 === Te.length ? null : i.default.createElement("div", null, Te.map((function(e) {
                        return e.localized_display_name
                    })).join(v.default.t(672)))),
                    onEdit: function() {
                        (0, g.logProfileFieldOpen)(_.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, n), c.default.openModal(i.default.createElement(s.default, {
                            initialCategories: we.categories,
                            saveBusinessProfile: a,
                            searchCategories: function(e) {
                                return o.default.find(e)
                            },
                            afterSave: function() {
                                return (0, g.logProfileFieldSave)(_.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, n)
                            },
                            onCancel: function() {
                                (0, g.logProfileFieldDiscard)(_.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, n)
                            }
                        }))
                    }
                }), be({
                    icon: "business-address",
                    content: function(e) {
                        var t, a = Pe({
                                value: U,
                                placeholder: v.default.t(390),
                                setValue: B,
                                originalValue: e.address,
                                fieldKey: "address",
                                fieldMetric: _.default.BUSINESS_PROFILE_FIELD.ADDRESS,
                                textFieldConfig: {
                                    maxLength: L
                                },
                                lowProfile: !0,
                                formatForSave: function() {
                                    return {
                                        address: U
                                    }
                                }
                            }),
                            n = e.latitude,
                            l = e.longitude;
                        return null != n && null != l && (t = function(e, t) {
                            var a;
                            return "address" === (null == Ce ? void 0 : Ce.fieldKey) && (a = i.default.createElement("div", {
                                className: p.default.mapOverlay
                            }, i.default.createElement("div", {
                                className: p.default.overlayHint
                            }, v.default.t(396)))), i.default.createElement("div", {
                                style: {
                                    height: 96
                                },
                                className: p.default.businessMap
                            }, a, i.default.createElement(E.default, {
                                lat: e,
                                lng: t,
                                name: U,
                                width: 312,
                                height: 96
                            }))
                        }(n, l)), i.default.createElement(i.default.Fragment, null, a, t)
                    }(we)
                }), be({
                    icon: "business-hours",
                    type: "container",
                    emptyText: v.default.t(391),
                    content: (Se = we.hours, ke = Se.mode, Me = Se.days, null == ke ? null : i.default.createElement("div", null, Me.map((function(e) {
                        var t = e.dayName,
                            a = e.dayKey,
                            n = e.closed,
                            l = e.hours;
                        return i.default.createElement("div", {
                            key: a,
                            className: p.default.businessHoursSection
                        }, i.default.createElement("div", {
                            className: p.default.businessHoursDayColumn
                        }, t), i.default.createElement("div", {
                            className: p.default.businessHoursTimeColumn
                        }, function(e, t, a) {
                            if (t) return v.default.t(359);
                            switch (e) {
                                case d.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:
                                    return i.default.createElement(i.default.Fragment, null, a && a.map((function(e, t) {
                                        var a = (0, r.default)(e, 2),
                                            n = a[0],
                                            l = a[1];
                                        return i.default.createElement("div", {
                                            key: t,
                                            className: p.default.businessHoursTime
                                        }, n, " - ", l)
                                    })));
                                case d.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:
                                    return v.default.t(358);
                                case d.BUSINESS_HOUR_MODES.OPEN_24H:
                                    return v.default.t(370);
                                default:
                                    return null
                            }
                        }(ke, n, l)))
                    })))),
                    onEdit: function() {
                        (0, g.logProfileFieldOpen)(_.default.BUSINESS_PROFILE_FIELD.HOURS, t, n), c.default.openModal(i.default.createElement(u.default, {
                            businessHours: we.hours,
                            saveBusinessProfile: a,
                            onCancel: function() {
                                (0, g.logProfileFieldDiscard)(_.default.BUSINESS_PROFILE_FIELD.HOURS, t, n)
                            },
                            afterSave: function() {
                                return (0, g.logProfileFieldSave)(_.default.BUSINESS_PROFILE_FIELD.HOURS, t, n)
                            }
                        }))
                    }
                }), be({
                    icon: "business-email",
                    content: Pe({
                        value: j,
                        placeholder: v.default.t(394),
                        originalValue: we.email,
                        setValue: V,
                        fieldKey: "email",
                        fieldMetric: _.default.BUSINESS_PROFILE_FIELD.EMAIL,
                        textFieldConfig: {
                            maxLength: w
                        },
                        error: le,
                        lowProfile: !1,
                        formatForSave: function() {
                            return {
                                email: j
                            }
                        },
                        validate: function(e) {
                            return (0, M.validateEmail)(e)
                        },
                        onError: function() {
                            re(v.default.t(738))
                        }
                    })
                }), function(e) {
                    var t = Pe({
                        value: K,
                        placeholder: v.default.t(402),
                        originalValue: e.primaryWebsite,
                        setValue: Y,
                        fieldKey: "primaryWebsite",
                        fieldMetric: _.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                        textFieldConfig: {
                            maxLength: b
                        },
                        formatForSave: Ie,
                        lowProfile: !1,
                        validate: M.validateURL,
                        onError: function() {
                            de(v.default.t(746))
                        },
                        error: ue
                    });
                    return be({
                        icon: "business-website",
                        theme: "small-margin",
                        content: i.default.createElement("div", null, t)
                    })
                }(we), function(e) {
                    if (!e.primaryWebsite) return null;
                    if ($ || !ee) {
                        var t = Pe({
                            placeholder: v.default.t(402),
                            value: $,
                            originalValue: e.secondaryWebsite,
                            setValue: X,
                            fieldKey: "secondaryWebsite",
                            fieldMetric: _.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                            textFieldConfig: {
                                maxLength: b
                            },
                            formatForSave: Ie,
                            lowProfile: !1,
                            validate: M.validateURL,
                            onError: function() {
                                pe(v.default.t(746))
                            },
                            error: fe,
                            startActive: ve
                        });
                        return be({
                            icon: "business-website",
                            theme: "no-margin",
                            content: i.default.createElement("div", null, t)
                        })
                    }
                    var a = i.default.createElement("button", {
                        className: p.default.addAnotherWebsite,
                        onClick: function() {
                            te(!1), ge(!0)
                        }
                    }, v.default.t(389));
                    return be({
                        theme: "no-margin",
                        content: i.default.createElement("div", null, a)
                    })
                }(we))
            }
        },
        31981: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = k(C.LoadType.PENDING),
                    t = (0, r.default)(e, 2),
                    a = t[0],
                    n = t[1],
                    l = k(),
                    d = (0, r.default)(l, 2),
                    g = d[0],
                    b = d[1],
                    P = (0, u.useRef)(Math.floor(2147483648 * Math.random()).toString()),
                    w = function() {
                        var e = (0, o.default)(i.default.mark((function e() {
                            var t;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return n(C.LoadType.PENDING), e.prev = 1, e.next = 4, T();
                                    case 4:
                                        t = e.sent, b(t), n(C.LoadType.DONE), (0, _.logProfileOpen)(t, P.current), e.next = 13;
                                        break;
                                    case 10:
                                        e.prev = 10, e.t0 = e.catch(1), n(C.LoadType.ERROR);
                                    case 13:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 10]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                if (M((function() {
                        w()
                    }), []), a === C.LoadType.PENDING) return u.default.createElement("div", {
                    className: h.default.loadingSpinner
                }, u.default.createElement(y.default, {
                    color: "default",
                    size: 24,
                    stroke: 6
                }));
                if (a === C.LoadType.ERROR) return u.default.createElement(p.default, {
                    title: E.default.t(401),
                    theme: "refresh"
                }, u.default.createElement(v.FlexRow, {
                    align: "center",
                    justify: "center"
                }, u.default.createElement(v.FlexItem, null, E.default.t(399)), u.default.createElement(v.FlexItem, {
                    className: h.default.retryButton
                }, u.default.createElement(c.default, {
                    onClick: function() {
                        w()
                    },
                    type: "simplified"
                }, E.default.t(1347)))));
                if (a === C.LoadType.DONE && g) return u.default.createElement(m.default, {
                    verifiedName: f.default.pushname || void 0,
                    sessionId: P.current,
                    businessProfile: g,
                    saveBusinessProfile: function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var a;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, (0, s.editBusinessProfile)(t);
                                    case 3:
                                        e.next = 10;
                                        break;
                                    case 5:
                                        throw e.prev = 5, e.t0 = e.catch(0), (0, S.showError)(E.default.t(400)), __LOG__(3, void 0, void 0, !0)`business_profile:edit_form save failed`, SEND_LOGS(`businessProfile edit handled server error - ${e.t0.status}`), e.t0;
                                    case 10:
                                        return e.prev = 10, e.next = 13, I();
                                    case 13:
                                        return a = e.sent, b(a), e.abrupt("return", a);
                                    case 18:
                                        throw e.prev = 18, e.t1 = e.catch(10), (0, S.showError)(E.default.t(399)), e.t1;
                                    case 22:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 5],
                                [10, 18]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }()
                });
                return null
            };
            var r = l(a(63038)),
                i = l(a(87757)),
                o = l(a(48926)),
                u = n(a(67294)),
                d = l(a(93250)),
                s = a(18780),
                c = l(a(16973)),
                f = l(a(93743)),
                p = l(a(51376)),
                m = l(a(1346)),
                h = l(a(51875)),
                v = a(32002),
                g = a(71701),
                E = l(a(89115)),
                _ = a(51584),
                C = a(54587),
                y = l(a(87729)),
                S = a(80987),
                k = u.default.useState,
                M = u.default.useEffect,
                T = function() {
                    var e = (0, o.default)(i.default.mark((function e() {
                        var t, a, n;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, g.getMeUser)(), (a = d.default.get(t)) && a.markStale(), e.next = 5, d.default.find(t);
                                case 5:
                                    return n = e.sent, e.abrupt("return", n.serialize());
                                case 7:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(),
                I = function() {
                    var e = (0, o.default)(i.default.mark((function e() {
                        var t, a, n;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, g.getMeUser)(), e.next = 3, d.default.update(t);
                                case 3:
                                    return a = e.sent, n = Array.isArray(a) ? a[0] : a, e.abrupt("return", n.serialize());
                                case 6:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }()
        },
        51584: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getProfilePopulatedFields = i, t.logProfileOpen = function(e, t) {
                var a = new r.default.EditBusinessProfile((0, l.default)({
                    editProfileAction: r.default.EDIT_PROFILE_ACTION.ACTION_OPEN,
                    businessProfileEntryPoint: r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editBusinessProfileSessionId: t
                }, i(e)));
                a && a.commit()
            }, t.logProfileFieldOpen = function(e, t, a) {
                var n = new r.default.EditBusinessProfile((0, l.default)({
                    editProfileAction: r.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_OPEN,
                    businessProfileEntryPoint: r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: a
                }, i(t)));
                n && n.commit()
            }, t.logProfileFieldSave = function(e, t, a) {
                var n = new r.default.EditBusinessProfile((0, l.default)({
                    editProfileAction: r.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_SAVE,
                    businessProfileEntryPoint: r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: a
                }, i(t)));
                n && n.commit()
            }, t.logProfileFieldDiscard = function(e, t, a) {
                var n = new r.default.EditBusinessProfile((0, l.default)({
                    editProfileAction: r.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_DISCARD,
                    businessProfileEntryPoint: r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: a
                }, i(t)));
                n && n.commit()
            };
            var l = n(a(81109)),
                r = n(a(8643));

            function i(e) {
                var t;
                return {
                    hasDescription: null != e.description,
                    hasCategory: !!(e.categories && e.categories.length > 0),
                    hasHours: null != (null === (t = e.businessHours) || void 0 === t ? void 0 : t.config),
                    hasEmail: null != e.email,
                    hasAddress: null != e.address,
                    hasWebsite: null != e.website
                }
            }
        },
        68951: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.convertRawBusinessProfile = void 0;
            var l = n(a(63038)),
                r = a(30063);
            t.convertRawBusinessProfile = function(e) {
                var t = e.description,
                    a = e.email,
                    n = e.address,
                    i = e.website,
                    o = e.categories,
                    u = e.businessHours,
                    d = e.latitude,
                    s = e.longitude,
                    c = (0, l.default)(i || [], 2);
                return {
                    description: t,
                    email: a,
                    address: n,
                    primaryWebsite: c[0],
                    secondaryWebsite: c[1],
                    hours: (0, r.getBusinessHoursForEdit)(u),
                    categories: o || [],
                    latitude: d,
                    longitude: s
                }
            }
        },
        80987: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.showError = void 0;
            var r = l(a(67294)),
                i = l(a(34541)),
                o = n(a(92631));
            t.showError = function(e) {
                i.default.openToast(r.default.createElement(o.default, {
                    msg: e,
                    duration: 6e3,
                    id: (0, o.genId)()
                }))
            }
        },
        54882: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(13732)),
                u = n(a(89115)),
                d = n(a(27698)),
                s = n(a(75131));
            t.default = function(e) {
                var t, a, n = e.icon,
                    c = e.iconClass,
                    f = e.content,
                    p = e.onEdit,
                    m = e.type,
                    h = void 0 === m ? "field" : m,
                    v = e.emptyText,
                    g = e.hideEditIcon,
                    E = e.theme,
                    _ = p ? i.default.createElement("div", {
                        className: (0, r.default)(o.default.sectionEditIcon, (0, l.default)({}, o.default.hidden, g))
                    }, i.default.createElement(d.default, {
                        "aria-label": u.default.t(655),
                        name: "pencil",
                        className: o.default.editPencil,
                        directional: !0,
                        title: u.default.t(655),
                        onClick: function() {
                            p()
                        }
                    })) : void 0,
                    C = v && !f,
                    y = C ? v : f,
                    S = n ? i.default.createElement(s.default, {
                        name: n
                    }) : null;
                return i.default.createElement("div", {
                    className: (0, r.default)(o.default.section, (t = {}, (0, l.default)(t, o.default.smallMargin, "small-margin" === E), (0, l.default)(t, o.default.noMargin, "no-margin" === E), t))
                }, i.default.createElement("div", {
                    className: (0, r.default)(o.default.sectionPrimaryIcon, c, (0, l.default)({}, o.default.fieldPrimaryIcon, "field" === h))
                }, S), i.default.createElement("div", {
                    className: (0, r.default)(o.default.sectionMain, (a = {}, (0, l.default)(a, o.default.sectionContainerMain, "container" === h), (0, l.default)(a, o.default.sectionEmptyText, C), a))
                }, y), _)
            }
        },
        57986: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.CartDetailDrawer = void 0;
            var i = r(a(87757)),
                o = r(a(63038)),
                u = r(a(48926)),
                d = r(a(34575)),
                s = r(a(93913)),
                c = r(a(2205)),
                f = r(a(99842)),
                p = a(19087),
                m = l(a(67294)),
                h = r(a(93250)),
                v = a(79984),
                g = r(a(16973)),
                E = r(a(73293)),
                _ = r(a(41671)),
                C = r(a(56212)),
                y = r(a(60237)),
                S = r(a(34541)),
                k = r(a(25960)),
                M = r(a(34263)),
                T = l(a(54442)),
                I = r(a(81997)),
                b = r(a(25259)),
                P = r(a(66015)),
                w = l(a(62647)),
                L = l(a(98569)),
                O = r(a(50842)),
                D = r(a(96658)),
                N = r(a(89115)),
                R = r(a(68390)),
                A = a(74725),
                x = a(92919),
                F = r(a(38088)),
                U = r(a(63309)),
                B = a(79164),
                G = r(a(42027)),
                H = r(a(6721)),
                j = r(a(40746)),
                V = r(a(72041)),
                W = r(a(93177)),
                z = r(a(75131)),
                K = a(28770),
                Y = r(a(19056)),
                q = r(a(38512)),
                Z = function(e) {
                    (0, c.default)(a, e);
                    var t = (0, f.default)(a);

                    function a(e) {
                        var l;
                        (0, d.default)(this, a), (l = t.call(this, e))._cartFlatListController = new O.default, l.updateData = function() {
                            var e = (0, u.default)(i.default.mark((function e(t) {
                                var a, r, u, d, s;
                                return i.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, n.all([t ? (0, H.default)(l.state.cart) : n.resolve(), h.default.find(l.props.chat.id)]);
                                        case 2:
                                            a = e.sent, r = (0, o.default)(a, 2), u = r[0], d = r[1], u && (l.refreshedCart = u), s = (0, F.default)(l.state.cart, l.refreshedCart), l.setState({
                                                businessProfile: d,
                                                cartProductItems: s,
                                                isLoading: !1
                                            });
                                        case 9:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), l.handleSend = function() {
                            var e = l.state.cart;
                            l.setState({
                                isLoading: !0
                            }), (0, W.default)(e, l.props.chat).then((function(t) {
                                var a = Boolean(e.message);
                                (0, A.logSendOrderMessage)({
                                    orderId: t,
                                    catalogOwnerJid: e.id,
                                    catalogContext: (0, B.getProductCatalogContext)(l.context),
                                    isOrderMsgAttached: a,
                                    quantity: e.itemCount
                                }), l.props.onBack(), (0, y.default)(e), e.message = void 0, l.props.closeDrawerRightOnSend && l._closeDrawerRight()
                            })).catch((function() {
                                __LOG__(4, !0, new Error, !0)`Unable to create catalog order`, SEND_LOGS("submitOrder: order creation or order message send error"), (0, V.default)(), l.updateData(!0)
                            })).finally((function() {
                                l.setState({
                                    isLoading: !1
                                })
                            }))
                        }, l.handleChange = function(e) {
                            var t = l.state.cart;
                            l.setState({
                                cartMessage: e
                            }, (function() {
                                (0, Y.default)(t, e)
                            }))
                        }, l._setRefMessageInput = function(e) {
                            l._refMessageInput = e
                        }, l.handleMaxPasteExceeded = function() {
                            S.default.openModal(m.default.createElement(k.default, {
                                title: N.default.t(433),
                                onOK: function() {
                                    S.default.closeModal()
                                },
                                okText: N.default.t(1865)
                            }, N.default.t(432)))
                        }, l.updateDataQueue = new p.PromiseQueue;
                        var r = E.default.findCart(l.props.sellerJid);
                        return l.state = {
                            isLoading: !0,
                            businessProfile: void 0,
                            cartProductItems: [],
                            cartMessage: r.message,
                            cart: r
                        }, l
                    }
                    return (0, s.default)(a, [{
                        key: "_closeDrawerRight",
                        value: function() {
                            S.default.existsDrawerRight((function(e) {
                                e && S.default.closeDrawerRight()
                            }))
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.state.cart,
                                a = this.props,
                                n = a.listeners,
                                l = a.rejectOnUnmount;
                            n.add(t, "change:cartItemCollection", (function() {
                                e.updateDataQueue.enqueue((function() {
                                    return e.updateData()
                                }))
                            })), this.updateData(!0).checkpoint(l()).then((function() {
                                (0, x.logCartListImpression)(t.id.toString(), (0, B.getProductCatalogContext)(e.context))
                            })).catchType(L.Unmount, (function() {})).catch((function() {
                                __LOG__(4, !0, new Error, !0)`Unable to open the cart`, SEND_LOGS("openCart: failed to open the cart"), (0, V.default)(), (0, y.default)(t)
                            })).finally((function() {
                                e.setState({
                                    isLoading: !1
                                })
                            }))
                        }
                    }, {
                        key: "_emptyCartContent",
                        value: function() {
                            return m.default.createElement("div", {
                                className: _.default.emptyCartContainer
                            }, m.default.createElement(z.default, {
                                name: "shopping-cart-empty"
                            }), m.default.createElement(K.TextDiv, {
                                className: _.default.emptyCardHeader,
                                theme: "large"
                            }, N.default.t(425)), m.default.createElement(K.TextDiv, {
                                className: _.default.emptyCardText,
                                theme: "plain"
                            }, N.default.t(426)), (0, v.hasCatalog)(this.state.businessProfile) && m.default.createElement(g.default, {
                                onClick: this.props.onProductCatalog,
                                type: "primary"
                            }, N.default.t(1273)))
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this.props,
                                t = e.chat,
                                a = e.sellerJid,
                                n = this.state.cart;
                            if (this.state.isLoading) return m.default.createElement(D.default, null);
                            var l, r, i = n.itemCount,
                                o = i > 0;
                            if (o) {
                                var u = N.default.t(925, {
                                    count: i,
                                    _plural: i
                                });
                                l = m.default.createElement(K.TextDiv, {
                                    theme: "title"
                                }, u)
                            }
                            null != n.total && null != n.currency ? r = m.default.createElement(K.TextDiv, {
                                theme: "muted-small"
                            }, N.default.t(1240, {
                                subtotal: T.format(n.currency, n.total)
                            })) : i > 0 && (r = m.default.createElement(K.TextDiv, {
                                theme: "muted-small"
                            }, N.default.t(1236)));
                            var d = m.default.createElement(q.default, {
                                    transitionName: "media-caption",
                                    className: _.default.cartMessage
                                }, m.default.createElement(U.default, {
                                    ref: this._setRefMessageInput,
                                    chat: t,
                                    maxLength: M.default.MAX_CART_MESSAGE_LENGTH,
                                    multiline: !0,
                                    onEnter: this.handleSend,
                                    onChange: this.handleChange,
                                    onMaxPasteExceeded: this.handleMaxPasteExceeded,
                                    placeholder: N.default.t(431),
                                    showRemaining: !0,
                                    spellCheck: !0,
                                    supportsEmoji: !0,
                                    value: this.state.cartMessage
                                })),
                                s = m.default.createElement("button", {
                                    className: _.default.btnSend,
                                    tabIndex: "-1",
                                    onClick: this.handleSend,
                                    title: N.default.t(436)
                                }, m.default.createElement(j.default, {
                                    large: !0
                                }, m.default.createElement(z.default, {
                                    name: "send",
                                    directional: !0
                                })));
                            return m.default.createElement(m.default.Fragment, null, !o && this._emptyCartContent(), m.default.createElement("div", {
                                className: _.default.info
                            }, l, r), m.default.createElement(C.default, {
                                flatListController: this._cartFlatListController,
                                onProductDetail: this.props.onProductDetail,
                                cart: n,
                                sellerJid: a,
                                cartProductItems: this.state.cartProductItems
                            }), o && m.default.createElement("div", {
                                className: _.default.footer
                            }, d, m.default.createElement(q.default, {
                                transitionAppear: !0,
                                transitionName: "btn"
                            }, s)))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.onBack;
                            return m.default.createElement(I.default, {
                                onDrop: e,
                                theme: "striped"
                            }, m.default.createElement(w.default, {
                                title: N.default.t(424),
                                type: w.DRAWER_HEADER_TYPE.SMALL,
                                onBack: e
                            }), m.default.createElement(b.default, {
                                flatListControllers: [this._cartFlatListController]
                            }, this._getDrawerContent()))
                        }
                    }]), a
                }(m.Component);
            t.CartDetailDrawer = Z, Z.contextType = P.default, Z.displayName = "CartDetailDrawer";
            var $ = (0, G.default)((0, R.default)(Z));
            t.default = $
        },
        56212: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.cartProductItems,
                    a = e.onProductDetail,
                    n = e.sellerJid;
                return r.default.createElement(d.default, {
                    flatListControllers: [e.flatListController]
                }, r.default.createElement(u.default, {
                    flatListController: e.flatListController,
                    direction: "vertical",
                    forceConsistentRenderCount: !1,
                    data: t.map((function(e) {
                        return {
                            itemKey: e.cartItem.id,
                            contentKey: l.default.uniqueId("cartItem"),
                            product: e.product,
                            cartItem: e.cartItem
                        }
                    })),
                    renderItem: function(e) {
                        var t = {
                            productId: e.cartItem.id,
                            businessOwnerJid: n
                        };
                        return r.default.createElement(i.default, {
                            cartId: n,
                            product: e.product,
                            quantity: e.cartItem.quantity,
                            onClick: function() {
                                return a(t)
                            }
                        })
                    },
                    defaultItemHeight: o.default.PRODUCT_LIST_ITEM_HEIGHT
                }))
            };
            var l = n(a(96486)),
                r = n(a(67294)),
                i = n(a(36383)),
                o = n(a(34263)),
                u = n(a(60482)),
                d = n(a(55959))
        },
        36383: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = e.product,
                    E = e.onClick,
                    _ = l.default.createElement(c.default, {
                        text: n.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    C = null === (t = n.getPreviewImage()) || void 0 === t ? void 0 : t.mediaData;
                a = C ? l.default.createElement(v.default, {
                    theme: "list",
                    mediaData: C
                }) : l.default.createElement(l.default.Fragment, null);
                var y = l.default.createElement(h.default, {
                    className: r.default.price,
                    product: n,
                    fallback: f.default.t(427)
                });
                return l.default.createElement(o.default, {
                    key: n.id.toString(),
                    image: a,
                    customImage: !0,
                    primary: _,
                    secondary: y,
                    theme: "cart-product",
                    onClick: E,
                    detail: l.default.createElement(s.default.Consumer, null, (function(t) {
                        return l.default.createElement("div", {
                            className: r.default.actions
                        }, l.default.createElement(i.default, {
                            quantity: e.quantity,
                            onChange: function(a) {
                                return function(t, a) {
                                    var n = e.cartId,
                                        l = e.product;
                                    (0, g.default)(n, l, t), (0, p.logEditProduct)(l, a, t)
                                }(a, (0, m.getProductCatalogContext)(t))
                            }
                        }), l.default.createElement("div", {
                            className: r.default.deleteIcon
                        }, l.default.createElement(u.default, {
                            onClick: function(a) {
                                return function(t, a) {
                                    var n = e.cartId,
                                        l = e.product,
                                        r = (0, d.default)(n, l.id.toString());
                                    (0, d.default)(n, l.id.toString()), (0, p.logDeleteProduct)(l, a), 0 === r && (0, p.logCartAbandon)(l.catalogWid.toString(), a),
                                        function(e) {
                                            e.preventDefault(), e.stopPropagation()
                                        }(t)
                                }(a, (0, m.getProductCatalogContext)(t))
                            }
                        })))
                    })),
                    className: r.default.cartListItem
                })
            };
            var l = n(a(67294)),
                r = n(a(95827)),
                i = n(a(726)),
                o = n(a(10598)),
                u = n(a(72159)),
                d = n(a(70539)),
                s = n(a(66015)),
                c = n(a(41769)),
                f = n(a(89115)),
                p = a(92919),
                m = a(79164),
                h = n(a(69027)),
                v = n(a(5548)),
                g = n(a(31493))
        },
        726: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return l.default.createElement("div", {
                    className: i.default.select
                }, l.default.createElement("select", {
                    onClick: function(e) {
                        e.preventDefault(), e.stopPropagation()
                    },
                    value: e.quantity,
                    onChange: function(t) {
                        var a = t.target;
                        a instanceof HTMLSelectElement && e.onChange(parseInt(a.value, 10))
                    }
                }, function() {
                    for (var e = [], t = 1; t <= r.MAX_QUANTITY; t++) e.push(l.default.createElement("option", {
                        key: t,
                        value: t
                    }, t));
                    return e
                }()))
            };
            var l = n(a(67294)),
                r = a(26829),
                i = n(a(98307))
        },
        72159: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return l.default.createElement(o.default, {
                    "aria-label": i.default.t(1284),
                    name: "delete",
                    title: i.default.t(1284),
                    className: r.default.deleteIcon,
                    onClick: e.onClick
                })
            };
            var l = n(a(67294)),
                r = n(a(86536)),
                i = n(a(89115)),
                o = n(a(27698))
        },
        56140: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(67294)),
                r = n(a(97930)),
                i = n(a(10598)),
                o = n(a(79140)),
                u = n(a(4389));
            t.default = function(e) {
                var t = e.title,
                    a = e.icon,
                    n = e.t,
                    d = null != n ? o.default.relativeDateAndTimeStr(n) : "-",
                    s = l.default.createElement("div", {
                        className: u.default.title,
                        "data-a8n": r.default.key("msg-info-title")
                    }, a, t);
                return l.default.createElement(i.default, {
                    primary: s,
                    secondary: d,
                    theme: "plain",
                    idle: !0
                })
            }
        },
        64946: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = (0, s.default)(e.msgInfoParticipant, ["t"]),
                    n = (0, s.default)(e.contact, ["id", "name", "formattedName", "notifyName"]),
                    c = l.default.createElement(o.default, {
                        id: n.id
                    }),
                    f = i.default.relativeDateAndTimeStr(a.t),
                    p = l.default.createElement("span", {
                        title: f
                    }, f);
                !n.name && n.notifyName && (t = l.default.createElement(u.default, {
                    className: d.default.notifyName,
                    direction: "auto",
                    text: n.notifyName
                }));
                return l.default.createElement(r.default, {
                    contextEnabled: function() {
                        return !1
                    },
                    image: c,
                    primary: l.default.createElement(u.default, {
                        direction: "auto",
                        text: n.formattedName,
                        titlify: !0,
                        ellipsify: !0
                    }),
                    secondary: p,
                    secondaryDetail: t,
                    style: {
                        cursor: "auto"
                    },
                    theme: "drawer-list",
                    idle: !0
                })
            };
            var l = n(a(67294)),
                r = n(a(17485)),
                i = n(a(79140)),
                o = n(a(42575)),
                u = n(a(41769)),
                d = n(a(42684)),
                s = n(a(33819))
        },
        96213: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, d.default)(e.msg, ["numTimesForwarded", "isFrequentlyForwarded"]),
                    a = t.numTimesForwarded,
                    n = t.isFrequentlyForwarded;
                if (a <= 0 || n) return null;
                var s = l.default.createElement(o.default, {
                        name: "forwarded",
                        display: "inline",
                        className: i.default.icon
                    }),
                    c = r.default.t(769, {
                        count: a,
                        _plural: a
                    });
                return l.default.createElement("div", {
                    className: i.default.title
                }, s, l.default.createElement(u.TextSpan, {
                    theme: "title",
                    className: i.default.text
                }, c))
            };
            var l = n(a(67294)),
                r = n(a(89115)),
                i = n(a(70180)),
                o = n(a(75131)),
                u = a(28770),
                d = n(a(33819))
        },
        68815: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(319)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = n(a(67294)),
                c = l(a(46876)),
                f = n(a(72259)),
                p = l(a(26671)),
                m = l(a(34263)),
                h = n(a(63637)),
                v = l(a(96257)),
                g = n(a(60482)),
                E = l(a(76568)),
                _ = l(a(89115)),
                C = l(a(48873)),
                y = l(a(10560)),
                S = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).selection = new y.default([], (function(e) {
                            return e.id.toString()
                        })), e._getSelectionList = function() {
                            var t = e.props,
                                a = t.contacts,
                                n = t.frequentContacts,
                                l = [],
                                r = [];
                            return a.forEach((function(e) {
                                if (e.isGroup) {
                                    var t = p.default.get(e.id);
                                    t && r.push(t)
                                } else l.push(e)
                            })), (n || []).concat(l).concat(r)
                        }, e.onFocusGain = function(t) {
                            t.target === e.refList && (e.selection.index < 0 ? e.focusFirst() : e.selection.reset(!0))
                        }, e.focusFirst = function() {
                            e.selection.setFirst(!0)
                        }, e._onNextContact = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.setNext(!0)
                        }, e._onPrevContact = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.prev() > -1 ? e.selection.setPrev(!0) : (e.selection.unset(), e.props.onFocusSearch(t))
                        }, e.setRefHotKeys = function(t) {
                            e.refList = t
                        }, e._renderContact = function(t, a) {
                            var n;
                            return t.isBlocked() && (n = _.default.t(579)), s.default.createElement(h.default, {
                                active: e.selection,
                                contact: t,
                                onClick: e.props.onClick,
                                secondary: n,
                                frequent: a,
                                waitIdle: !0
                            })
                        }, e.renderItem = function(t) {
                            switch (t.type) {
                                case 0:
                                    return s.default.createElement(C.default, {
                                        key: "frequent-contacts-header",
                                        header: _.default.t(1740)
                                    });
                                case 3:
                                    var a = t.data,
                                        n = t.frequent;
                                    return e._renderChat(a, n);
                                case 2:
                                    var l = t.data,
                                        r = t.frequent;
                                    return e._renderContact(l, r);
                                case 1:
                                    var i = t.data,
                                        o = t.separator;
                                    return s.default.createElement("div", {
                                        className: v.default.header
                                    }, o ? s.default.createElement(c.default, {
                                        key: `separator-${i}`
                                    }) : null, s.default.createElement(C.default, {
                                        header: i
                                    }));
                                default:
                                    throw new g.UnknownDataError(t)
                            }
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "_renderChat",
                        value: function(e, t) {
                            return s.default.createElement(f.default, {
                                active: this.selection,
                                chat: e,
                                mode: f.Mode.INFO,
                                noContext: !0,
                                onClick: this.props.onClick,
                                frequent: t
                            })
                        }
                    }, {
                        key: "_getFrequentContactsData",
                        value: function(e) {
                            var t = this,
                                a = [];
                            return e.forEach((function(e) {
                                var n = t._getContactDataItem(e, !0);
                                n && a.push(n)
                            })), a
                        }
                    }, {
                        key: "_getContactDataItem",
                        value: function(e, t) {
                            var a = (t ? h.FREQUENT_PREFIX : "") + e.id.toString();
                            if (e.isGroup) {
                                var n = p.default.get(e.id);
                                return n ? {
                                    itemKey: a,
                                    data: n,
                                    type: 3,
                                    frequent: t
                                } : null
                            }
                            return {
                                itemKey: a,
                                data: e,
                                type: 2,
                                frequent: t
                            }
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.props.frequentContacts,
                                t = [],
                                a = [],
                                n = [];
                            e && e.length && (t.push({
                                itemKey: "frequent-contacts-header",
                                type: 0
                            }), t.push.apply(t, (0, r.default)(this._getFrequentContactsData(e)))), this.props.contacts.forEach((function(e) {
                                e.isGroup ? n.push(e) : a.push(e)
                            }));
                            var l = this._getDataFromContacts(a),
                                i = this._getDataFromContacts(n);
                            if (this.props.showPersonGroupDivisionHeader && l.length > 0) {
                                var o = _.default.t(1711);
                                t.push({
                                    itemKey: `header-${o}`,
                                    data: o,
                                    separator: !0,
                                    type: 1
                                })
                            }
                            if (t.push.apply(t, (0, r.default)(l)), this.props.showPersonGroupDivisionHeader && i.length > 0) {
                                var u = _.default.t(1818);
                                t.push({
                                    itemKey: `header-${u}`,
                                    data: u,
                                    separator: !0,
                                    type: 1
                                })
                            }
                            return t.push.apply(t, (0, r.default)(i)), t
                        }
                    }, {
                        key: "_getDataFromContacts",
                        value: function(e) {
                            if (0 === e.length) return [];
                            for (var t = e[0].isGroup ? "group" : "contact", a = [], n = e.length > 10, l = "XXX", r = 0; r < e.length; r++) {
                                var i = e[r];
                                if (n && i.header) {
                                    var o = i.header;
                                    if (o !== l) {
                                        var u = r < e.length - 1 && o !== e[r + 1].header;
                                        a.push({
                                            itemKey: `header-${t}-${o}`,
                                            data: o,
                                            separator: u,
                                            type: 1
                                        }), l = o
                                    }
                                }
                                var d = this._getContactDataItem(i);
                                d && a.push(d)
                            }
                            return a
                        }
                    }, {
                        key: "render",
                        value: function() {
                            this.selection.init(this._getSelectionList());
                            var e = {
                                down: this._onNextContact,
                                up: this._onPrevContact
                            };
                            return s.default.createElement(E.default, {
                                onRef: this.setRefHotKeys,
                                handlers: e,
                                onFocus: this.onFocusGain,
                                "data-tab": m.default.TAB_ORDERS.CHAT_CONTACT_LIST,
                                "data-testid": "contact-list-key"
                            }, s.default.createElement(g.default, {
                                data: this.getData(),
                                renderItem: this.renderItem,
                                flatListController: this.props.flatListController,
                                direction: "vertical"
                            }))
                        }
                    }]), a
                }(s.PureComponent);
            t.default = S, S.displayName = "ContactList"
        },
        14883: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = n(a(63637)),
                f = l(a(76568)),
                p = l(a(89115)),
                m = l(a(10560)),
                h = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).focusLast = function() {
                            n.props.contacts && n.props.contacts.length && n.selection.setLast(!0)
                        }, n._focusPrev = function(e) {
                            e.preventDefault(), e.stopPropagation(), n.selection.prev() > -1 && n.selection.setPrev(!0)
                        }, n._focusNext = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = n.props.onFocusSearch,
                                a = n.selection.next();
                            n.selection.index === a ? (n.selection.unset(), t && t(e)) : n.selection.setNext(!0)
                        }, n._deleteContact = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = n.props.onDelete,
                                a = n.selection.getVal();
                            if (a) {
                                var l = n.props.contacts.find(a);
                                l && t && t(e, l)
                            }
                        }, n.onParticipantClick = function(e, t) {
                            n.selection.setVal(t)
                        }, n.selection = new m.default(e.contacts, (function(e) {
                            return e.id
                        })), n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidUpdate",
                        value: function() {
                            this.selection.init(this.props.contacts, !0)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props.contacts;
                            if (!t) return null;
                            var a = t.length ? d.default.map(t, (function(t) {
                                    return s.default.createElement(c.default, {
                                        contact: t,
                                        active: e.selection,
                                        onDelete: e.props.onDelete,
                                        onClick: e.onParticipantClick,
                                        type: c.Type.SMALL,
                                        key: t.id.toString(),
                                        theme: e.props.theme,
                                        waitIdle: !0
                                    })
                                })) : null,
                                n = {
                                    up: this._focusPrev,
                                    down: this._focusNext
                                };
                            this.props.onDelete && (n[p.default.LR("left", "right")] = this._focusPrev, n[p.default.LR("right", "left")] = this._focusNext, n.backspace = this._deleteContact);
                            var l = s.default.createElement("ul", null, a);
                            return s.default.createElement(f.default, {
                                handlers: n
                            }, l)
                        }
                    }]), a
                }(s.PureComponent);
            t.default = h, h.displayName = "ParticipantList"
        },
        58692: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = e.ids,
                    l = e.size,
                    s = e.onClick,
                    c = e.showCount,
                    f = e.square,
                    p = e.border,
                    m = n.length;
                if (0 === m) return null;
                if (1 === m) return o.default.createElement(d.default, {
                    id: n[0],
                    size: 40,
                    onClick: s,
                    border: p
                });
                var h = n.slice(0, 4).map((function(e, t) {
                        var a;
                        return o.default.createElement("div", {
                            key: `avatar-combo-image-${t}`,
                            className: (0, i.default)(u.default.avatar, (a = {}, (0, r.default)(a, u.default.first, 0 === t), (0, r.default)(a, u.default.second, 1 === t), (0, r.default)(a, u.default.third, 2 === t), (0, r.default)(a, u.default.fourth, 3 === t), a))
                        }, o.default.createElement(d.default, {
                            id: e,
                            size: l,
                            square: !0
                        }))
                    })),
                    v = (0, i.default)(u.default.container, (t = {}, (0, r.default)(t, u.default.square, f), (0, r.default)(t, u.default.border, p), t), (a = {}, (0, r.default)(a, u.default.two, 2 === m), (0, r.default)(a, u.default.three, 3 === m), (0, r.default)(a, u.default.four, m >= 4), a)),
                    g = (0, d.getSize)(l),
                    E = {
                        height: g,
                        width: g,
                        cursor: s ? "pointer" : void 0
                    },
                    _ = c ? o.default.createElement("div", {
                        className: u.default.count,
                        style: E
                    }, n.length) : null;
                return o.default.createElement("div", {
                    className: v,
                    style: E,
                    onClick: s
                }, h, _)
            };
            var r = l(a(59713)),
                i = l(a(94184)),
                o = l(a(67294)),
                u = l(a(87240)),
                d = n(a(42575))
        },
        11797: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return l.default.createElement("div", {
                    className: i.default.overlay,
                    key: "avatar-overlay"
                }, l.default.createElement("div", {
                    className: i.default.icon
                }, e.icon), l.default.createElement("div", {
                    "data-a8n": r.default.key("avatar-text"),
                    className: i.default.text
                }, e.text))
            };
            var l = n(a(67294)),
                r = n(a(97930)),
                i = n(a(19122))
        },
        66607: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.onClick,
                    n = e.className,
                    s = e.label,
                    c = e.prefixIcon,
                    f = e.postfixIcon,
                    p = (0, r.default)(o.default.icon, (0, l.default)({}, o.default.paddedIcon, "padded-svg" === e.iconTheme));
                return i.default.createElement(d.default, {
                    className: (0, r.default)(n, o.default.container, (t = {}, (0, l.default)(t, o.default.hasPrefixIcon, null != c), (0, l.default)(t, o.default.hasPostfixIcon, null != f), t)),
                    onClick: a,
                    "aria-label": e["aria-label"]
                }, c && i.default.createElement(u.default, {
                    name: c,
                    className: (0, r.default)(p, o.default.prefixIcon)
                }), i.default.createElement("div", {
                    className: o.default.content
                }, s), f && i.default.createElement(u.default, {
                    name: f,
                    className: p
                }))
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(97719)),
                u = n(a(75131)),
                d = n(a(23225))
        },
        21376: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.children,
                    a = e.download,
                    n = e.file,
                    u = e.extension;
                return l.default.createElement(o.default, {
                    className: r.default.download_button,
                    onClick: function() {
                        null != n && i.default.downloadData(n, a, u)
                    }
                }, t)
            };
            var l = n(a(67294)),
                r = n(a(38354)),
                i = n(a(62993)),
                o = n(a(23225))
        },
        62978: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, n.useRef)(null),
                    a = (0, n.useRef)(!1);
                return (0, n.useEffect)((function() {
                    if (null != e) {
                        var n = "PointerEvent" in window;
                        return n ? (document.addEventListener("pointerdown", r), document.addEventListener("pointermove", i), document.addEventListener("pointerup", o)) : document.addEventListener("click", u),
                            function() {
                                n ? (document.removeEventListener("pointerdown", r), document.removeEventListener("pointermove", i), document.removeEventListener("pointerup", o)) : document.removeEventListener("click", u)
                            }
                    }

                    function l(e) {
                        var a = t.current;
                        return !!a && (e instanceof Node && !a.contains(e))
                    }

                    function r(e) {
                        if (e.isPrimary) {
                            var t = l(e.target);
                            a.current = t
                        }
                    }

                    function i(e) {
                        "touch" !== e.pointerType && "pen" !== e.pointerType || (a.current = !1)
                    }

                    function o(t) {
                        var n = l(t.target);
                        a.current && n && t.isPrimary && e(t), a.current = !1
                    }

                    function u(t) {
                        l(t.target) && e(t)
                    }
                }), [e]), t
            };
            var n = a(67294)
        },
        23227: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = l(a(91080)),
                f = l(a(96486)),
                p = n(a(67294)),
                m = l(a(34263)),
                h = a(17890),
                v = l(a(80413)),
                g = l(a(31722)),
                E = l(a(76568)),
                _ = l(a(34531)),
                C = l(a(89115)),
                y = l(a(45599)),
                S = l(a(10560)),
                k = l(a(87729)),
                M = l(a(35997)),
                T = l(a(23225)),
                I = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {}, e._setRefBody = function(t) {
                            e._refBody = t
                        }, e._refImages = new Map, e.setRefImage = function(t, a) {
                            a ? e._refImages.set(t, a) : e._refImages.delete(t)
                        }, e._setImageRefCache = new y.default(e.setRefImage), e.selection = new S.default(e.props.thumbnails, (function(e) {
                            return e.id
                        })), e._handleHotKeysRef = function(t) {
                            e._refHotKeys = t
                        }, e.handleMouseDown = function(e) {
                            e.preventDefault(), e.stopPropagation()
                        }, e.handleClick = function(t) {
                            var a = t.target;
                            e.props.onImageClick && 1 === a.nodeType && "IMG" === a.tagName && e.props.onImageClick(a.src)
                        }, e.handleEnter = function() {
                            var t = e.selection.getVal();
                            t || (__LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("No value selected, but enter clicked")), e.props.onImageClick && t && e.props.onImageClick(t.thumbUrl)
                        }, e._requestMoreImagesIfNeeded = function() {
                            if (!e.props.isLoadingMore && e.props.canLoadMore && e.props.onRequestMoreImages) {
                                if (!e._refBody) throw new Error("Requesting more images when body not rendered");
                                e._refBody.scrollTop + m.default.SCROLL_FUDGE > e._refBody.scrollHeight - e._refBody.clientHeight && e.props.onRequestMoreImages()
                            }
                        }, e.handleScroll = e.props.throttle(e._requestMoreImagesIfNeeded, 100), e._selectPrev = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.setPrev(!1), e._updateSelected(!0, !0)
                        }, e.selectNext = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.setNext(!1), e._updateSelected(!0, !0)
                        }, e._selectPrevRow = function(t) {
                            if (t.preventDefault(), t.stopPropagation(), 0 === e.selection.index && e.props.onFocusPrev) e.props.onFocusPrev();
                            else {
                                var a = Math.max(e.selection.index - 3, 0);
                                e.selection.set(a, !1, !1), e._updateSelected(!0, !0)
                            }
                        }, e._selectNextRow = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.set(e.selection.index + 3, !1, !1), e._updateSelected(!0, !0)
                        }, e._handleFocus = function(t) {
                            t.stopPropagation(), t.preventDefault(), (null == e.selection.index || e.selection.index < 0) && e.selection.setFirst(!1), e._updateSelected(!0, !1);
                            var a = (0, c.default)(e._refImages.get(`${e.selection.index}`), "_this._refImages.get(`${_this.selection.index}`)").getElementsByClassName(_.default.imageGalleryItemOverlay);
                            if (1 !== a.length) throw new Error(`Unexpected number of overlay elements ${a.length}`);
                            v.default.maybeIndicateFocus(a[0], _.default.focusAnimation)
                        }, e.handleRequestDismiss = function() {
                            e.selection.unset(), e.setState({
                                selectedImage: void 0
                            })
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._updateSelected()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._requestMoreImagesIfNeeded(), this.selection.init(this.props.thumbnails, !1), this._updateSelected()
                        }
                    }, {
                        key: "focus",
                        value: function() {
                            this._refHotKeys && this._refHotKeys.focus()
                        }
                    }, {
                        key: "_updateSelected",
                        value: function() {
                            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                                t = this.selection.getVal();
                            if (t && this.state.selectedImage !== t && (this.setState({
                                    selectedImage: t
                                }), this.selection.index > -1)) {
                                var a = this._refImages.get(`${this.selection.index}`);
                                g.default.focus(a), e && a && (0, h.scrollIntoViewIfNeeded)(a, !1)
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = {
                                    down: this._selectNextRow,
                                    enter: this.handleEnter,
                                    left: this._selectPrev,
                                    right: this.selectNext,
                                    up: this._selectPrevRow
                                },
                                a = f.default.map(this.props.thumbnails, (function(t, a) {
                                    var n = t.id,
                                        l = t.name,
                                        i = t.thumbUrl,
                                        o = !!e.state.selectedImage && e.state.selectedImage.id === n,
                                        u = (0, s.default)(_.default.imageGalleryItem, (0, r.default)({}, _.default.selected, o)),
                                        d = p.default.createElement("div", {
                                            className: _.default.imageGalleryItemOverlay
                                        });
                                    return p.default.createElement("div", {
                                        key: n,
                                        ref: e._setImageRefCache.getRefSetter(`${a}`),
                                        className: u,
                                        tabIndex: -1
                                    }, d, p.default.createElement(T.default, {
                                        onClick: e.handleClick
                                    }, p.default.createElement("img", {
                                        alt: C.default.t(30, {
                                            name: l
                                        }),
                                        className: _.default.imageGalleryItemImage,
                                        src: i
                                    })))
                                })),
                                n = this.props.isLoadingMore ? p.default.createElement("div", {
                                    tabIndex: -1,
                                    className: _.default.imageGalleryFooter
                                }, p.default.createElement(k.default, {
                                    stroke: 6,
                                    size: 24
                                })) : null;
                            return p.default.createElement(E.default, {
                                className: _.default.imageGallery,
                                "data-tab": m.default.TAB_ORDERS.CHAT_IMAGE_GALLERY,
                                handlers: t,
                                onFocus: this._handleFocus,
                                onMouseDown: this.handleMouseDown,
                                onRef: this._handleHotKeysRef
                            }, p.default.createElement("div", {
                                ref: this._setRefBody,
                                className: _.default.imageGalleryList,
                                onScroll: this.handleScroll
                            }, a, p.default.createElement("div", {
                                tabIndex: -1,
                                className: _.default.imageGalleryItemSpacer
                            }), p.default.createElement("div", {
                                tabIndex: -1,
                                className: _.default.imageGalleryItemSpacer
                            }), p.default.createElement("div", {
                                tabIndex: -1,
                                className: _.default.imageGalleryItemSpacer
                            }), n))
                        }
                    }]), a
                }(p.PureComponent);
            I.defaultProps = {
                thumbnails: []
            }, I.displayName = "ImageGallery";
            var b = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    return (0, i.default)(this, a), t.apply(this, arguments)
                }
                return (0, o.default)(a, [{
                    key: "focus",
                    value: function() {
                        this.getComponent().focus()
                    }
                }]), a
            }((0, M.default)(I));
            t.default = b
        },
        82554: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.action,
                    a = e.addModifiers,
                    n = void 0 === a || a,
                    c = (0, o.getShortcutKey)(t);
                if (!c) return null;
                var f, p = s(c);
                f = -1 === p.indexOf(d) ? l.default.createElement("span", {
                    className: i.default.key
                }, p) : l.default.createElement(l.default.Fragment, null, l.default.createElement("span", {
                    className: i.default.key
                }, "Shift"), l.default.createElement("span", {
                    className: i.default.key
                }, p.substr(d.length)));
                var m = n ? [u.default.os === r.default.OS_TYPE.MAC ? "Cmd" : "Ctrl"].map((function(e) {
                    return l.default.createElement("span", {
                        key: e,
                        className: i.default.key
                    }, e)
                })) : null;
                return l.default.createElement(l.default.Fragment, null, m, f)
            }, t.expandRawShortcut = s;
            var l = n(a(67294)),
                r = n(a(34263)),
                i = n(a(64917)),
                o = a(8559),
                u = n(a(73358)),
                d = "Shift+";

            function s(e) {
                if (1 !== e.length) return e;
                switch (e) {
                    case ">":
                        return "Shift+.";
                    case "<":
                        return "Shift+,"
                }
                return e.toLowerCase() !== e ? `Shift+${e}` : e.toUpperCase()
            }
        },
        63309: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(34541)),
                p = l(a(25960)),
                m = a(75300),
                h = l(a(93868)),
                v = a(6067),
                g = l(a(76568)),
                E = l(a(89115)),
                _ = l(a(37679)),
                C = l(a(16899)),
                y = a(78989),
                S = l(a(75131)),
                k = l(a(4268)),
                M = l(a(88117)),
                T = a(30564),
                I = l(a(38512)),
                b = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            active: !1,
                            emojiPicker: null
                        }, e._refEmojiPanel = (0, c.createRef)(), e.handleEmojiPicker = function(t) {
                            t && (t.preventDefault(), t.stopPropagation());
                            var a = c.default.createElement(h.default, {
                                ref: e._refEmojiPanel,
                                onEmoji: e.handleEmoji,
                                onFocusNext: e.restoreFocus,
                                onFocusPrev: e.restoreFocus
                            });
                            e.setState({
                                emojiPicker: {
                                    menu: a,
                                    dirY: m.DirY.TOP,
                                    type: "emoji_picker",
                                    anchor: t.target
                                }
                            }), e.restoreFocus()
                        }, e.handleEmojiPickerClose = function() {
                            e.setState({
                                emojiPicker: null
                            })
                        }, e.handleRestoreEmojiPickerFocus = function() {
                            var t;
                            null === (t = e._refEmojiPanel.current) || void 0 === t || t.restoreFocus()
                        }, e.handleEmoji = function(t) {
                            var a = e.refInput;
                            a && (a.focus(!1), a.replaceSelection(t)), e.handleEmojiPickerClose()
                        }, e.setRefInput = function(t) {
                            e.refInput = t
                        }, e.handleSelectionChange = function(t) {
                            e.selection = t
                        }, e.restoreFocus = function() {
                            e.refInput && e.refInput.focus()
                        }, e.handleBlur = function(t) {
                            e.state.active && e.setState({
                                active: !1
                            }), e.props.onBlur && e.props.onBlur(t)
                        }, e.handleFocus = function(t) {
                            t.stopPropagation(), e.state.active || e.setState({
                                active: !0
                            }), e.props.onFocus && e.props.onFocus(t)
                        }, e.handleReset = function() {
                            e.refInput && e.refInput.reset()
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.focusOnMount && this.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a = this.props.maxLength,
                                n = (0, T.numCodepoints)(this.props.value || ""),
                                l = (0, s.default)(C.default.textInput, (e = {}, (0, r.default)(e, C.default.noPlaceholder, !this.props.placeholder), (0, r.default)(e, C.default.active, !0), e)),
                                i = (0, s.default)(C.default.labelText, (0, r.default)({}, C.default.float, !!this.props.value)),
                                o = this.props.supportsEmoji ? c.default.createElement("button", {
                                    className: C.default.inputEmoji,
                                    onClick: this.handleEmojiPicker
                                }, c.default.createElement(S.default, {
                                    "aria-label": E.default.t(23),
                                    name: "emoji-input"
                                })) : void 0,
                                u = this.props.value;
                            t = u && "" !== u ? c.default.createElement("div", {
                                role: "button",
                                className: C.default.clearInput,
                                onClick: this.handleReset
                            }, c.default.createElement(S.default, {
                                name: "x-alt"
                            })) : null;
                            var d, f = this.props.showRemaining ? c.default.createElement("div", {
                                className: (0, s.default)(C.default.buttonContainer, C.default.charCounter, (0, r.default)({}, C.default.charCounterWithClearBtn, !!t))
                            }, c.default.createElement("div", {
                                className: C.default.charCounter
                            }, a - n < 50 ? E.default.n(a - n) : null)) : null;
                            return this.state.emojiPicker && (d = c.default.createElement(k.default, {
                                displayName: "EmojiPicker",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this.handleEmojiPickerClose,
                                requestFocus: this.handleRestoreEmojiPickerFocus
                            }, c.default.createElement(M.default, {
                                contextMenu: this.state.emojiPicker
                            }))), c.default.createElement(g.default, {
                                className: l,
                                onFocus: this.restoreFocus
                            }, c.default.createElement("span", {
                                className: i
                            }, this.props.placeholder), c.default.createElement("div", {
                                className: C.default.spacer
                            }), c.default.createElement("div", {
                                className: C.default.suggestionsPositioner
                            }, c.default.createElement("div", {
                                className: C.default.suggestionsContainer
                            }, c.default.createElement(_.default.MentionSuggestions, {
                                chat: this.props.chat,
                                theme: y.ThemeOptions.MEDIA_CAPTION
                            }), c.default.createElement(_.default.EmojiSuggestions, {
                                chat: this.props.chat,
                                theme: v.ThemeOptions.MEDIA_CAPTION
                            }))), c.default.createElement("div", {
                                className: (0, s.default)(C.default.wrapper, (0, r.default)({}, C.default.textActive, this.state.active))
                            }, c.default.createElement(_.default, {
                                ref: this.setRefInput,
                                initialValue: this.props.value,
                                initialSelection: this.selection,
                                readOnly: !1,
                                spellCheck: this.props.spellCheck,
                                multiline: this.props.multiline,
                                maxLength: this.props.maxLength,
                                onEnter: this.props.onEnter,
                                onMaxPasteExceeded: this.props.onMaxPasteExceeded,
                                onFiles: this.props.onFiles,
                                onChange: this.props.onChange,
                                onSelect: this.handleSelectionChange,
                                theme: "media-caption"
                            }), c.default.createElement("div", {
                                className: C.default.inputControls
                            }, c.default.createElement(I.default, {
                                transitionName: "pop",
                                component: "div",
                                className: C.default.buttonContainer
                            }, t, o), f)), d)
                        }
                    }]), a
                }(c.Component);
            t.default = b, b.defaultProps = {
                maxLength: 25,
                onMaxPasteExceeded: function() {
                    f.default.openModal(c.default.createElement(p.default, {
                        title: E.default.t(423),
                        onOK: function() {
                            f.default.closeModal()
                        },
                        okText: E.default.t(1865)
                    }, E.default.t(422)))
                }
            }, b.displayName = "MediaCaptionTextInput"
        },
        36394: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34263)),
                c = l(a(35261)),
                f = l(a(60039)),
                p = l(a(44589)),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l)))._setRefContainer = function(t) {
                            e._refContainer = t
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "getContainer",
                        value: function() {
                            return this._refContainer
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.chatPreference,
                                t = e.wallpaperColor,
                                a = e.showDoodle,
                                n = {};
                            return t !== s.default.DEFAULT_CHAT_WALLPAPER && (n = {
                                backgroundColor: t
                            }), d.default.createElement("div", {
                                className: f.default.container,
                                ref: this._setRefContainer
                            }, d.default.createElement("div", {
                                className: f.default.body,
                                style: n
                            }, d.default.createElement(c.default, {
                                wallpaperColor: t,
                                showDoodle: a
                            }), this.props.children))
                        }
                    }]), a
                }(d.Component);
            m.CONCERNS = {
                chatPreference: ["wallpaperColor", "showDoodle"]
            }, m.displayName = "MsgPreview";
            var h = function(e) {
                (0, o.default)(a, e);
                var t = (0, u.default)(a);

                function a() {
                    return (0, r.default)(this, a), t.apply(this, arguments)
                }
                return (0, i.default)(a, [{
                    key: "container",
                    get: function() {
                        return this.getComponent().getContainer()
                    }
                }]), a
            }((0, p.default)(m, m.CONCERNS));
            t.default = h
        },
        30329: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = l(a(11797)),
                f = l(a(60942)),
                p = l(a(34541)),
                m = l(a(25960)),
                h = l(a(34263)),
                v = l(a(48629)),
                g = l(a(43302)),
                E = l(a(33079)),
                _ = l(a(82639)),
                C = a(19059),
                y = l(a(8695)),
                S = l(a(17957)),
                k = l(a(42270)),
                M = l(a(34432)),
                T = l(a(89115)),
                I = n(a(60996)),
                b = n(a(55090)),
                P = l(a(69052)),
                w = l(a(40134)),
                L = l(a(32874)),
                O = l(a(1935)),
                D = l(a(75131)),
                N = l(a(74907)),
                R = l(a(73358)),
                A = l(a(4268)),
                x = l(a(88117)),
                F = l(a(38512)),
                U = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            img: e.props.startImage,
                            hover: !1,
                            imageSize: null
                        }, e._setRefImageContainer = function(t) {
                            e._refImageContainer = t
                        }, e._setRefImageInput = function(t) {
                            e._refImageInput = t
                        }, e._handleUpload = function() {
                            var t = e._refImageInput;
                            if (t) return t.click(), !0
                        }, e._removeImage = function() {
                            e.props.onImageSet(), p.default.closeModal()
                        }, e._handleRemove = function() {
                            var t = e.props.type === L.default.GROUP ? T.default.t(1311) : T.default.t(1314);
                            p.default.openModal(s.default.createElement(m.default, {
                                onOK: e._removeImage,
                                okText: T.default.t(1310),
                                onCancel: function() {
                                    return p.default.closeModal()
                                },
                                cancelText: T.default.t(1694)
                            }, t))
                        }, e._handleView = function() {
                            var t = e._refImageContainer,
                                a = e.props,
                                n = a.id,
                                l = a.attachToChat;
                            if (t && n) {
                                var r = v.default.assertGet(n),
                                    i = {
                                        transition: "profile-viewer"
                                    };
                                l && (i.uim = e.props.uim), p.default.openModalMedia(s.default.createElement(O.default, {
                                    contact: r,
                                    profilePicThumb: r.getProfilePicThumb(),
                                    animateBorderRadius: !0,
                                    getZoomNode: function(e) {
                                        e(t)
                                    }
                                }), i)
                            }
                        }, e.handlePaste = function(t) {
                            if (e.state.contextMenu) {
                                var a = new g.default(t.clipboardData),
                                    n = d.default.filter(a.getFiles(), (function(e) {
                                        return "image" === (0, C.typeFromMimetype)(e.type)
                                    }));
                                if (n.length) {
                                    t.preventDefault(), t.stopPropagation(), e.closeContextMenu();
                                    var l = n[0];
                                    e._handleImagePick(l)
                                }
                            }
                        }, e.handleImageSelected = function(t) {
                            e.closeContextMenu();
                            var a = t.target.files[0];
                            if (!a) return !1;
                            e._handleImagePick(a), t.target.value = ""
                        }, e._handleImageReceived = function(t, a) {
                            t ? I.loadImage(t).then((function() {
                                e.setState({
                                    img: t
                                }), e.props.onImageSet(t, a)
                            })).catch((function(t) {
                                __LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(t)}`;
                                var a = e.props.type === L.default.GROUP ? T.default.t(120) : T.default.t(189);
                                p.default.openModal(s.default.createElement(m.default, {
                                    onOK: function() {
                                        return p.default.closeModal()
                                    }
                                }, a))
                            })) : e.setState({
                                img: null,
                                imageSize: null
                            })
                        }, e.handleSearch = function() {
                            p.default.openModal(s.default.createElement(b.default, {
                                type: b.BoxModalType
                            }, s.default.createElement(k.default, {
                                onFinished: e._handleImageReceived
                            })))
                        }, e._handleImagePick = function(t) {
                            var a = URL.createObjectURL(t);
                            I.loadImage(a).then((function(a) {
                                a && (a.width < h.default.MIN_PIC_SIDE || a.height < h.default.MIN_PIC_SIDE) ? p.default.openModal(s.default.createElement(m.default, {
                                    onOK: function() {
                                        return p.default.closeModal()
                                    }
                                }, T.default.t(1302, {
                                    size: h.default.MIN_PIC_SIDE,
                                    _plural: h.default.MIN_PIC_SIDE
                                }))) : p.default.openModal(s.default.createElement(b.default, {
                                    type: b.BoxModalType
                                }, s.default.createElement(_.default, {
                                    img: t,
                                    onFinished: e._handleImageReceived,
                                    onRetake: e._handleUpload
                                })))
                            })).catch((function() {
                                var t = e.props.type === L.default.GROUP ? T.default.t(120) : T.default.t(189);
                                p.default.openModal(s.default.createElement(m.default, {
                                    onOK: function() {
                                        return p.default.closeModal()
                                    }
                                }, t))
                            })).finally((function() {
                                URL.revokeObjectURL(a)
                            }))
                        }, e.handleImageClick = function(t) {
                            if (e.props.readOnly) e.state.img && e._handleView();
                            else {
                                t.stopPropagation(), t.preventDefault();
                                var a = [];
                                e.props.id && e.state.img && a.push(s.default.createElement(E.default, {
                                    a8n: "mi-view-photo",
                                    key: "view",
                                    action: e._handleView
                                }, T.default.t(1580))), y.default && a.push(s.default.createElement(N.default, {
                                    key: "take",
                                    onImageTake: e._handleImageReceived
                                })), a.push(s.default.createElement(E.default, {
                                    a8n: "mi-upload-photo",
                                    key: "upload",
                                    action: e._handleUpload
                                }, T.default.t(1533))), R.default.isElectron && e.props.type === L.default.GROUP && a.push(s.default.createElement(E.default, {
                                    a8n: "mi-search-photo",
                                    key: "search",
                                    action: e.handleSearch
                                }, T.default.t(1925))), e.state.img && a.push(s.default.createElement(E.default, {
                                    a8n: "mi-remove-photo",
                                    key: "remove",
                                    action: e._handleRemove
                                }, T.default.t(1313))), t.persist(), e.setState({
                                    contextMenu: {
                                        menu: a,
                                        event: t
                                    }
                                })
                            }
                        }, e.closeContextMenu = function() {
                            e.setState({
                                contextMenu: null
                            })
                        }, e.handleMouseOver = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseEnter = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseLeave = function() {
                            e.state.hover && e.setState({
                                hover: !1
                            })
                        }, e.handleLoad = function(t) {
                            var a = t.target.clientWidth,
                                n = t.target.clientHeight;
                            e.setState({
                                imageSize: {
                                    width: a,
                                    height: n
                                }
                            })
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t;
                            this.state.img && (e = s.default.createElement(P.default, {
                                type: "cover",
                                size: this.state.imageSize
                            }, s.default.createElement(M.default, {
                                src: this.state.img,
                                crossOrigin: !1,
                                style: {
                                    height: "100%",
                                    width: "100%"
                                },
                                onLoad: this.handleLoad
                            }))), (this.props.pending || this.state.img && !this.state.imageSize) && (t = s.default.createElement(f.default, null));
                            var a = null;
                            if (!this.props.pending && !this.props.readOnly && (!this.state.img || this.state.imageSize) && (!this.state.img || this.state.contextMenu || this.state.hover)) {
                                var n = "";
                                switch (this.props.type) {
                                    case L.default.GROUP:
                                        n = this.state.img ? T.default.t(498) : T.default.t(216);
                                        break;
                                    case L.default.PROFILE:
                                        n = this.state.img ? T.default.t(503) : T.default.t(223)
                                }
                                a = s.default.createElement(c.default, {
                                    icon: s.default.createElement(D.default, {
                                        name: "camera"
                                    }),
                                    text: n
                                })
                            }
                            var l, r, i = this.props.pending || !this.state.imageSize && this.state.img ? function() {} : this.handleImageClick;
                            if (this.state.contextMenu && (l = s.default.createElement(A.default, {
                                    displayName: "PhotoPickerContextMenu",
                                    escapable: !0,
                                    popable: !0,
                                    requestDismiss: this.closeContextMenu
                                }, s.default.createElement(x.default, {
                                    contextMenu: this.state.contextMenu
                                }))), this.props.pending || !this.state.img || this.state.img && !this.state.imageSize) {
                                var o = this.props.type === L.default.PROFILE ? "default-user" : "default-group";
                                r = s.default.createElement("div", {
                                    className: w.default.defaultIcon
                                }, s.default.createElement(D.default, {
                                    name: o
                                }))
                            }
                            var u = null != this.props.size ? {
                                width: this.props.size,
                                height: this.props.size
                            } : null;
                            return s.default.createElement("div", {
                                className: w.default.container,
                                style: u
                            }, s.default.createElement("div", {
                                className: w.default.body,
                                onClick: i,
                                onMouseOver: this.handleMouseOver,
                                onMouseEnter: this.handleMouseEnter,
                                onMouseLeave: this.handleMouseLeave,
                                onPaste: this.handlePaste,
                                ref: this._setRefImageContainer,
                                dir: "ltr"
                            }, s.default.createElement("div", {
                                className: w.default.imageContainer
                            }, e, r), s.default.createElement(F.default, {
                                transitionName: "fade"
                            }, t, a)), s.default.createElement("input", {
                                ref: this._setRefImageInput,
                                type: "file",
                                accept: "image/gif,image/jpeg,image/jpg,image/png",
                                style: {
                                    display: "none"
                                },
                                onChange: this.handleImageSelected
                            }), l)
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e) {
                            return e.startImage ? {
                                img: e.startImage
                            } : {
                                img: e.startImage,
                                imageSize: null
                            }
                        }
                    }]), a
                }(s.Component);
            U.displayName = "PhotoPicker";
            var B = (0, S.default)(U);
            t.default = B
        },
        37679: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(2205)),
                i = n(a(99842)),
                o = n(a(64036)),
                u = n(a(35189)),
                d = n(a(6067)),
                s = n(a(63034)),
                c = n(a(58590)),
                f = n(a(57126)),
                p = n(a(78989)),
                m = n(a(99360)),
                h = new s.default,
                v = new o.default,
                g = function(e) {
                    (0, r.default)(a, e);
                    var t = (0, i.default)(a);

                    function a() {
                        return (0, l.default)(this, a), t.apply(this, arguments)
                    }
                    return a
                }((0, c.default)([u.default, v, h, f.default]));
            t.default = g, g.MentionSuggestions = (0, m.default)(p.default, {
                plugin: h
            }), g.EmojiSuggestions = (0, m.default)(d.default, {
                plugin: v
            })
        },
        49163: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(40746)),
                u = n(a(85747)),
                d = function(e) {
                    var t = e.large,
                        a = e.a8nText,
                        n = e.onClick,
                        d = e.icon,
                        s = e.count,
                        c = e.disabled;
                    return i.default.createElement("div", {
                        className: (0, r.default)(u.default.container, (0, l.default)({}, u.default.disabled, c))
                    }, i.default.createElement(o.default, {
                        large: t,
                        a8nText: a,
                        onClick: n,
                        disabled: c
                    }, d), null != s && i.default.createElement("div", {
                        className: (0, r.default)(u.default.count, (0, l.default)({}, u.default.large, t))
                    }, i.default.createElement("span", null, s)))
                };
            t.default = d
        },
        19973: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(67154)),
                i = l(a(63038)),
                o = l(a(67294)),
                u = l(a(34541)),
                d = l(a(25960)),
                s = n(a(62647)),
                c = l(a(89115)),
                f = a(72042),
                p = o.default.useState;
            t.default = function(e) {
                var t = e.doSave,
                    a = e.afterSave,
                    n = e.isValid,
                    l = e.children,
                    m = e.modalConfig,
                    h = e.onError,
                    v = e.title,
                    g = e.onCancel,
                    E = p(f.EditType.EDITING),
                    _ = (0, i.default)(E, 2),
                    C = _[0],
                    y = _[1],
                    S = o.default.createElement(s.default, {
                        title: v,
                        type: s.DRAWER_HEADER_TYPE.POPUP,
                        onCancel: function() {
                            u.default.closeModal(), g && g()
                        }
                    });
                return o.default.createElement(d.default, (0, r.default)({
                    children: l,
                    okText: c.default.t(1358),
                    type: "auto",
                    onOK: function() {
                        y(f.EditType.PENDING), t().then((function() {
                            y(f.EditType.DONE), a && a(), u.default.closeModal()
                        }), (function(e) {
                            y(f.EditType.ERROR), h && h(e)
                        }))
                    },
                    okSpinner: C === f.EditType.PENDING,
                    okDisabled: C === f.EditType.PENDING || !n,
                    title: S
                }, m))
            }
        },
        90327: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(76568)),
                u = n(a(82823)),
                d = i.default.useRef,
                s = function(e) {
                    var t = e.tabConfigs,
                        a = e.selectedId,
                        n = e.onSelect,
                        s = e.tabClass,
                        c = e.className,
                        f = d(a),
                        p = d([]),
                        m = t.map((function(e) {
                            return e.id
                        })),
                        h = m.length - 1;
                    return i.default.createElement(o.default, {
                        handlers: {
                            right: function() {
                                var e = m.indexOf(f.current),
                                    t = e === h ? 0 : e + 1,
                                    a = p.current[t];
                                a && a.focus()
                            },
                            left: function() {
                                var e = m.indexOf(f.current),
                                    t = 0 === e ? h : e - 1,
                                    a = p.current[t];
                                a && a.focus()
                            }
                        }
                    }, i.default.createElement("div", {
                        role: "tablist",
                        className: (0, r.default)(u.default.tabContainer, c)
                    }, t.map((function(e, t) {
                        return function(e, t) {
                            var o = e.title,
                                d = e.id,
                                c = d === a;
                            return i.default.createElement("button", {
                                role: "tab",
                                tabIndex: c ? 0 : -1,
                                "aria-selected": Boolean(c),
                                title: o,
                                className: (0, r.default)(u.default.tab, (0, l.default)({}, u.default.selected, c), s),
                                onClick: function() {
                                    c || n(d)
                                },
                                onFocus: function() {
                                    f.current = d
                                },
                                ref: function(e) {
                                    return p.current[t] = e
                                },
                                key: o
                            }, o)
                        }(e, t)
                    }))))
                };
            t.default = s
        },
        74907: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onImageTake;
                return l.default.createElement(i.default, {
                    action: function() {
                        r.default.openModal(l.default.createElement(o.default, {
                            onFinished: t
                        }))
                    },
                    a8n: "mi-take-photo",
                    disabled: e.disabled
                }, u.default.t(1480))
            };
            var l = n(a(67294)),
                r = n(a(34541)),
                i = n(a(33079)),
                o = n(a(1631)),
                u = n(a(89115))
        },
        2478: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.className,
                    a = o.default.VERSION_STR;
                return r.default.createElement(d.SelectableDiv, {
                    "data-a8n": i.default.key("version"),
                    className: (0, l.default)(s.default.versionInfo, t),
                    selectable: !0
                }, u.default.t(1555, {
                    version: ""
                }), r.default.createElement("span", {
                    dir: "LTR"
                }, a), null, null)
            };
            var l = n(a(94184)),
                r = n(a(67294)),
                i = n(a(97930)),
                o = n(a(34263)),
                u = n(a(89115)),
                d = a(36474),
                s = n(a(39567))
        },
        7838: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(26671)),
                s = n(a(34541)),
                c = n(a(25960)),
                f = n(a(41769)),
                p = n(a(28082)),
                m = n(a(31722)),
                h = n(a(88115)),
                v = n(a(89115)),
                g = a(11367),
                E = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).filter = function(t) {
                            var a = t.groupMetadata;
                            return !(!t.isGroup || t.isGroup && !(null == a ? void 0 : a.participants.iAmMember())) && ((null == a ? void 0 : a.participants.get(e.props.contact.id)) ? v.default.t(228) : !!(null == a ? void 0 : a.participants.iAmAdmin()) || v.default.t(522))
                        }, e._confirmAddToGroup = function(t) {
                            e.props.requestFocus && e.props.requestFocus(), e.push(u.default.createElement(c.default, {
                                cancelText: v.default.t(1694),
                                okText: v.default.t(217),
                                onOK: e._addToGroup.bind(null, t),
                                onCancel: e._pop
                            }, u.default.createElement(f.default, {
                                text: v.default.t(554, {
                                    participant: e.props.contact.formattedName,
                                    subject: t.contact.name
                                })
                            })))
                        }, e.requestFocus = function() {
                            if (e.refUIE) {
                                var t = e.refUIE.getNode();
                                t && !t.contains(document.activeElement) && m.default.focus(t)
                            }
                        }, e._addToGroup = function(t) {
                            (0, g.addParticipants)(t, [e.props.contact]).then((function() {
                                s.default.openChatFromUnread(t).then((function(e) {
                                    e && s.default.focusChatTextInput(t)
                                }))
                            })).catch((function() {})), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(u.default.createElement(h.default, {
                                chats: d.default.filter((function(e) {
                                    return e.isGroup
                                })),
                                filter: this.filter,
                                onCancel: this._pop,
                                onGroup: this._confirmAddToGroup
                            }))
                        }
                    }]), a
                }(p.default);
            t.default = E
        },
        85711: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(81506)),
                o = n(a(16525)),
                u = n(a(29754)),
                d = n(a(2205)),
                s = n(a(99842)),
                c = n(a(96486)),
                f = n(a(67294)),
                p = a(41144),
                m = n(a(93803)),
                h = n(a(34541)),
                v = n(a(28082)),
                g = n(a(94134)),
                E = a(89767),
                _ = n(a(73358)),
                C = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        return (0, l.default)(this, a), (e = t.apply(this, arguments))._setRefMediaEditor = function(t) {
                            e._refMediaEditor = t
                        }, e.onCancel = function() {
                            e.props.onComplete && e.props.onComplete(!1), e._clearAttachMedia(), e.props.mediaCollection.mediaPickerStatsLogger.logCancel(), e.end()
                        }, e.onFailedMedias = function(t) {
                            var a = t.filter((function(e) {
                                return e.isGif
                            }));
                            if (a.length > 0) {
                                var n = a.map((function(e) {
                                    return e.filename
                                }));
                                h.default.once("ui_idle", (function() {
                                    h.default.pasteChatTextInput(e.props.chat, n.join(" "))
                                })), e.props.onComplete && e.props.onComplete(!1), e._clearAttachMedia(), e.props.mediaCollection.mediaPickerStatsLogger.logCancel(), e.end()
                            }
                        }, e._sendMediaWithMentions = function(t, a, n) {
                            var l = e.props.chat;
                            h.default.once("ui_idle", (function() {
                                t.forEach((function(t, a) {
                                    var r = t.media,
                                        i = {};
                                    if (0 === a && (i.quotedMsg = l.composeQuotedMsg, l.composeQuotedMsg = null), i.isViewOnce = n, i.mentionedJidList = t.mentionedJidList, i.caption = r.caption, i.addEvenWhilePreparing = r.previewable && r.state === p.ATTACH_MEDIA_STATE.PROCESSING, e.props.initCaption && e.props.initCaption.ctwaContextLinkData) {
                                        var o = e.props.initCaption,
                                            u = o.ctwaContextLinkData,
                                            d = o.ctwaContext;
                                        i.ctwaContext = (0, E.prepareCtwaContextSend)(u, d)
                                    }
                                    r.sendToChat(l, i)
                                })), e._clearAttachMedia()
                            })), e.props.onComplete && e.props.onComplete(!0, a), e.props.mediaCollection.mediaPickerStatsLogger.logSend(), e.end()
                        }, e.setText = function(t) {
                            null != t && h.default.once("ui_idle", (function() {
                                h.default.pasteChatTextInput(e.props.chat, t)
                            })), e.end()
                        }, e._clearAttachMedia = function() {
                            e.props.chat && e.props.chat.setAttachMediaContents(null)
                        }, e.handleRequestDismiss = e.handleRequestDismiss.bind((0, i.default)(e)), e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            h.default.closeContextMenu(), h.default.closeTooltip(), this.push(f.default.createElement(m.default, {
                                chat: this.props.chat,
                                onBack: this.onCancel,
                                initCaption: this.props.initCaption,
                                onSendMedia: c.default.once(this._sendMediaWithMentions),
                                onDropText: c.default.once(this.setText),
                                onFailedMedias: this.onFailedMedias,
                                mediaCollection: this.props.mediaCollection
                            })), this.push(f.default.createElement(g.default, {
                                theme: "attach",
                                ref: this._setRefMediaEditor,
                                chat: this.props.chat,
                                onClose: this.onCancel,
                                initCaption: this.props.initCaption,
                                onSendMedia: c.default.once(this._sendMediaWithMentions),
                                mediaCollection: this.props.mediaCollection,
                                onDropText: c.default.once(this.setText)
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e = this;
                            _.default.isGecko ? c.default.defer((function() {
                                return h.default.focusChatTextInput(e.props.chat)
                            })) : h.default.focusChatTextInput(this.props.chat)
                        }
                    }, {
                        key: "handleRequestDismiss",
                        value: function(e) {
                            !1 === e && (this._clearAttachMedia(), this.props.mediaCollection.mediaPickerStatsLogger.logCancel()), (0, o.default)((0, u.default)(a.prototype), "handleRequestDismiss", this).call(this)
                        }
                    }]), a
                }(v.default);
            t.default = C
        },
        37318: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(34541)),
                s = n(a(28082)),
                c = n(a(89115)),
                f = a(85539),
                p = n(a(86104)),
                m = a(64478),
                h = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).requestFocus = function() {
                            var t, a = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != a && (a instanceof HTMLElement || "function" != typeof a.onFocusList || a.onFocusList())
                        }, e._sendProducts = function(t) {
                            var a = e.props.chat;
                            t.forEach((function(t, n) {
                                var l = 0 === n ? a.composeQuotedMsg : null;
                                a.sendProductMessage(t, l).then((function() {
                                    (0, f.logProductMessageSent)({
                                        product: t,
                                        catalogSessionId: e.props.sessionId
                                    })
                                }))
                            })), a.composeQuotedMsg = null, e.end()
                        }, e._shareCatalog = function(t) {
                            var a = e.props.chat,
                                n = (0, m.createCatalogLink)(t.id.user),
                                l = `${c.default.t(1270)} ${n}`;
                            d.default.pasteChatTextInput(a, l), (0, f.logSendCatalogClick)({
                                catalogOwnerWid: t.id,
                                catalogSessionId: e.props.sessionId
                            }), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(u.default.createElement(p.default, {
                                onCancel: this._pop,
                                onConfirm: this._sendProducts,
                                onShare: this._shareCatalog
                            }))
                        }
                    }]), a
                }(s.default);
            t.default = h
        },
        53838: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(67154)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(67294)),
                c = l(a(28082)),
                f = l(a(89115)),
                p = n(a(66132)),
                m = l(a(26011)),
                h = l(a(63056)),
                v = l(a(9051)),
                g = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l)))._confirmSendContacts = function(t) {
                            e.push(s.default.createElement(v.default, {
                                contactList: t,
                                onSend: function() {
                                    return e._sendContacts(t)
                                },
                                onBack: e._popNone,
                                chat: e.props.chat
                            }), "none"), e.contacts = t
                        }, e._sendContacts = function(t) {
                            var a = e.props.chat,
                                n = a.composeQuotedMsg,
                                l = a.getComposeContents().ctwaContext || void 0;
                            (0, m.default)(t, a, n, l), a.composeQuotedMsg = null, e.props.onContactsSent(), e.end()
                        }, e._getContacts = function() {
                            return e.contacts
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.serverProps.maxParticipants;
                            this.contacts = [], this.push(s.default.createElement(p.default, {
                                title: f.default.t(1394),
                                onCancel: this._pop,
                                onConfirm: this._confirmSendContacts,
                                getInitialItems: this._getContacts,
                                listType: p.ListType.CONTACT_SELECT_MODAL,
                                maxItems: e,
                                allowBlockedContacts: !0
                            }))
                        }
                    }]), a
                }(c.default);
            t.default = function(e) {
                return s.default.createElement(g, (0, r.default)({}, e, {
                    serverProps: h.default
                }))
            }
        },
        53464: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(86855)),
                s = n(a(28082)),
                c = a(16952),
                f = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).sendMedia = function(t) {
                            var a = t.getImg,
                                n = t.caption,
                                l = t.isViewOnce,
                                r = t.mentionedJidList,
                                i = e.props.chat,
                                o = i.composeQuotedMsg;
                            i.composeQuotedMsg = null;
                            var u = i.getComposeContents().ctwaContext || void 0;
                            (0, c.prepRawMedia)(a, {}).sendToChat(i, {
                                caption: n,
                                mentionedJidList: r,
                                quotedMsg: o,
                                ctwaContext: u,
                                isViewOnce: l
                            }), e.props.onCaptureSent(), e.end()
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push(u.default.createElement(d.default, {
                                onBack: function() {
                                    e.end()
                                },
                                chat: this.props.chat,
                                caption: !0,
                                theme: "capture-contain",
                                onSend: this.sendMedia,
                                stream: this.props.stream,
                                disposeStream: this.props.disposeStream
                            }))
                        }
                    }]), a
                }(s.default);
            t.default = f
        },
        16431: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(57986)),
                s = n(a(34541)),
                c = n(a(66015)),
                f = n(a(28082)),
                p = n(a(8643)),
                m = a(79164),
                h = n(a(31869)),
                v = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).onProductCatalog = function() {
                            var t = e.props,
                                a = t.sellerJid,
                                n = t.chat;
                            e.push(u.default.createElement(h.default, {
                                chat: n,
                                catalogOwnerJid: a
                            }))
                        }, e.onProductDetail = function(t) {
                            var a = e.props.chat;
                            e.push(u.default.createElement(h.default, {
                                refreshCarousel: !0,
                                chat: a,
                                productInfo: t,
                                onEnd: e._pop
                            }))
                        }, e._end = function() {
                            e.end(!0)
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.sellerJid,
                                n = t.chat;
                            this.push(u.default.createElement(c.default.Consumer, null, (function(t) {
                                var l = (0, m.getProductCatalogContext)(t).entryPoint;
                                return u.default.createElement(d.default, {
                                    chat: n,
                                    sellerJid: a,
                                    onProductDetail: e.onProductDetail,
                                    onProductCatalog: e.onProductCatalog,
                                    onBack: e._end,
                                    closeDrawerRightOnSend: l === p.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE
                                })
                            }))), s.default.existsDrawerLeft((function(e) {
                                e && s.default.closeDrawerLeft()
                            })), s.default.existsDrawerMid((function(e) {
                                e && s.default.closeDrawerMid()
                            }))
                        }
                    }]), a
                }(f.default);
            t.default = v
        },
        71032: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(67154)),
                r = n(a(34575)),
                i = n(a(93913)),
                o = n(a(2205)),
                u = n(a(99842)),
                d = n(a(67294)),
                s = n(a(10725)),
                c = n(a(46991)),
                f = n(a(42719)),
                p = n(a(61418)),
                m = n(a(34541)),
                h = n(a(96438)),
                v = n(a(87410)),
                g = n(a(48629)),
                E = n(a(66015)),
                _ = a(62647),
                C = n(a(62762)),
                y = n(a(22479)),
                S = a(14650),
                k = n(a(28082)),
                M = a(71701),
                T = a(31230),
                I = n(a(89115)),
                b = a(45184),
                P = n(a(55935)),
                w = n(a(91030)),
                L = a(79164),
                O = n(a(89193)),
                D = n(a(82260)),
                N = n(a(32702)),
                R = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var l = arguments.length, i = new Array(l), o = 0; o < l; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleAddFirstProduct = function() {
                            e._showProductList(), s.default.find(e.props.catalogId).then((function() {
                                e._onAddProduct()
                            })).catchType(S.ServerStatusCodeError, (function() {
                                __LOG__(3)`Failed to fetch product catalog from server`
                            }))
                        }, e._showProductList = function() {
                            var t = g.default.get(e.props.catalogId);
                            if (t) {
                                var a = (0, T.canManageCollections)() ? d.default.createElement(p.default, {
                                    contact: t,
                                    onCatalogLinkClick: e._onCatalogShare,
                                    onProductShare: e.onProductShare,
                                    onProductDetail: e.onEditProduct,
                                    onAddProduct: e._onAddProduct,
                                    catalogId: e.props.catalogId,
                                    onBack: e._end,
                                    onCartClick: e.onCartClick,
                                    businessProfile: null,
                                    headerType: _.DRAWER_HEADER_TYPE.LARGE,
                                    onCollectionSeeAll: e.onCollectionSeeAll,
                                    canManageCatalog: !0,
                                    autoUpdate: !0,
                                    onOpenCollections: e.onOpenCollections,
                                    onEditCollection: e._onEditCollection,
                                    onOpenSettings: e.onOpenSettings
                                }) : d.default.createElement(D.default, {
                                    contact: t,
                                    onCatalogLinkClick: e._onCatalogShare,
                                    onProductShare: e.onProductShare,
                                    onProductDetail: e.onEditProduct,
                                    onAddProduct: e._onAddProduct,
                                    catalogId: e.props.catalogId,
                                    onBack: e._end,
                                    onCartClick: e.onCartClick,
                                    businessProfile: null,
                                    headerType: _.DRAWER_HEADER_TYPE.LARGE,
                                    canManageCatalog: !0,
                                    autoUpdate: !0,
                                    onOpenSettings: e.onOpenSettings
                                });
                                e.push(a)
                            }
                        }, e.onEditProduct = function(t) {
                            var a = s.default.assertGet(e.props.catalogId);
                            m.default.openDrawerMid(d.default.createElement(y.default, {
                                catalog: a,
                                product: t
                            }), "slide-left", void 0, void 0, e.props.context)
                        }, e.onCartClick = function(t) {
                            (0, N.default)(t, void 0, e.props.context)
                        }, e.onCollectionSeeAll = function(t) {
                            var a = e.props.catalogId,
                                n = g.default.gadd(a);
                            e.push(d.default.createElement(h.default, {
                                contact: n,
                                onProductDetail: e.onEditProduct,
                                onProductShare: e.onProductShare,
                                catalogId: a,
                                onBack: e._pop,
                                onCatalogLinkClick: e._onCatalogShare,
                                onCartClick: e.onCartClick,
                                collection: t,
                                canManageCatalog: !0,
                                headerType: _.DRAWER_HEADER_TYPE.LARGE,
                                onEditCollection: e._onEditCollection
                            }))
                        }, e._onEditCollection = function(t) {
                            var a = (0, M.getMeUser)(),
                                n = s.default.get(a);
                            n && e.push(d.default.createElement(C.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e._onAddProduct = function() {
                            var t = s.default.assertGet(e.props.catalogId),
                                a = new w.default({
                                    catalogWid: t.id,
                                    additionalImageCdnUrl: []
                                });
                            m.default.openDrawerMid(d.default.createElement(y.default, {
                                catalog: t,
                                product: a,
                                newProduct: !0
                            }), "slide-left", void 0, void 0, e.props.context)
                        }, e._onCatalogShare = function(t, a) {
                            m.default.openDrawerMid(d.default.createElement(c.default, {
                                onCancel: function() {
                                    m.default.closeDrawerMid()
                                },
                                catalog: t,
                                contact: a,
                                prompt: I.default.t(494),
                                onSend: function() {
                                    return m.default.closeDrawerMid()
                                },
                                centerDrawer: !0
                            }), "slide-left", void 0, void 0, e.props.context)
                        }, e.onProductShare = function(t) {
                            m.default.openDrawerMid(d.default.createElement(O.default, {
                                onCancel: function() {
                                    m.default.closeDrawerMid()
                                },
                                product: t,
                                prompt: I.default.t(494),
                                onSend: function() {
                                    return m.default.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }), "slide-left", void 0, void 0, e.props.context)
                        }, e.onOpenCollections = function() {
                            e.push(d.default.createElement(v.default, {
                                onBack: e._pop,
                                editCollection: e.editCollection,
                                onSeeCollection: e.onSeeCollection
                            })), (0, b.logCollectionMenuClicked)((0, L.getProductCatalogContext)(e.props.context))
                        }, e.onSeeCollection = function(t) {
                            var n = a(71032).default;
                            e.push(d.default.createElement(n, {
                                catalogId: (0, M.getMeUser)(),
                                collection: t,
                                product: null
                            }))
                        }, e.editCollection = function(t) {
                            var a = (0, M.getMeUser)(),
                                n = s.default.get(a);
                            t || (0, b.logCollectionCreateClicked)((0, L.getProductCatalogContext)(e.props.context)), n && e.push(d.default.createElement(C.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e.onOpenSettings = function() {
                            e.push(d.default.createElement(f.default, {
                                onBack: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop(), m.default.closeDrawerMid()
                        }, e._end = function() {
                            e.end(!0), m.default.closeDrawerMid()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            null != this.props.collection ? this.onCollectionSeeAll(this.props.collection) : null != this.props.catalog ? (this._showProductList(), null != this.props.product && this.onEditProduct(this.props.product)) : this._showNewCatalog()
                        }
                    }, {
                        key: "_showNewCatalog",
                        value: function() {
                            this.push(d.default.createElement(P.default, {
                                onBack: this._pop,
                                onAddProductClick: this._handleAddFirstProduct,
                                onCatalogAlreadyCreated: this._showProductList
                            }))
                        }
                    }]), n
                }(k.default);
            t.default = function(e) {
                return d.default.createElement(E.default.Consumer, null, (function(t) {
                    return d.default.createElement(R, (0, l.default)({
                        context: t
                    }, e))
                }))
            }
        },
        36476: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(36152)),
                s = n(a(28082)),
                c = n(a(31869)),
                f = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).onProductClick = function(t) {
                            e.push(u.default.createElement(c.default, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(u.default.createElement(d.default, {
                                msg: this.props.msg,
                                onProductClick: this.onProductClick
                            }))
                        }
                    }]), a
                }(s.default);
            t.default = f
        },
        62758: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(67294)),
                s = l(a(86855)),
                c = l(a(34541)),
                f = n(a(10193)),
                p = n(a(98569)),
                m = l(a(28082)),
                h = n(a(55119)),
                v = n(a(39582)),
                g = n(a(55090)),
                E = l(a(42027)),
                _ = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l)))._refCaptureDrawer = null, e._setRefCaptureDrawer = function(t) {
                            e._refCaptureDrawer = t
                        }, e._pushPermissionModal = function() {
                            e.push(d.default.createElement(h.default, {
                                messaging: h.Messaging.CAMERA,
                                type: h.default.TYPE.GUIDE_ALLOW,
                                onConfirm: e._popModal
                            }), "modal")
                        }, e._popModal = function() {
                            e.pop("modal")
                        }, e._startCaptureDrawer = function() {
                            var t, a;
                            null === (t = (a = e)._disposeStream) || void 0 === t || t.call(a);
                            var n = v.start("camera", e._pushPermissionModal),
                                l = n.asyncStream,
                                r = n.disposeStream;
                            e._disposeStream = r, l.then((function(t) {
                                e._refCaptureDrawer || e._popModal(), t && e._refCaptureDrawer && e._refCaptureDrawer.loadNewStream(t, r)
                            })).catchType(p.GUM.NotAllowedError, (function() {
                                e.cleanUp(), c.default.openModal(d.default.createElement(h.default, {
                                    messaging: h.Messaging.CAMERA_FAIL,
                                    type: h.default.TYPE.GUIDE_UNBLOCK
                                }))
                            })).catchType(p.GUM.GUMError, (function() {
                                e.cleanUp(), c.default.openModal(d.default.createElement(h.default, {
                                    messaging: h.Messaging.CAMERA_MISSING,
                                    type: h.default.TYPE.GUIDE_NONE
                                }))
                            }))
                        }, e.onFinished = function(t, a) {
                            e.props.onFinished(t, a), e.cleanUp()
                        }, e.cleanUp = function() {
                            e.end()
                        }, e.onRetake = function() {
                            e.pop("flow-transition-box-size-drawer-pop"), e._startCaptureDrawer()
                        }, e.onCaptured = function(t) {
                            e.push(d.default.createElement(g.default, {
                                type: g.BoxModalType
                            }, d.default.createElement(f.default, {
                                onRetake: e.onRetake,
                                retryText: f.RETRY_OPTIONS.RETAKE,
                                onFinished: e.onFinished,
                                onCancel: e.cleanUp,
                                img: t
                            })), "flow-transition-box-size-drawer-push")
                        }, e.handleRequestDismiss = function(t) {
                            !1 === t && e.stackSize() > 1 ? e.onRetake() : e.cleanUp()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(d.default.createElement(g.default, {
                                type: g.BoxModalType
                            }, d.default.createElement(s.default, {
                                ref: this._setRefCaptureDrawer,
                                stream: void 0,
                                disposeStream: void 0,
                                caption: !1,
                                theme: "capture-cover",
                                onBack: this.cleanUp,
                                onSend: null,
                                onCaptured: this.onCaptured,
                                chat: void 0
                            }))), this._startCaptureDrawer()
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            null === (e = this._disposeStream) || void 0 === e || e.call(this)
                        }
                    }]), a
                }(m.default),
                C = (0, E.default)(_);
            t.default = C
        },
        82639: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(67294)),
                s = n(a(10193)),
                c = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).onEnd = function() {
                            e.end()
                        }, e.onFinished = function(t, a) {
                            e.props.onFinished(t, a), e.end()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(d.default.createElement(s.default, {
                                onCancel: this.onEnd,
                                onFinished: this.onFinished,
                                onRetake: this.props.onRetake,
                                retryText: s.RETRY_OPTIONS.RESTART,
                                img: this.props.img
                            }))
                        }
                    }]), a
                }(l(a(28082)).default);
            t.default = c
        },
        22479: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(34541)),
                s = n(a(9778)),
                c = n(a(28082)),
                f = n(a(89115)),
                p = n(a(64232)),
                m = n(a(89193)),
                h = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r)))._showInfoDrawer = function(t) {
                            var a = e.props.catalog;
                            e.push(u.default.createElement(p.default, {
                                catalog: a,
                                product: t,
                                onCancel: e.end,
                                onEditProduct: e._onProductEdit,
                                onShareProduct: e.onShareProduct
                            }))
                        }, e.onShareProduct = function(t) {
                            e.push(u.default.createElement(m.default, {
                                onBack: e._pop,
                                product: t,
                                prompt: u.default.createElement("div", null, f.default.t(494)),
                                onSend: function() {
                                    return d.default.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }))
                        }, e._onProductEdit = function(t) {
                            e.push(u.default.createElement(s.default, {
                                catalog: e.props.catalog,
                                onBack: e._pop,
                                onEditSuccess: e._showInfoDrawer,
                                product: t,
                                onDelete: e.props.onDelete
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.catalog,
                                n = t.product,
                                l = t.onCreate;
                            t.newProduct ? this.push(u.default.createElement(s.default, {
                                onCancel: this._pop,
                                onEditSuccess: function(t) {
                                    l && l(), e._showInfoDrawer(t)
                                },
                                catalog: a,
                                product: n,
                                newProduct: !0
                            })) : this._showInfoDrawer(n)
                        }
                    }]), a
                }(c.default);
            t.default = h
        },
        18302: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(67294)),
                s = l(a(26671)),
                c = l(a(34541)),
                f = l(a(25960)),
                p = l(a(34263)),
                m = l(a(28082)),
                h = l(a(68168)),
                v = l(a(31232)),
                g = l(a(89115)),
                E = n(a(66132)),
                _ = l(a(63056)),
                C = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).requestFocus = function() {
                            var t, a = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != a && (a instanceof HTMLElement || "function" != typeof a.onFocusList || a.onFocusList())
                        }, e.onForwardConfirmed = function(t) {
                            var a = e.props,
                                n = a.msgs,
                                l = a.onForward;
                            s.default.forwardMessagesToChats(n, t).catchType(h.default, (function(t) {
                                e._showMediaSendError(t.reasons)
                            })), e.end(), l && l(n), c.default.openChatFromUnread(t[0])
                        }, e._showMediaSendError = function(e) {
                            var t = e.map((function(e) {
                                var t = e.chat,
                                    a = e.reason;
                                return d.default.createElement("p", {
                                    key: t.id.toString()
                                }, t.formattedTitle, " : ", a)
                            }));
                            c.default.openModal(d.default.createElement(f.default, {
                                onOK: function() {
                                    return c.default.closeModal()
                                },
                                okText: g.default.t(1865)
                            }, t), void 0)
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this.props.msgs,
                                a = g.default.t(767, {
                                    _plural: t.length || 1
                                }),
                                n = t[0],
                                l = n && n.chat;
                            e = "video" !== n.type && "image" !== n.type ? "message" : n.type;
                            var r, i = t.some((function(e) {
                                    return e.isFrequentlyForwarded
                                })),
                                o = t.filter((function(e) {
                                    return !e.isFrequentlyForwarded && e.getForwardingScoreWhenForwarded() === p.default.FREQUENTLY_FORWARDED_SENTINEL
                                }));
                            _.default.frequentlyForwardedMessages && o.length && (r = d.default.createElement(v.default, {
                                frequentlyForwardedCount: o.length,
                                totalCount: t.length
                            }));
                            var u = _.default.frequentlyForwardedMessages && i ? _.default.frequentlyForwardedMax : _.default.multicastLimitGlobal;
                            this.push(d.default.createElement(E.default, {
                                onConfirm: this.onForwardConfirmed,
                                maxItems: u,
                                excludeChat: l,
                                excludeBroadcast: !0,
                                msgType: e,
                                title: a,
                                listType: E.ListType.CHAT_SELECT_MODAL,
                                customHeader: r,
                                hasFrequentlyForwarded: i,
                                showEphemeralIcon: !0
                            }))
                        }
                    }]), a
                }(m.default);
            t.default = C
        },
        46418: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(28082)),
                s = n(a(44950)),
                c = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        return (0, l.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(u.default.createElement(s.default, {
                                chat: this.props.chat,
                                onConfirm: this.props.onConfirm
                            }))
                        }
                    }]), a
                }(d.default);
            t.default = c
        },
        99232: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(28082)),
                s = n(a(31098)),
                c = n(a(31869)),
                f = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).onProductClick = function(t) {
                            e.push(u.default.createElement(c.default, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(u.default.createElement(s.default, {
                                msg: this.props.msg,
                                onProductClick: this.onProductClick
                            }))
                        }
                    }]), a
                }(d.default);
            t.default = f
        },
        61007: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = r(a(67294)),
                c = r(a(26671)),
                f = r(a(34541)),
                p = r(a(25960)),
                m = r(a(28082)),
                h = r(a(13361)),
                v = r(a(44858)),
                g = r(a(89115)),
                E = r(a(64703)),
                _ = r(a(45706)),
                C = a(67298),
                y = l(a(92631)),
                S = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var l = arguments.length, r = new Array(l), o = 0; o < l; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r))).onSendInvite = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                a = arguments.length > 1 ? arguments[1] : void 0;
                            f.default.closeModal(), n.all(e.props.participantNeedInvite.map((function(n) {
                                var l = n.contact,
                                    r = n.invite_code,
                                    i = n.invite_code_exp;
                                return c.default.find(l.id).then((function(n) {
                                    var o = e.props.groupGid.toString(),
                                        u = h.default.assertGet(o);
                                    return n.sendGroupInviteMessage(o, e.props.subject, r || "", i, t, a).then((function(e) {
                                        return e === C.SendMsgResult.OK && (u.pendingParticipants.add({
                                            id: l.id
                                        }), !0)
                                    }))
                                }))
                            }))).then((function(e) {
                                var t = e.filter(Boolean).length;
                                f.default.openToast(s.default.createElement(y.default, {
                                    msg: g.default.t(1816, {
                                        num: t,
                                        _plural: t
                                    }),
                                    id: (0, y.genId)()
                                }))
                            }))
                        }, e._addInviteCommment = function(t) {
                            e.push(s.default.createElement(v.default, {
                                participants: t,
                                gid: e.props.groupGid,
                                subject: e.props.subject,
                                groupDesc: e.props.groupDesc,
                                onClose: e._pop,
                                onSend: e.onSendInvite
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.participantNeedInvite,
                                t = this._getFormattedNames(e.map((function(e) {
                                    return e.contact
                                })), !0),
                                a = g.default.t(850, {
                                    participant: t,
                                    _plural: e.length
                                });
                            this.push(s.default.createElement(p.default, {
                                onOK: this._addInviteCommment.bind(this, e),
                                okText: g.default.t(1815),
                                onCancel: this._pop,
                                cancelText: g.default.t(1694)
                            }, a))
                        }
                    }, {
                        key: "_getFormattedName",
                        value: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return t ? e.formattedUser : s.default.createElement(_.default, {
                                contact: e
                            })
                        }
                    }, {
                        key: "_getFormattedNames",
                        value: function(e) {
                            var t = this,
                                a = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            if (!Array.isArray(e)) return this._getFormattedName(e, a);
                            var n = e.map((function(e) {
                                return t._getFormattedName(e, a)
                            }));
                            return (0, E.default)(n, a)
                        }
                    }]), a
                }(m.default);
            t.default = S, S.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        42270: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(67294)),
                s = n(a(10193)),
                c = l(a(28082)),
                f = l(a(76584)),
                p = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).onImageSelected = function(t, a) {
                            e.push(d.default.createElement(s.default, {
                                onCancel: e._handleCancel,
                                attributionUrl: a,
                                onFinished: e.onFinished,
                                onRetake: e._pop,
                                retryText: s.RETRY_OPTIONS.NONE,
                                img: t
                            }))
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e.onFinished = function(t, a) {
                            e.props.onFinished(t, a), e.end()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(d.default.createElement(f.default, {
                                onCancel: this._pop,
                                onImageSelected: this.onImageSelected
                            }))
                        }
                    }]), a
                }(c.default);
            t.default = p
        },
        77550: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(23976)),
                s = n(a(34541)),
                c = n(a(25960)),
                f = n(a(34263)),
                p = n(a(28082)),
                m = n(a(89115)),
                h = n(a(6705)),
                v = n(a(31024)),
                g = n(a(24616)),
                E = n(a(47135)),
                _ = function(e) {
                    (0, i.default)(n, e);
                    var t = (0, o.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).onDeleteLabel = function(e) {
                            e.forEach((function(e) {
                                var t = e.id;
                                h.default.deleteLabel(t)
                            }))
                        }, e._onManageLabels = function(e) {
                            s.default.openModal(u.default.createElement(E.default, {
                                modelsToUpdate: e
                            }))
                        }, e.onEditLabel = function(t) {
                            s.default.openModal(u.default.createElement(d.default, {
                                labelId: t,
                                onUpdateLabel: e.onUpdateLabel,
                                onCancel: s.default.closeModal()
                            }))
                        }, e.onLabelClick = function(t) {
                            var n = a(9362).Z;
                            e.push(u.default.createElement(n, {
                                openLabelColorDrawer: e.openLabelColorDrawer,
                                labelId: t,
                                onManageLabels: e._onManageLabels,
                                onClose: e._pop,
                                onRemoveLabel: e.onRemoveLabel,
                                onEditLabel: e.onEditLabel
                            }))
                        }, e.openAddLabel = function() {
                            h.default.toArray().length >= f.default.MAX_SMB_LABEL_COUNT ? s.default.openModal(u.default.createElement(c.default, {
                                okText: m.default.t(1221),
                                onOK: function() {
                                    return s.default.closeModal()
                                }
                            }, m.default.t(2025, {
                                count: f.default.MAX_SMB_LABEL_COUNT
                            }))) : s.default.openModal(u.default.createElement(d.default, {
                                onAddLabel: e.onAddLabel,
                                onCancel: s.default.closeModal()
                            }))
                        }, e.onUpdateLabel = function(e, t) {
                            h.default.updateLabel(e, t)
                        }, e.openLabelColorDrawer = function(t, a) {
                            e.push(u.default.createElement(v.default, {
                                labelId: t,
                                onClose: e._pop,
                                onUpdateColor: e.onUpdateLabel,
                                currentColor: a
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, r.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(u.default.createElement(g.default, {
                                onDeleteLabel: this.onDeleteLabel,
                                onLabelClick: this.onLabelClick,
                                onClose: this._pop,
                                openAddLabel: this.openAddLabel
                            }))
                        }
                    }, {
                        key: "onAddLabel",
                        value: function(e, t) {
                            h.default.addNewLabel(e, t)
                        }
                    }, {
                        key: "onRemoveLabel",
                        value: function(e, t) {
                            h.default.addOrRemoveLabels([{
                                id: e,
                                type: "remove"
                            }], t)
                        }
                    }]), n
                }(p.default);
            t.default = _
        },
        29262: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(23976)),
                s = n(a(54654)),
                c = n(a(34541)),
                f = n(a(25960)),
                p = n(a(34263)),
                m = n(a(28082)),
                h = n(a(89115)),
                v = n(a(6705)),
                g = a(64550),
                E = n(a(17187)),
                _ = n(a(8643)),
                C = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r)))._newlyAddedLabels = new Set, e._logWamEvent = function() {
                            var t = e.props.modelsToUpdate.length;
                            e._labelViewType = 1 === t ? e.props.modelsToUpdate[0] instanceof s.default ? _.default.LABEL_TARGETS.LABEL_CHAT_DIALOG : _.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG : _.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG, (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, t, e._labelViewType)
                        }, e.onLabelUpdateComplete = function() {
                            e.props.onLabelUpdateComplete && e.props.onLabelUpdateComplete(), e._pop()
                        }, e.onAddLabel = function(t, a) {
                            v.default.addNewLabel(t, a).then((function() {
                                e._newlyAddedLabels.add(t)
                            }))
                        }, e.shouldScrollIntoViewAndSelect = function(t) {
                            return e._newlyAddedLabels.has(t) ? (e._newlyAddedLabels.delete(t), {
                                shouldScrollIntoView: !0,
                                shouldSelect: !0
                            }) : {
                                shouldScrollIntoView: !1,
                                shouldSelect: !1
                            }
                        }, e.onAddNewLabel = function() {
                            v.default.toArray().length >= p.default.MAX_SMB_LABEL_COUNT ? c.default.openModal(u.default.createElement(f.default, {
                                okText: h.default.t(1221),
                                onOK: function() {
                                    return c.default.closeModal()
                                }
                            }, h.default.t(2025, {
                                count: p.default.MAX_SMB_LABEL_COUNT
                            }))) : e.push(u.default.createElement(d.default, {
                                onAddLabel: e.onAddLabel,
                                onCancel: e._pop
                            }))
                        }, e._popAndLogEvent = function() {
                            e._labelViewType && (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.props.modelsToUpdate.length, e._labelViewType), e.pop()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._logWamEvent(), this.push(u.default.createElement(E.default, {
                                shouldScrollIntoViewAndSelect: this.shouldScrollIntoViewAndSelect,
                                onAddNewLabel: this.onAddNewLabel,
                                onLabelUpdateComplete: this.onLabelUpdateComplete,
                                onCancel: this._popAndLogEvent,
                                modelsToUpdate: this.props.modelsToUpdate
                            }))
                        }
                    }]), a
                }(m.default);
            t.default = C, C.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        52772: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(26671)),
                s = n(a(34541)),
                c = n(a(48629)),
                f = n(a(61211)),
                p = n(a(28082)),
                m = n(a(89115)),
                h = n(a(20465)),
                v = n(a(35370)),
                g = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).onClick = function(t, a) {
                            d.default.find(a.id).then(s.default.openChatFromUnread.bind(s.default)), e.end()
                        }, e.onNewGroup = function() {
                            e.push(u.default.createElement(v.default, {
                                onBack: e.pop,
                                onContinue: e.onSetGroupInfo
                            }))
                        }, e.onSetGroupInfo = function(t) {
                            e.push(u.default.createElement(h.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onContinue: e.end
                            }))
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            c.default.ensureSorted(), this.push(u.default.createElement(f.default, {
                                title: m.default.t(1188),
                                onBack: this.end,
                                onClick: this.onClick,
                                onNewGroup: this.onNewGroup
                            }))
                        }
                    }]), a
                }(p.default);
            t.default = g
        },
        89210: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(48629)),
                s = n(a(28082)),
                c = n(a(20465)),
                f = n(a(35370)),
                p = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).onSetGroupInfo = function(t) {
                            e.push(u.default.createElement(c.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onContinue: e.end
                            }))
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            d.default.ensureSorted(), this.push(u.default.createElement(f.default, {
                                onBack: this.end,
                                onContinue: this.onSetGroupInfo
                            }))
                        }
                    }]), a
                }(s.default);
            t.default = p
        },
        12652: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = D;
            var r = l(a(67154)),
                i = l(a(87757)),
                o = l(a(48926)),
                u = l(a(34575)),
                d = l(a(93913)),
                s = l(a(2205)),
                c = l(a(99842)),
                f = n(a(67294)),
                p = l(a(93250)),
                m = l(a(46991)),
                h = l(a(61418)),
                v = l(a(96438)),
                g = l(a(48629)),
                E = l(a(66015)),
                _ = l(a(28082)),
                C = a(31230),
                y = a(85539),
                S = l(a(45554)),
                k = a(79164),
                M = l(a(71431)),
                T = l(a(10437)),
                I = l(a(89193)),
                b = l(a(82260)),
                P = l(a(95297)),
                w = l(a(32702)),
                L = a(75793),
                O = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, c.default)(a);

                    function a() {
                        var e;
                        (0, u.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).scrollOffset = 0, e.setScrollOffset = function(t) {
                            e.scrollOffset = t
                        }, e.onCollectionSeeAll = function(t) {
                            var a = e.props,
                                n = a.catalogOwnerJid,
                                l = a.chat,
                                r = a.product,
                                i = a.productInfo,
                                o = a.sellerJid,
                                u = n || (null == r ? void 0 : r.catalogWid.toString()) || (null == i ? void 0 : i.businessOwnerJid) || o;
                            e.push(f.default.createElement(D, {
                                chat: l,
                                catalogOwnerJid: u,
                                collection: t,
                                isAllItems: !t
                            }))
                        }, e._pushProductDetails = function(t, a) {
                            var n = e.props,
                                l = n.chat,
                                r = n.refreshCarousel,
                                i = f.default.createElement(M.default, {
                                    chat: l,
                                    product: t,
                                    onEnd: e._end,
                                    onBack: e._popAndUpdate,
                                    onProductDetail: e.onProductDetail,
                                    onProductCatalog: e.onProductCatalogHeaderClick,
                                    onProductLinkClick: e._onProductLinkClick,
                                    refreshCarousel: r,
                                    onCartClick: e._onCartClick,
                                    collectionId: a
                                });
                            e.push(i)
                        }, e._pushProductDetailsWithDeepLink = function(t) {
                            var a = f.default.createElement(T.default, {
                                chat: e.props.chat,
                                productInfo: t,
                                onEnd: e._end,
                                onBack: e._pop,
                                onProductDetail: e.onProductDetail,
                                onProductCatalog: e.onProductCatalogHeaderClick,
                                onProductLinkClick: e._onProductLinkClick,
                                onCartClick: e._onCartClick
                            });
                            e.push(a)
                        }, e.pushProductCatalog = function() {
                            var t = (0, o.default)(i.default.mark((function t(a) {
                                var n, l, r;
                                return i.default.wrap((function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            return n = g.default.gadd(a), t.next = 3, p.default.find(a);
                                        case 3:
                                            l = t.sent, r = (0, C.canViewCollections)() ? f.default.createElement(h.default, {
                                                contact: n,
                                                onProductDetail: e.onProductDetail,
                                                catalogId: a,
                                                onBack: e._pop,
                                                businessProfile: l,
                                                scrollOffset: e.scrollOffset,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._onCatalogLinkClick,
                                                onCartClick: e._onCartClick,
                                                onCollectionSeeAll: e.onCollectionSeeAll
                                            }) : f.default.createElement(b.default, {
                                                contact: n,
                                                onProductDetail: e.onProductDetail,
                                                catalogId: a,
                                                onBack: e._pop,
                                                businessProfile: l,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._onCatalogLinkClick,
                                                onCartClick: e._onCartClick
                                            }), e.push(r);
                                        case 6:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })));
                            return function() {
                                return t.apply(this, arguments)
                            }
                        }(), e._pushOrderDetail = function(t, a, n, l) {
                            var r = f.default.createElement(S.default, {
                                orderId: t,
                                token: a,
                                sellerJid: n,
                                userIsCartOwner: l,
                                onProductDetail: e._onProductDetailFromInfo
                            });
                            e.push(r)
                        }, e._pushProductList = function(t, a) {
                            var n = g.default.gadd(a),
                                l = f.default.createElement(P.default, {
                                    contact: n,
                                    productListId: t,
                                    onProductDetail: e.onProductDetail,
                                    onCartClick: e._onCartClick,
                                    onBack: e._pop,
                                    onEnd: e._end,
                                    setScrollOffset: e.setScrollOffset
                                });
                            e.push(l)
                        }, e.onProductDetail = function(t, a) {
                            e._pushProductDetails(t, a)
                        }, e._onProductDetailFromInfo = function(t) {
                            e._pushProductDetailsWithDeepLink(t)
                        }, e.onProductCatalogHeaderClick = function(t, a) {
                            (0, y.logCarouselViewMoreClick)({
                                catalogOwnerWid: t,
                                catalogContext: a
                            }), e.pushProductCatalog(t)
                        }, e._onProductLinkClick = function(t) {
                            e.push(f.default.createElement(I.default, {
                                product: t,
                                onBack: e._pop
                            }))
                        }, e._onCatalogLinkClick = function(t, a) {
                            e.push(f.default.createElement(m.default, {
                                catalog: t,
                                contact: a,
                                onBack: e._pop
                            }))
                        }, e._onCartClick = function(t) {
                            var a = (0, k.getProductCatalogContext)(e.props.context),
                                n = (0, w.default)(t, e.props.chat, a);
                            n && e.push(n)
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e._popAndUpdate = function() {
                            e.popAndUpdate({
                                scrollOffset: e.scrollOffset
                            })
                        }, e
                    }
                    return (0, d.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props,
                                t = e.catalogOwnerJid,
                                a = e.orderId,
                                n = e.product,
                                l = e.productInfo,
                                r = e.productListId,
                                i = e.collection,
                                o = e.collectionId,
                                u = e.isAllItems,
                                d = e.token,
                                s = e.sellerJid,
                                c = e.userIsCartOwner;
                            if (t) i || u ? this.pushCollectionContent((0, L.createWid)(t)) : null != r ? this._pushProductList(r, (0, L.createWid)(t)) : this.pushProductCatalog((0, L.createWid)(t));
                            else if (n) this._pushProductDetails(n, o);
                            else if (l) this._pushProductDetailsWithDeepLink(l);
                            else {
                                if (!a) throw new Error("ProductDetailsFlow:no-product");
                                null != d && null != s && null != c && this._pushOrderDetail(a, d, s, c)
                            }
                        }
                    }, {
                        key: "pushCollectionContent",
                        value: function(e) {
                            var t = g.default.gadd(e);
                            this.push(f.default.createElement(v.default, {
                                contact: t,
                                onProductDetail: this.onProductDetail,
                                catalogId: e,
                                onBack: this._pop,
                                onCatalogLinkClick: this._onCatalogLinkClick,
                                onCartClick: this._onCartClick,
                                scrollOffset: this.scrollOffset,
                                setScrollOffset: this.setScrollOffset,
                                collection: this.props.collection
                            }))
                        }
                    }]), a
                }(_.default);

            function D(e) {
                var t = (0, f.useContext)(E.default);
                return f.default.createElement(O, (0, r.default)({
                    context: t
                }, e))
            }
        },
        83836: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(67154)),
                i = l(a(43269)),
                o = l(a(34575)),
                u = l(a(93913)),
                d = l(a(2205)),
                s = l(a(99842)),
                c = l(a(67294)),
                f = l(a(28082)),
                p = l(a(89115)),
                m = n(a(66132)),
                h = l(a(26011)),
                v = l(a(63056)),
                g = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l)))._handleForwardConfirmed = function(t) {
                            0 === t.length && e.end(), e._chatsToForwardTo = t, e._sendContactToChats(t)
                        }, e._sendContactToChats = function(t) {
                            var a, n = (0, i.default)(t);
                            try {
                                for (n.s(); !(a = n.n()).done;) {
                                    var l = a.value;
                                    (0, h.default)(e.props.contacts, l), l.composeQuotedMsg = null
                                }
                            } catch (e) {
                                n.e(e)
                            } finally {
                                n.f()
                            }
                            e.props.onContactsSent(t[0]), e.end()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e._handleCancel = function() {
                            e.end()
                        }, e
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = null == this.props.maxItems ? this.props.serverProps.maxParticipants : this.props.maxItems;
                            this.push(c.default.createElement(m.default, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: e,
                                title: p.default.t(1394),
                                listType: m.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), a
                }(f.default);
            t.default = function(e) {
                return c.default.createElement(g, (0, r.default)({}, e, {
                    serverProps: v.default
                }))
            }
        },
        85246: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.chat,
                    n = (0, l.default)(null === (t = a.groupMetadata) || void 0 === t ? void 0 : t.groupInviteLink, "chat.groupMetadata?.groupInviteLink"),
                    u = `${i.default.t(844)} ${n}`;
                return r.default.createElement(o.default, {
                    title: i.default.t(829),
                    text: u,
                    pushTransition: "none",
                    popTransition: "none"
                })
            };
            var l = n(a(91080)),
                r = n(a(67294)),
                i = n(a(89115)),
                o = n(a(98648))
        },
        4149: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(67154)),
                o = r(a(34575)),
                u = r(a(93913)),
                d = r(a(2205)),
                s = r(a(99842)),
                c = r(a(67294)),
                f = a(99703),
                p = r(a(34541)),
                m = r(a(28082)),
                h = r(a(89115)),
                v = l(a(66132)),
                g = a(47805),
                E = r(a(63056)),
                _ = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var l = arguments.length, r = new Array(l), i = 0; i < l; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).onForwardConfirmed = function(t) {
                            var a = e.props.msgText;
                            if (1 === t.length) {
                                var l = t[0];
                                (l.isUser && l.contact.isBlocked() ? (0, f.unblockContact)(l.contact) : n.resolve(!0)).then((function() {
                                    if (a) {
                                        if (l.urlText = e.props.urlText, l.active) return void p.default.pasteChatTextInput(l, a);
                                        l.setComposeContents({
                                            text: a
                                        })
                                    }
                                    return p.default.openChatFromUnread(l).then((function(e) {
                                        e && p.default.focusChatTextInput(l)
                                    }))
                                }))
                            } else n.all(t.map((function(t) {
                                (t.isUser && t.contact.isBlocked() ? (0, f.unblockContact)(t.contact) : n.resolve(!0)).then((function() {
                                    t.urlText = e.props.urlText, (0, g.sendTextMsgToChat)(t, a)
                                }))
                            }))), p.default.openChatFromUnread(t[0]);
                            e.end()
                        }, e
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(c.default.createElement(v.default, {
                                onConfirm: this.onForwardConfirmed,
                                maxItems: this.props.serverProps.multicastLimitGlobal,
                                title: h.default.t(1098),
                                listType: v.ListType.CHAT_SELECT_MODAL
                            }))
                        }
                    }]), a
                }(m.default);
            t.default = function(e) {
                return c.default.createElement(_, (0, i.default)({}, e, {
                    serverProps: E.default
                }))
            }
        },
        64166: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(87757)),
                i = l(a(48926)),
                o = l(a(34575)),
                u = l(a(93913)),
                d = l(a(2205)),
                s = l(a(99842)),
                c = l(a(67294)),
                f = a(99703),
                p = l(a(34541)),
                m = l(a(34263)),
                h = l(a(28082)),
                v = l(a(89115)),
                g = n(a(66132)),
                E = l(a(63056)),
                _ = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), u = 0; u < n; u++) l[u] = arguments[u];
                        return (e = t.call.apply(t, [this].concat(l)))._handleForwardConfirmed = function(t) {
                            t.forEach(function() {
                                var t = (0, i.default)(r.default.mark((function t(a) {
                                    return r.default.wrap((function(t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                if (!a.isUser || !a.contact.isBlocked()) {
                                                    t.next = 3;
                                                    break
                                                }
                                                return t.next = 3, (0, f.unblockContact)(a.contact);
                                            case 3:
                                                e._sendProduct(a);
                                            case 4:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t)
                                })));
                                return function() {
                                    return t.apply(this, arguments)
                                }
                            }()), e.end(), 1 === t.length && (p.default.openChatFromUnread(t[0]), window.innerWidth <= m.default.LAYOUT_2COLUMNS_MAX_WIDTH && p.default.closeDrawerRight()), e.props.onSend && e.props.onSend()
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._sendProduct = function(t) {
                            var a = e.props.product;
                            p.default.once("ui_idle", (function() {
                                t.sendProductMessage(a)
                            }))
                        }, e
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            p.default.closeContextMenu(), p.default.closeTooltip(), this.push(c.default.createElement(g.default, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: E.default.multicastLimitGlobal,
                                title: v.default.t(1098),
                                listType: g.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), a
                }(h.default);
            t.default = _
        },
        16621: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(67294)),
                s = l(a(83365)),
                c = l(a(45911)),
                f = n(a(70371)),
                p = l(a(34541)),
                m = l(a(93743)),
                h = l(a(48629)),
                v = l(a(28082)),
                g = a(71701),
                E = l(a(62887)),
                _ = l(a(39304)),
                C = l(a(38857)),
                y = l(a(94289)),
                S = l(a(58012)),
                k = l(a(99838)),
                M = l(a(58695)),
                T = l(a(48277)),
                I = l(a(43454)),
                b = l(a(31446)),
                P = l(a(27495)),
                w = l(a(43979)),
                L = l(a(37485)),
                O = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l)))._showWallpaperDrawer = function() {
                            e.push(d.default.createElement(P.default, {
                                onClose: e._pop
                            }))
                        }, e._showArchiveSettingsDrawer = function() {
                            e.push(d.default.createElement(s.default, {
                                settings: M.default,
                                onClose: e._pop
                            }))
                        }, e._showBlockedDrawer = function() {
                            e.push(d.default.createElement(c.default, {
                                onClose: e._pop
                            }))
                        }, e._showProfileDrawer = function() {
                            var t = (0, g.getMaybeMeUser)(),
                                a = I.default.assertGet(t),
                                n = k.default.assertGet(t),
                                l = h.default.assertGet(t);
                            e.push(d.default.createElement(S.default, {
                                status: a,
                                profilePicThumb: n,
                                contact: l,
                                conn: m.default,
                                onClose: e._pop
                            }))
                        }, e._showNotifications = function() {
                            e.push(d.default.createElement(y.default, {
                                onClose: e._pop
                            }))
                        }, e._showMediaAutoDownload = function() {
                            e.push(d.default.createElement(C.default, {
                                onClose: e._pop
                            }))
                        }, e._showSecurity = function() {
                            e.push(d.default.createElement(L.default, {
                                onClose: e._pop
                            }))
                        }, e._showDesktopSettingsDrawer = function() {
                            e.push(d.default.createElement(w.default, {
                                onClose: e._pop
                            }))
                        }, e._showHelp = function() {
                            f.upload({
                                reason: "help-page-opened",
                                isHighPri: !0
                            }), e.push(d.default.createElement(E.default, {
                                onClose: e._pop
                            }))
                        }, e._showThemePopup = function() {
                            p.default.openModal(d.default.createElement(b.default, null))
                        }, e.showKeyboardShortcuts = function() {
                            p.default.openModal(d.default.createElement(_.default, null))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push(d.default.createElement(T.default, {
                                profileId: (0, g.getMaybeMeUser)(),
                                onWallpaper: this._showWallpaperDrawer,
                                onBlocked: this._showBlockedDrawer,
                                onProfile: this._showProfileDrawer,
                                onNotifications: this._showNotifications,
                                onMediaAutoDownload: this._showMediaAutoDownload,
                                onSecurity: this._showSecurity,
                                onDesktopSettings: this._showDesktopSettingsDrawer,
                                onHelp: this._showHelp,
                                onThemeSettings: this._showThemePopup,
                                onKeyboardShortcuts: this.showKeyboardShortcuts,
                                onClose: this._pop,
                                settings: M.default,
                                onArchiveSettings: this._showArchiveSettingsDrawer
                            }))
                        }
                    }]), a
                }(v.default);
            t.default = O
        },
        36305: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(93913)),
                i = n(a(2205)),
                o = n(a(99842)),
                u = n(a(67294)),
                d = n(a(34541)),
                s = n(a(28082)),
                c = n(a(68390)),
                f = n(a(12393)),
                p = n(a(27124)),
                m = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).sessionId = Math.round(1e9 * Math.random()), e._openStatusViewer = function(t, a, n) {
                            e.push(u.default.createElement(p.default, {
                                initialStatusV3: t,
                                initialStatusMsg: a,
                                closeStatusViewer: e.closeStatusViewer,
                                sessionId: e.sessionId,
                                rowIdx: n
                            }), "none")
                        }, e.closeStatusViewer = function(t) {
                            t ? e.end() : e.pop("none")
                        }, e
                    }
                    return (0, r.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push(u.default.createElement(f.default, {
                                onOpenStatus: this._openStatusViewer,
                                closeStatusViewer: this.closeStatusViewer,
                                sessionId: this.sessionId
                            }), "status-v3-modal"), this.props.listeners.add(d.default, "close_status_viewer", (function() {
                                e.closeStatusViewer(!0)
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.props.onFlowEnd()
                        }
                    }]), a
                }(s.default),
                h = (0, c.default)(m);
            t.default = h
        },
        19284: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(10598)),
                c = l(a(41769)),
                f = a(31230),
                p = l(a(89115)),
                m = l(a(6705)),
                h = n(a(85221)),
                v = l(a(68390)),
                g = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l)))._updateLabels = function() {
                            e.forceUpdate()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.listeners.add(m.default, `label_updated_${this.props.label}`, this._updateLabels)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.label,
                                t = m.default.get(e);
                            if (!t || !t.name) return null;
                            if ("label-list" === this.props.theme) {
                                var a = d.default.createElement(h.default, {
                                        renderAsCircle: "label-list" === this.props.theme,
                                        theme: this.props.theme,
                                        labels: [e]
                                    }),
                                    n = d.default.createElement(c.default, {
                                        text: t.name,
                                        ellipsify: !0,
                                        titlify: !0
                                    });
                                return d.default.createElement(s.default, {
                                    theme: (0, f.canEditLabel)() ? "chat-checkbox" : void 0,
                                    image: a,
                                    primary: n,
                                    secondary: p.default.t(925, {
                                        count: parseInt(t.count || 0, 10),
                                        _plural: parseInt(t.count || 0, 10)
                                    })
                                })
                            }
                            var l = (0, h.renderLabelSvg)(t.hexColor),
                                r = d.default.createElement(c.default, {
                                    text: t.name,
                                    ellipsify: !0,
                                    titlify: !0
                                });
                            return d.default.createElement(s.default, {
                                theme: "label-selection",
                                image: l,
                                primary: r
                            })
                        }
                    }]), a
                }(d.PureComponent);
            g.displayName = "LabelListItem";
            var E = (0, v.default)(g);
            t.default = E
        },
        25065: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(319)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = n(a(67294)),
                c = l(a(98894)),
                f = l(a(22021)),
                p = a(31230),
                m = l(a(6705)),
                h = l(a(19284)),
                v = l(a(68390)),
                g = l(a(36452)),
                E = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        return (0, i.default)(this, a), (e = t.call(this))._refLastLabel = null, e.updateData = function(t, a, n) {
                            var l = e.props.shouldScrollIntoViewAndSelect;
                            e.setState({
                                labels: m.default.toArray()
                            }, (function() {
                                if (n.add && l) {
                                    var a = l(t.name),
                                        r = a.shouldScrollIntoView,
                                        i = a.shouldSelect;
                                    r && e._refLastLabel && e._refLastLabel.scrollIntoView({
                                        behavior: "smooth"
                                    }), i && e.onMultiSelect(t, !0, !1)
                                }
                            }))
                        }, e._setRefLastLabel = function(t) {
                            e._refLastLabel = t
                        }, e.onMultiSelect = function(t, a, n) {
                            var l = e.props,
                                r = l.selectedLabels,
                                i = l.onMultiSelect;
                            r && r.setVal(t, a, n), i && i(t.id)
                        }, e._renderLabelRow = function() {
                            var t = e.props,
                                a = t.renderContext,
                                n = t.onLabelClick,
                                l = t.initialLabelState,
                                i = void 0 === l ? {} : l,
                                o = e.props.SelectableState || new g.default(!0),
                                u = f.default.supportsFeature(f.default.F.MD_BACKEND) ? (0, r.default)(e.state.labels).sort((function(e, t) {
                                    var a = parseInt(e.id, 10),
                                        n = parseInt(t.id, 10);
                                    return isNaN(a) || isNaN(n) ? 0 : a - n
                                })) : e.state.labels;
                            return u.reduce((function(t, l, d) {
                                var f = m.default.assertGet(l.id);
                                if (!l.name) return t;
                                var v = "label-selection" === a || (0, p.canEditLabel)() ? s.default.createElement(c.default, {
                                    theme: a,
                                    model: f,
                                    initialSelection: i[l.id] || 0,
                                    multiSelection: e.props.selectedLabels,
                                    selectableState: o,
                                    onSelect: e.onMultiSelect
                                }, s.default.createElement(h.default, {
                                    label: l.id
                                })) : s.default.createElement(h.default, {
                                    label: l.id,
                                    theme: a
                                });
                                return [].concat((0, r.default)(t), [s.default.createElement("div", {
                                    key: `label_item_${l.id}`,
                                    ref: d === u.length - 1 ? e._setRefLastLabel : function() {},
                                    onClick: n ? n.bind(null, l.id) : function() {}
                                }, v)])
                            }), [])
                        }, e.state = {
                            labels: m.default.toArray()
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.listeners.add(m.default, "add remove", this.updateData)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return s.default.createElement("div", null, this._renderLabelRow())
                        }
                    }]), a
                }(s.PureComponent);
            E.displayName = "MultiSelectLabelList";
            var _ = (0, v.default)(E);
            t.default = _
        },
        29248: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "LiveLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return l.default
                }
            }), Object.defineProperty(t, "ExpiredLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return r.default
                }
            });
            var l = n(a(43365)),
                r = n(a(4945))
        },
        64487: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasContext = void 0;
            var n = {
                    transforming: !1,
                    dragging: !1,
                    editing: !1
                },
                l = (0, a(67294).createContext)(n);
            t.CanvasContext = l
        },
        36540: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasLayer = function(e) {
                var t, a, n, l, _ = e.layer,
                    C = e.scale,
                    y = e.editing,
                    S = e.selected,
                    k = e.editable,
                    M = e.textBackgroundShadow,
                    T = e.paintCanvasRef,
                    I = e.selectedGroupRef,
                    b = e.transformerRef,
                    P = e.stageWidth,
                    w = e.stageHeight,
                    L = e.onSelect,
                    O = e.onDoubleClick,
                    D = e.onDragStart,
                    N = e.onDragEnd,
                    R = e.onDragMove,
                    A = e.onTransformStart,
                    x = e.onTransformEnd,
                    F = (0, i.useState)(!1),
                    U = (0, r.default)(F, 2),
                    B = U[0],
                    G = U[1],
                    H = (0, i.useContext)(o.CanvasContext);
                k && S && !y && (a = i.default.createElement(h.default, {
                    layer: _
                }), l = i.default.createElement(m.Transformer, {
                    key: "transformer",
                    ref: b,
                    anchorStroke: "blue",
                    anchorFill: "white",
                    anchorSize: 8,
                    anchorCornerRadius: 4,
                    borderEnabled: !1,
                    centeredScaling: !0,
                    enabledAnchors: ["bottom-right"],
                    resizeEnabled: !0,
                    rotateAnchorOffset: 12,
                    rotateEnabled: !0,
                    rotationSnaps: E,
                    ignoreStroke: !0,
                    rotationSnapTolerance: 10,
                    boundBoxFunc: function(e, t) {
                        var a = t.width / C,
                            n = t.height / C;
                        return _ instanceof g.default && (a <= 18 || n <= 18) || a <= 36 || n <= 36 ? e : t
                    }
                }));
                k && B && !S && (n = i.default.createElement(u.default, {
                    layer: _
                }));
                _ instanceof s.default ? t = i.default.createElement(d.default, {
                    layer: _
                }) : _ instanceof f.default ? t = i.default.createElement(p.default, {
                    ref: T,
                    layer: _
                }) : _ instanceof g.default && !y && (t = i.default.createElement(v.default, {
                    layer: _,
                    shadow: M
                }));
                (0, i.useEffect)((function() {
                    y && G(!1)
                }), [y, G]);
                var j = _.frame.getCenter();
                return i.default.createElement(i.default.Fragment, null, i.default.createElement(m.Group, {
                    ref: S ? I : null,
                    x: j.x,
                    y: j.y,
                    offsetX: _.width / 2,
                    offsetY: _.height / 2,
                    width: _.width,
                    height: _.height,
                    rotation: _.rotation,
                    scaleX: _.scale,
                    scaleY: _.scale,
                    draggable: k,
                    dragBoundFunc: function(e) {
                        var t = e.x,
                            a = e.y;
                        return t < 0 ? t = 0 : t > P && (t = P), a < 0 ? a = 0 : a > w && (a = w), {
                            x: t,
                            y: a
                        }
                    },
                    onMouseEnter: function(e) {
                        !_.editable || H.dragging || H.transforming || (e.cancelBubble = !0, G(!0))
                    },
                    onMouseLeave: function(e) {
                        _.editable && (e.cancelBubble = !0, G(!1))
                    },
                    onMouseDown: function(e) {
                        _.editable && (e.cancelBubble = !0, L(_))
                    },
                    onDblClick: function() {
                        return O(_)
                    },
                    onDragStart: function() {
                        return D(_)
                    },
                    onDragEnd: function(e) {
                        var t = (0, c.getPointFromGroup)(e);
                        N(_, t)
                    },
                    onDragMove: function(e) {
                        return R(_, e)
                    },
                    onTransformStart: function() {
                        return A(_)
                    },
                    onTransformEnd: function(e) {
                        if (S) {
                            var t = (0, c.getRotationFromGroup)(e),
                                a = (0, c.getScaleFromGroup)(e);
                            x(_, t, a)
                        }
                    }
                }, t, a, n), l)
            };
            var r = l(a(63038)),
                i = n(a(67294)),
                o = a(64487),
                u = l(a(17922)),
                d = l(a(22411)),
                s = l(a(96891)),
                c = a(77737),
                f = l(a(89359)),
                p = l(a(99298)),
                m = a(56257),
                h = l(a(28267)),
                v = l(a(48832)),
                g = l(a(88162)),
                E = [0, 45, 90, 135, 180, 225, 270, 315]
        },
        53907: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.EditableText = void 0;
            var r = l(a(67154)),
                i = l(a(81109)),
                o = l(a(63038)),
                u = a(96486),
                d = n(a(67294)),
                s = a(75300),
                c = l(a(52144)),
                f = l(a(14360)),
                p = l(a(93868)),
                m = a(49103),
                h = l(a(89115)),
                v = l(a(75131)),
                g = a(14453),
                E = l(a(4268)),
                _ = l(a(88117)),
                C = l(a(62978)),
                y = l(a(41334)),
                S = l(a(10394)),
                k = 1.2,
                M = (0, f.default)(),
                T = (0, d.forwardRef)((function(e, t) {
                    var a = e.text,
                        n = e.layer,
                        l = e.layerCenter,
                        f = e.scale,
                        g = e.onSave,
                        T = e.onUnselect,
                        P = e.onOutsideClick,
                        w = (0, d.useState)(a),
                        L = (0, o.default)(w, 2),
                        O = L[0],
                        D = L[1],
                        N = (0, d.useState)(),
                        R = (0, o.default)(N, 2),
                        A = R[0],
                        x = R[1],
                        F = (0, d.useRef)(),
                        U = (0, d.useCallback)((function() {
                            g(O.replace(/^\n+/, "").replace(/\n+$/, ""))
                        }), [g, O]);
                    (0, d.useImperativeHandle)(t, (function() {
                        return {
                            save: function() {
                                U(), T()
                            }
                        }
                    }), [U, T]);
                    var B = (0, C.default)((function(e) {
                            A || !1 === (null == P ? void 0 : P(e)) || (U(), T())
                        })),
                        G = function(e) {
                            var t = F.current;
                            t && t.replaceSelection(e)
                        },
                        H = function() {
                            x(null)
                        },
                        j = (0, S.default)((function(e) {
                            x({
                                menu: d.default.createElement(p.default, {
                                    onEmoji: G,
                                    onFocusNext: H,
                                    onFocusPrev: H
                                }),
                                anchor: e.target
                            })
                        })),
                        V = (0, o.default)(j, 2),
                        W = V[0],
                        z = V[1];
                    (0, d.useEffect)((function() {
                        var e, t;
                        null === (e = F.current) || void 0 === e || null === (t = e.refInput) || void 0 === t || t.focus()
                    }), []);
                    var K = {
                            borderWidth: 2,
                            padding: n.styles.layerPadding - 2,
                            transform: "scale(1.2)"
                        },
                        Y = {
                            left: l.x * f,
                            top: l.y * f
                        },
                        q = {
                            color: n.textColor.toHex(),
                            fontFamily: (0, m.getFontStyle)(n.font).fontFamily,
                            fontSize: n.fontSize,
                            lineHeight: `${n.lineHeight+2*n.styles.lineVerticalPadding}px`,
                            textAlign: I(n.alignment),
                            paddingLeft: n.styles.lineHorizontalPadding,
                            paddingRight: n.styles.lineHorizontalPadding,
                            borderWidth: 0,
                            borderRadius: 5,
                            margin: 0,
                            boxSizing: "border-box",
                            backgroundColor: n.textBackground ? n.textBackgroundColor.toHex() : void 0
                        },
                        Z = n.styles.backgroundShadow,
                        $ = {
                            boxShadow: n.textBackground ? `${Z.offsetX}px ${Z.offsetY}px ${Z.radius}px ${Z.spread}px ${Z.color.toRgbaString()}` : void 0
                        },
                        X = function(e) {
                            var t = (0, y.default)(e),
                                a = (0, d.useRef)(0);
                            t && !(0, u.isEqual)(t, e) && (a.current += 1);
                            return a.current
                        }(q),
                        J = (0, i.default)((0, i.default)({}, q), {}, {
                            fontSize: 15,
                            paddingRight: 8,
                            fontFamily: void 0
                        }),
                        Q = 20 - n.fontSize,
                        ee = n.styles.lineVerticalPadding - Q,
                        te = `\n    .${c.default.inputContainer} .emoji.emoji.emoji {\n      margin: ${ee}px ${-Q/2}px 0 ${-Q/2}px;\n      transform: scale(${n.fontSize/20});\n    }\n  `;
                    return d.default.createElement("div", {
                        className: c.default.positioner,
                        style: Y
                    }, d.default.createElement("div", {
                        className: c.default.container,
                        style: K
                    }, d.default.createElement("style", null, te), d.default.createElement("div", {
                        className: c.default.resizableInput,
                        ref: B
                    }, d.default.createElement("div", (0, r.default)({
                        className: c.default.emojiButton
                    }, z, {
                        ref: W,
                        style: {
                            transform: `scale(${1/k}) translateX(-60%)`,
                            top: -37.666666666666664
                        }
                    }), d.default.createElement("div", {
                        className: c.default.buttonIconWrapper
                    }, d.default.createElement(v.default, {
                        name: "smiley"
                    }))), d.default.createElement("div", {
                        className: c.default.inputContainer,
                        style: $
                    }, d.default.createElement(M, {
                        key: X,
                        style: q,
                        ref: F,
                        initialValue: O,
                        onChange: function(e) {
                            var t = e;
                            t = e.match(/\n\n$/) ? t.replace(/\n\n$/, "\n") : t.replace(/\n$/, ""), D(t)
                        },
                        onEnter: U,
                        multiline: !0,
                        theme: "media-editor-text-input",
                        placeholder: h.default.t(1023)
                    })), d.default.createElement(b, {
                        layer: n,
                        text: O || h.default.t(1023),
                        style: O ? q : J
                    }))), A && d.default.createElement(E.default, {
                        displayName: "EmojiPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: H
                    }, d.default.createElement(_.default, {
                        contextMenu: (0, i.default)({
                            dirY: s.DirY.TOP,
                            type: "emoji_picker"
                        }, A)
                    })))
                }));

            function I(e) {
                switch (e) {
                    case m.TextAlignment.LEFT:
                        return "left";
                    case m.TextAlignment.CENTER:
                        return "center";
                    case m.TextAlignment.RIGHT:
                        return "right"
                }
            }

            function b(e) {
                var t = e.text,
                    a = e.style,
                    n = e.layer;
                return d.default.createElement("div", {
                    className: c.default.hiddenText,
                    style: a
                }, (0, g.getLines)(t, n.font, n.fontSize, 0).map((function(e, t) {
                    return d.default.createElement("div", {
                        className: c.default.hiddenTextLine,
                        key: t
                    }, 0 === e.words.length ? " " : e.words.map((function(e, t) {
                        return e.emojiPath ? d.default.createElement("span", {
                            className: c.default.emojiPlaceholder,
                            key: t
                        }) : e.text
                    })))
                })))
            }
            t.EditableText = T
        },
        17922: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = t instanceof i.default && t.isSticker();
                return l.default.createElement(o.Rect, {
                    width: t.width,
                    height: t.height,
                    stroke: u.toRgbaString(),
                    strokeWidth: 2,
                    cornerRadius: a ? 40 : 5,
                    strokeScaleEnabled: !1
                })
            };
            var l = n(a(67294)),
                r = n(a(94618)),
                i = n(a(96891)),
                o = a(56257),
                u = new r.default(82, 248, 24, 1)
        },
        22411: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer;
                return l.default.createElement(r.Image, {
                    width: t.width,
                    height: t.height,
                    image: t.image
                })
            };
            var l = n(a(67294)),
                r = a(56257)
        },
        77417: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(81109)),
                i = l(a(43269)),
                o = l(a(34575)),
                u = l(a(93913)),
                d = l(a(2205)),
                s = l(a(99842)),
                c = a(96486),
                f = n(a(67294)),
                p = a(64487),
                m = a(36540),
                h = l(a(94618)),
                v = a(53907),
                g = l(a(22411)),
                E = a(77737),
                _ = l(a(20370)),
                C = a(56257),
                y = l(a(88162)),
                S = a(53747),
                k = "#52F818",
                M = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            guides: {
                                horizontal: null,
                                vertical: null
                            },
                            dragging: !1
                        }, e._setRefStage = function(t) {
                            e._refStage = t
                        }, e._setRefSelectedGroup = function(t) {
                            e._refSelectedGroup = t
                        }, e._setRefTransformer = function(t) {
                            e._refTransformer = t
                        }, e._setRefGuidesLayer = function(t) {
                            e._refGuidesLayer = t
                        }, e._refPaintCanvas = (0, f.createRef)(), e._refPaintOverlay = (0, f.createRef)(), e._refEditableText = (0, f.createRef)(), e._canvasContext = {
                            dragging: !1,
                            transforming: !1,
                            editing: !1
                        }, e._hideEditingState = function() {
                            var t, a, n, l, r, i, o, u, d;
                            null === (t = e._refTransformer) || void 0 === t || t.hide(), null === (a = e._refSelectedGroup) || void 0 === a || null === (n = a.getChildren()[1]) || void 0 === n || n.hide(), null === (l = e._refSelectedGroup) || void 0 === l || null === (r = l.getChildren()[2]) || void 0 === r || r.hide(), null === (i = e._refGuidesLayer) || void 0 === i || i.hide(), null === (o = e._refPaintOverlay.current) || void 0 === o || o.toggleCursor(!1), null === (u = e._refTransformer) || void 0 === u || null === (d = u.getLayer()) || void 0 === d || d.batchDraw()
                        }, e._showEditingState = function() {
                            var t, a, n, l, r, i, o, u, d;
                            null === (t = e._refTransformer) || void 0 === t || t.show(), null === (a = e._refSelectedGroup) || void 0 === a || null === (n = a.getChildren()[1]) || void 0 === n || n.show(), null === (l = e._refSelectedGroup) || void 0 === l || null === (r = l.getChildren()[2]) || void 0 === r || r.show(), null === (i = e._refGuidesLayer) || void 0 === i || i.show(), null === (o = e._refPaintOverlay.current) || void 0 === o || o.toggleCursor(!0), null === (u = e._refTransformer) || void 0 === u || null === (d = u.getLayer()) || void 0 === d || d.batchDraw()
                        }, e._handleMouseDown = function(t) {
                            e.props.currentlyEditingTextLayer || (0, E.isEventOnAnchor)(t) || e.props.onLayerUnselect()
                        }, e._handleDragStart = function() {
                            e._canvasContext.dragging = !0, e.setState({
                                dragging: !0
                            })
                        }, e._handleDragEnd = function(t, a) {
                            e._canvasContext.dragging = !1, e.props.onLayerTranslate(t, a), e.setState({
                                guides: {
                                    vertical: null,
                                    horizontal: null
                                },
                                dragging: !1
                            })
                        }, e._handleTransformStart = function() {
                            e._canvasContext.transforming = !0
                        }, e._handleTransformEnd = function(t, a, n) {
                            e._canvasContext.transforming = !1, e.props.onLayerTransform(t, a, n)
                        }, e._handleDragMove = function(t, a) {
                            for (var n, l, r, o, u = [{
                                    position: e.getStage().width() / 2,
                                    orientation: "v"
                                }, {
                                    position: e.getStage().height() / 2,
                                    orientation: "h"
                                }], d = a.target, s = d.absolutePosition(), f = [], p = 0, m = [{
                                    position: s.y,
                                    orientation: "h"
                                }, {
                                    position: s.x,
                                    orientation: "v"
                                }]; p < m.length; p++) {
                                var h, v = m[p],
                                    g = (0, i.default)(u);
                                try {
                                    for (g.s(); !(h = g.n()).done;) {
                                        var E = h.value;
                                        if (v.orientation === E.orientation) {
                                            var _ = Math.abs(E.position - v.position);
                                            _ <= 15 && f.push({
                                                guide: E,
                                                distance: _
                                            })
                                        }
                                    }
                                } catch (e) {
                                    g.e(e)
                                } finally {
                                    g.f()
                                }
                            }
                            f.sort((function(e, t) {
                                return e.distance - t.distance
                            }));
                            for (var C = null, y = null, S = 0, k = f; S < k.length; S++) {
                                var M = k[S].guide;
                                "v" !== M.orientation || C ? "h" !== M.orientation || y || (y = M) : C = M
                            }
                            d.absolutePosition({
                                x: null !== (n = null === (l = C) || void 0 === l ? void 0 : l.position) && void 0 !== n ? n : s.x,
                                y: null !== (r = null === (o = y) || void 0 === o ? void 0 : o.position) && void 0 !== r ? r : s.y
                            });
                            var T = {
                                horizontal: y,
                                vertical: C
                            };
                            (0, c.isEqual)(e.state.guides, T) || e.setState({
                                guides: T
                            })
                        }, e._handleDoubleClick = function(t) {
                            t instanceof y.default && e.props.onTextEditingStart(t)
                        }, e._handleTextSave = function(t) {
                            e.props.draftTextLayer && e.props.onTextEditingEnd(e.props.draftTextLayer, t)
                        }, e._handleSelect = function(t) {
                            e.props.onLayerSelect(t)
                        }, e._renderEditableText = function() {
                            var t = e.props.draftTextLayer;
                            if (!t) return null;
                            var a = e.props.data.toScreenPoint(t.frame.getCenter());
                            return f.default.createElement(v.EditableText, {
                                ref: e._refEditableText,
                                layer: t,
                                layerCenter: a,
                                text: t.text,
                                scale: e.props.scale,
                                onSave: e._handleTextSave,
                                onUnselect: e.props.onLayerUnselect,
                                onOutsideClick: e.props.onTextInputOutsideClick
                            })
                        }, e._renderLayer = function(t) {
                            var a = e.props.data,
                                n = e.props.currentlyEditingTextLayer,
                                l = a.selectedLayer === t && n !== t,
                                r = e.props.scale,
                                i = e.props.data.screenWidth * r,
                                o = e.props.data.screenHeight * r,
                                u = t.editable && e.props.canEditLayer && !e.props.inPaintMode && !e.props.currentlyEditingTextLayer;
                            return f.default.createElement(m.CanvasLayer, {
                                key: String(t.id),
                                layer: t,
                                scale: r,
                                textBackgroundShadow: !e.state.dragging,
                                editing: n === t,
                                selected: l,
                                editable: u,
                                stageHeight: o,
                                stageWidth: i,
                                selectedGroupRef: e._setRefSelectedGroup,
                                paintCanvasRef: e._refPaintCanvas,
                                transformerRef: e._setRefTransformer,
                                onSelect: e._handleSelect,
                                onDoubleClick: e._handleDoubleClick,
                                onDragMove: e._handleDragMove,
                                onDragStart: e._handleDragStart,
                                onDragEnd: e._handleDragEnd,
                                onTransformStart: e._handleTransformStart,
                                onTransformEnd: e._handleTransformEnd
                            })
                        }, e
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidUpdate",
                        value: function() {
                            var e, t, a;
                            this._refSelectedGroup && (null === (e = this._refTransformer) || void 0 === e || e.nodes([this._refSelectedGroup]), null === (t = this._refTransformer) || void 0 === t || null === (a = t.getLayer()) || void 0 === a || a.batchDraw())
                        }
                    }, {
                        key: "getStage",
                        value: function() {
                            if (!this._refStage) throw new Error("MediaEditorCanvas:stage is not initialized");
                            return this._refStage.getStage()
                        }
                    }, {
                        key: "getDataUrl",
                        value: function() {
                            this._hideEditingState();
                            var e = this.getStage().toDataURL({
                                mimetype: "image/jpeg",
                                quality: 1,
                                pixelRatio: 1 / this.props.scale
                            });
                            return this._showEditingState(), e
                        }
                    }, {
                        key: "endTextEditing",
                        value: function() {
                            var e;
                            null === (e = this._refEditableText.current) || void 0 === e || e.save()
                        }
                    }, {
                        key: "_renderGuides",
                        value: function() {
                            var e = this.state.guides,
                                t = e.vertical,
                                a = e.horizontal;
                            if (!t && !a) return null;
                            var n = this.getStage(),
                                l = this.props.scale;
                            return f.default.createElement(C.Layer, {
                                key: "guides",
                                ref: this._setRefGuidesLayer
                            }, t && f.default.createElement(C.Line, {
                                key: "vertical",
                                x: t.position / l,
                                y: 0,
                                points: [0, 0, 0, n.height() / l],
                                stroke: k,
                                strokeWidth: 1,
                                strokeScaleEnabled: !1
                            }), a && f.default.createElement(C.Line, {
                                key: "horizontal",
                                x: 0,
                                y: a.position / l,
                                points: [0, 0, n.width() / l, 0],
                                stroke: k,
                                strokeWidth: 1,
                                strokeScaleEnabled: !1
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.props,
                                a = t.data,
                                n = t.inPaintMode,
                                l = t.paintColor,
                                i = t.paintThickness,
                                o = this.props.scale,
                                u = a.screenWidth / 2,
                                d = a.screenHeight / 2,
                                s = a.toScreenPoint(a.cropCenter),
                                c = a.toScreenPoint(a.canvasCenter),
                                m = u - (s.x - c.x),
                                h = d - (s.y - c.y);
                            return f.default.createElement(f.default.Fragment, null, f.default.createElement(C.Stage, {
                                ref: this._setRefStage,
                                width: a.screenWidth * o,
                                height: a.screenHeight * o,
                                onMouseDown: this._handleMouseDown,
                                scaleX: o,
                                scaleY: o,
                                style: (0, r.default)({
                                    cursor: n ? "none" : "default"
                                }, null !== (e = this.props.style) && void 0 !== e ? e : {})
                            }, f.default.createElement(p.CanvasContext.Provider, {
                                value: this._canvasContext
                            }, a.background && f.default.createElement(C.Layer, {
                                x: m,
                                y: h,
                                offsetX: a.width / 2,
                                offsetY: a.height / 2,
                                rotation: a.rotation,
                                key: "background"
                            }, f.default.createElement(g.default, {
                                layer: a.background
                            })), f.default.createElement(C.Layer, {
                                x: m,
                                y: h,
                                offsetX: a.width / 2,
                                offsetY: a.height / 2,
                                rotation: a.rotation,
                                key: "edits"
                            }, a.paintLayer && this._renderLayer(a.paintLayer), a.layers.map(this._renderLayer)), this._renderGuides(), n && f.default.createElement(_.default, {
                                ref: this._refPaintOverlay,
                                width: a.screenWidth,
                                height: a.screenHeight,
                                pathStyle: {
                                    color: l,
                                    thickness: (0, S.getThicknessValue)(i)
                                },
                                paintCanvasRef: this._refPaintCanvas,
                                data: a,
                                onDrawEnd: this.props.onDrawEnd
                            }))), this._renderEditableText())
                        }
                    }]), a
                }(f.Component);
            t.default = M, M.defaultProps = {
                inPaintMode: !1,
                paintColor: h.default.White,
                paintThickness: S.THICKNESS.MEDIUM,
                canEditLayer: !0,
                currentlyEditingTextLayer: null,
                draftTextLayer: null,
                onLayerSelect: function() {},
                onLayerUnselect: function() {},
                onLayerTranslate: function() {},
                onLayerTransform: function() {},
                onTextEditingStart: function() {},
                onTextEditingEnd: function() {},
                onTextInputOutsideClick: function() {
                    return !0
                },
                onDrawEnd: function() {}
            }, M.displayName = "MediaEditorCanvas"
        },
        99298: (e, t, a) => {
            "use strict";
            var n = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(67294)),
                r = a(56257),
                i = (0, l.forwardRef)((function(e, t) {
                    var a = e.layer,
                        n = (0, l.useMemo)((function() {
                            var e = document.createElement("canvas");
                            return e.width = Math.max(a.width, 1), e.height = Math.max(a.height, 1), e
                        }), [a.width, a.height]),
                        i = (0, l.useRef)(),
                        u = (0, l.useRef)(),
                        d = (0, l.useRef)();
                    return (0, l.useEffect)((function() {
                        var e, t;
                        n.getContext("2d").clearRect(0, 0, n.width, n.height), a.paths.forEach((function(e) {
                            return function(e, t) {
                                var a = t.points;
                                if (!a.length) return;
                                var n = e.getContext("2d"),
                                    l = {
                                        color: t.color,
                                        thickness: t.thickness
                                    };
                                o(n, l), n.beginPath(), n.moveTo(a[0].x, a[0].y), t.points.slice(1).forEach((function(e) {
                                    return n.lineTo(e.x, e.y)
                                })), n.stroke()
                            }(n, e)
                        })), null === (e = i.current) || void 0 === e || null === (t = e.getLayer()) || void 0 === t || t.batchDraw()
                    }), [a.paths, n]), (0, l.useImperativeHandle)(t, (function() {
                        return {
                            startPath: function(e, t) {
                                u.current = e, d.current = t
                            },
                            continuePath: function(e) {
                                var t = u.current;
                                if (t) {
                                    var a, l, r = n.getContext("2d"),
                                        s = d.current;
                                    s && o(r, s), r.beginPath(), r.moveTo(t.x, t.y), r.lineTo(e.x, e.y), r.stroke(), null === (a = i.current) || void 0 === a || null === (l = a.getLayer()) || void 0 === l || l.batchDraw()
                                }
                                u.current = e
                            },
                            endPath: function() {
                                u.current = null, d.current = null
                            }
                        }
                    }), [n]), l.default.createElement(r.Image, {
                        ref: i,
                        width: a.width,
                        height: a.height,
                        image: n
                    })
                }));

            function o(e, t) {
                e.lineCap = "round", e.lineJoin = "round", e.lineWidth = t.thickness, e.strokeStyle = t.color.toHex()
            }
            t.default = i
        },
        20370: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(81109)),
                i = l(a(63038)),
                o = n(a(67294)),
                u = a(77737),
                d = a(56257),
                s = (0, o.forwardRef)((function(e, t) {
                    var a = e.width,
                        n = e.height,
                        l = e.paintCanvasRef,
                        s = e.pathStyle,
                        c = e.data,
                        f = e.onDrawEnd,
                        p = (0, o.useState)(),
                        m = (0, i.default)(p, 2),
                        h = m[0],
                        v = m[1],
                        g = (0, o.useRef)([]),
                        E = (0, o.useState)(!1),
                        _ = (0, i.default)(E, 2),
                        C = _[0],
                        y = _[1],
                        S = (0, o.useRef)();
                    (0, o.useImperativeHandle)(t, (function() {
                        return {
                            toggleCursor: function(e) {
                                var t = S.current;
                                t && (e ? t.show() : t.hide())
                            }
                        }
                    }));
                    var k = function(e) {
                        var t = (0, u.getPointFromStage)(e);
                        v(null), e.evt.stopPropagation();
                        var a = l.current;
                        if (a && 0 !== g.current.length) {
                            var n = c.toCanvasPoint(t);
                            a.endPath(n), g.current.push(n), f((0, r.default)({
                                points: g.current
                            }, s)), g.current = []
                        }
                    };
                    return (0, o.useEffect)((function() {
                        if (C) {
                            var e = function() {
                                y(!1)
                            };
                            return window.addEventListener("mouseup", e),
                                function() {
                                    window.removeEventListener("mouseup", e)
                                }
                        }
                    }), [C, y]), o.default.createElement(d.Layer, {
                        key: "paintCursor",
                        onMouseDown: function(e) {
                            var t = l.current;
                            if (t) {
                                var a = (0, u.getPointFromStage)(e),
                                    n = c.toCanvasPoint(a);
                                t.startPath(n, s), g.current.push(n), y(!0)
                            }
                        },
                        onMouseEnter: function(e) {
                            var t = l.current;
                            if (t && C) {
                                var a = (0, u.getPointFromStage)(e),
                                    n = c.toCanvasPoint(a);
                                t.startPath(n, s), g.current.push(n)
                            }
                        },
                        onMouseMove: function(e) {
                            var t = (0, u.getPointFromStage)(e);
                            v(t);
                            var a = l.current;
                            if (a && C) {
                                var n = c.toCanvasPoint(t);
                                a.continuePath(n), g.current.push(n)
                            }
                        },
                        onMouseUp: function(e) {
                            k(e), y(!1)
                        },
                        onMouseLeave: function(e) {
                            k(e)
                        },
                        width: a,
                        height: n
                    }, o.default.createElement(d.Rect, {
                        width: a,
                        height: n,
                        fill: "rgba(0, 0, 0, 0)"
                    }), h && o.default.createElement(d.Circle, {
                        x: h.x,
                        y: h.y,
                        radius: s.thickness / 2,
                        fill: s.color.toRgbaString(),
                        ref: S
                    }))
                }));
            t.default = s
        },
        28267: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = t instanceof i.default && t.isSticker();
                return l.default.createElement(l.default.Fragment, null, l.default.createElement(o.Rect, {
                    width: t.width,
                    height: t.height,
                    fill: d.toRgbaString(),
                    stroke: u.toRgbaString(),
                    strokeWidth: 2,
                    cornerRadius: a ? 40 : 5,
                    strokeScaleEnabled: !1
                }))
            };
            var l = n(a(67294)),
                r = n(a(94618)),
                i = n(a(96891)),
                o = a(56257),
                u = new r.default(82, 248, 24, 1),
                d = new r.default(82, 248, 24, .1)
        },
        48832: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = e.shadow,
                    n = function(e) {
                        var t, a = [],
                            n = (0, i.default)(e);
                        try {
                            for (n.s(); !(t = n.n()).done;) {
                                var l, d = t.value,
                                    s = (0, i.default)(d.words);
                                try {
                                    for (s.s(); !(l = s.n()).done;) {
                                        var c = l.value.emojiPath;
                                        c && a.push(c)
                                    }
                                } catch (e) {
                                    s.e(e)
                                } finally {
                                    s.f()
                                }
                            }
                        } catch (e) {
                            n.e(e)
                        } finally {
                            n.f()
                        }
                        return f = a, p = (0, o.default)(new Set(f)), m = p.join(""), h = (0, u.useRef)({}), v = (0, u.useState)(0), g = (0, r.default)(v, 2)[1], (0, u.useEffect)((function() {
                            h.current = {}, g(0), p.forEach((function(e) {
                                var t = new Image;
                                t.onload = function() {
                                    h.current[e] = t, g(Object.keys(h.current).length)
                                }, t.src = e
                            }))
                        }), [g, m]), h.current;
                        var f, p, m, h, v, g
                    }(t.lines),
                    l = t.lines.map((function(e, a) {
                        var l = e.width + 2 * t.styles.lineHorizontalPadding,
                            r = t.lineHeight + 2 * t.styles.lineVerticalPadding;
                        return u.default.createElement(s.Group, {
                            width: l,
                            height: r,
                            y: a * r,
                            key: a
                        }, function(e) {
                            var a = Math.max.apply(Math, (0, o.default)(t.lineWidths)),
                                l = 0;
                            switch (t.alignment) {
                                case d.TextAlignment.LEFT:
                                    l = 0;
                                    break;
                                case d.TextAlignment.CENTER:
                                    l = (a - e.width) / 2;
                                    break;
                                case d.TextAlignment.RIGHT:
                                    l = a - e.width
                            }
                            var r = 0;
                            return e.words.map((function(e, a) {
                                var i, o = e.text,
                                    f = e.emojiPath,
                                    p = e.width,
                                    m = l + t.styles.lineHorizontalPadding + r,
                                    h = t.styles.lineVerticalPadding;
                                if (f) {
                                    var v = n[f];
                                    i = v ? u.default.createElement(s.Image, {
                                        key: a,
                                        x: m,
                                        y: h,
                                        width: t.lineHeight,
                                        height: t.lineHeight,
                                        image: v
                                    }) : u.default.createElement(s.Rect, {
                                        key: a,
                                        x: m,
                                        y: h,
                                        width: t.lineHeight,
                                        height: t.lineHeight,
                                        fill: "rgba(0,0,0,0)"
                                    })
                                } else {
                                    var g = (0, c.getTextBounds)(t.font, t.fontSize);
                                    i = u.default.createElement(u.default.Fragment, null, u.default.createElement(s.Text, {
                                        key: a,
                                        x: m,
                                        y: h - g.top + (g.top + g.bottom) / 2,
                                        width: p,
                                        height: t.lineHeight,
                                        text: o,
                                        fill: t.textColor.toHex(),
                                        fontFamily: (0, d.getFontStyle)(t.font).fontFamily,
                                        fontSize: t.fontSize
                                    }))
                                }
                                return r += p, i
                            }))
                        }(e))
                    })),
                    f = t.styles.backgroundShadow;
                return u.default.createElement(s.Group, {
                    visible: 0 !== t.width,
                    width: t.width,
                    height: t.height
                }, u.default.createElement(s.Group, {
                    x: t.styles.layerPadding,
                    y: t.styles.layerPadding
                }, t.textBackground && (a ? u.default.createElement(s.Path, {
                    key: "1",
                    data: t.backgroundPath,
                    stroke: t.textBackgroundColor.toHex(),
                    fill: t.textBackgroundColor.toHex(),
                    shadowColor: f.color.toHex(),
                    shadowBlur: f.radius,
                    shadowOffset: {
                        x: f.offsetX,
                        y: f.offsetY
                    },
                    shadowOpacity: f.color.alpha
                }) : u.default.createElement(s.Path, {
                    key: "2",
                    data: t.backgroundPath,
                    stroke: t.textBackgroundColor.toHex(),
                    fill: t.textBackgroundColor.toHex()
                })), l))
            };
            var r = l(a(63038)),
                i = l(a(43269)),
                o = l(a(319)),
                u = n(a(67294)),
                d = a(49103),
                s = a(56257),
                c = a(14453)
        },
        41942: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(58979)),
                p = l(a(34263)),
                m = a(75300),
                h = l(a(93868)),
                v = a(32002),
                g = l(a(50907)),
                E = l(a(89115)),
                _ = l(a(37679)),
                C = l(a(63056)),
                y = a(78989),
                S = l(a(75131)),
                k = l(a(4268)),
                M = l(a(88117)),
                T = a(30564),
                I = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).setRefInput = function(e) {
                            n.refInput = e, n.props.setCaptionInputRef(e)
                        }, n.setRefEmojiPicker = function(e) {
                            n.refEmojiPicker = e
                        }, n.restoreFocus = function() {
                            n.refInput && n.refInput.focus()
                        }, n.handleReset = function() {
                            n.refInput && n.refInput.reset(), n.restoreFocus()
                        }, n.handleEmojiPickerClose = function() {
                            n.setState({
                                emojiPicker: null
                            })
                        }, n.handleEmoji = function(e) {
                            var t = n.refInput;
                            t && (t.focus(!1), t.replaceSelection(e))
                        }, n.handleEmojiPicker = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = c.default.createElement(h.default, {
                                onEmoji: n.handleEmoji,
                                onFocusNext: n.restoreFocus,
                                onFocusPrev: n.restoreFocus
                            });
                            n.setState({
                                emojiPicker: {
                                    menu: t,
                                    dirY: m.DirY.TOP,
                                    type: "emoji_picker",
                                    anchor: e.target
                                }
                            }), n.restoreFocus()
                        }, n.handleEnter = function(e) {
                            n.refInput && n.refInput.isFocused() && n.props.onEnter(e)
                        }, n.state = {
                            emojiPicker: null
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.state.emojiPicker,
                                a = this.props.caption,
                                n = (0, T.numCodepoints)(this.props.caption || ""),
                                l = p.default.MAX_CAPTION_LENGTH - n < 50,
                                i = c.default.createElement("div", {
                                    role: "button",
                                    className: g.default.inputEmoji,
                                    onClick: this.handleEmojiPicker
                                }, c.default.createElement(S.default, {
                                    name: "emoji-input"
                                })),
                                o = a && "" !== a ? c.default.createElement("div", {
                                    role: "button",
                                    className: g.default.clearBtn,
                                    onClick: this.handleReset
                                }, c.default.createElement(S.default, {
                                    name: "x-alt"
                                })) : null,
                                u = l && c.default.createElement("div", {
                                    className: g.default.charCounter
                                }, E.default.n(p.default.MAX_CAPTION_LENGTH - n)),
                                d = null;
                            return t && (d = c.default.createElement(k.default, {
                                displayName: "EmojiPicker",
                                escapable: !0,
                                popable: !0,
                                ref: this.setRefEmojiPicker,
                                requestDismiss: this.handleEmojiPickerClose
                            }, c.default.createElement(M.default, {
                                contextMenu: t
                            }))), C.default.viewOnceWrite && (e = c.default.createElement("div", {
                                className: g.default.viewOnceContainer
                            }, c.default.createElement(f.default, {
                                disabled: this.props.viewOnceDisabled,
                                isOn: Boolean(this.props.viewOnce),
                                mediaType: this.props.msgType,
                                onChange: this.props.onToggleViewOnce,
                                noMargin: !0
                            }))), c.default.createElement(v.FlexRow, {
                                className: (0, s.default)(g.default.container, (0, r.default)({}, g.default.videoCaption, "video" === this.props.theme)),
                                align: "center",
                                justify: "center"
                            }, c.default.createElement("div", {
                                className: g.default.suggestionsPositioner
                            }, c.default.createElement("div", {
                                className: g.default.suggestionsContainer
                            }, c.default.createElement(_.default.MentionSuggestions, {
                                chat: this.props.chat,
                                theme: y.ThemeOptions.MEDIA_CAPTION
                            }), c.default.createElement(_.default.EmojiSuggestions, {
                                chat: this.props.chat,
                                theme: y.ThemeOptions.MEDIA_CAPTION
                            }))), c.default.createElement(v.FlexRow, {
                                align: "start",
                                className: g.default.inputContainer
                            }, c.default.createElement(_.default, {
                                ref: this.setRefInput,
                                initialValue: a,
                                placeholder: E.default.t(1497),
                                onChange: this.props.onChange,
                                onEnter: this.handleEnter,
                                onFiles: this.props.onFiles,
                                theme: "media-caption",
                                maxLength: p.default.MAX_CAPTION_LENGTH,
                                multiline: !0,
                                spellCheck: !0
                            }), c.default.createElement(v.FlexRow, {
                                className: g.default.buttonContainer,
                                align: "center"
                            }, u, o, i)), e, d)
                        }
                    }]), a
                }(c.Component);
            t.default = I, I.displayName = "Caption"
        },
        53747: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getAllThickness = function() {
                return Object.keys(i)
            }, t.getThicknessValue = function(e) {
                return o[e]
            }, t.THICKNESS = void 0;
            var l, r = n(a(59713)),
                i = Object.freeze({
                    SMALL: "SMALL",
                    MEDIUM: "MEDIUM",
                    LARGE: "LARGE",
                    XLARGE: "XLARGE"
                });
            t.THICKNESS = i;
            var o = (l = {}, (0, r.default)(l, i.SMALL, 8), (0, r.default)(l, i.MEDIUM, 12), (0, r.default)(l, i.LARGE, 18), (0, r.default)(l, i.XLARGE, 24), l)
        },
        24367: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClick,
                    a = e.onClose,
                    n = e.forwardRef,
                    i = e.id,
                    d = (0, m.default)(e.attachMedia, ["mimetype", "preview", "type", "fullPreview", "fullPreviewSize", "documentPageCount"]);
                return o.default.createElement("div", {
                    className: (0, r.default)(u.default.thumb, (0, l.default)({}, u.default.active, e.active)),
                    onClick: function(e) {
                        t((0, f.unproxy)(d), e)
                    },
                    tabIndex: "-1",
                    ref: function(e) {
                        n(i, e)
                    }
                }, o.default.createElement("div", {
                    className: u.default.btnDelete,
                    onClick: function(e) {
                        a((0, f.unproxy)(d), e)
                    },
                    role: "button"
                }, o.default.createElement(p.default, {
                    name: "x-alt"
                })), o.default.createElement("div", {
                    className: u.default.bodyWrapper
                }, function() {
                    var e;
                    if (d.type === v) e = d.preview;
                    else if (d.type === g) e = `data:image/jpeg;base64,${d.preview}`;
                    else if ("pdf" === (0, c.previewType)(d.mimetype)) {
                        d.fullPreview && d.fullPreviewSize && null != d.documentPageCount && d.documentPageCount > 0 && (e = d.fullPreview)
                    }
                    if (e) return o.default.createElement("div", {
                        className: u.default.body
                    }, o.default.createElement("img", {
                        src: e,
                        alt: s.default.t(1916)
                    }));
                    var t = (0, r.default)(u.default.body, u.default.bodyIcon, E[d.mimetype] ? E[d.mimetype].icon : "icon-doc-generic");
                    return o.default.createElement("div", {
                        className: t
                    })
                }()))
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(96486)),
                o = n(a(67294)),
                u = n(a(30635)),
                d = n(a(34263)),
                s = n(a(89115)),
                c = a(13242),
                f = a(89305),
                p = n(a(75131)),
                m = n(a(33819)),
                h = d.default.MSG_TYPE,
                v = h.IMAGE,
                g = h.VIDEO,
                E = i.default.pickBy(c.MIMETYPES, (function(e) {
                    return "document" === e.msgType
                }))
        },
        18233: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = a(99420),
                c = l(a(24367)),
                f = l(a(34263)),
                p = (0, s.SortableElement)((function(e) {
                    return e.children
                })),
                m = (0, s.SortableContainer)((function(e) {
                    return e.children
                })),
                h = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._handleSortEnd = function(e) {
                            var t = e.oldIndex,
                                a = e.newIndex,
                                l = n.props.mediaCollection.reorder(t, a);
                            n.setState({
                                medias: l
                            })
                        }, n.state = {
                            medias: n.props.mediaCollection.getPreviewableMedias()
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.mediaCollection,
                                n = t.className,
                                l = t.forwardRef,
                                r = this.state.medias;
                            return d.default.createElement(m, {
                                onSortEnd: this._handleSortEnd,
                                axis: "x",
                                helperClass: "SortableHelper",
                                distance: 10
                            }, d.default.createElement("div", {
                                className: n
                            }, r.map((function(t, n) {
                                var r;
                                return d.default.createElement(p, {
                                    key: t.id,
                                    index: n
                                }, d.default.createElement(c.default, {
                                    id: t.id,
                                    attachMedia: t,
                                    active: t === a.getActive(),
                                    previewMode: (null === (r = a.getActive()) || void 0 === r ? void 0 : r.type) !== f.default.MSG_TYPE.IMAGE,
                                    onClick: e.props.onClick,
                                    onClose: e.props.onClose,
                                    forwardRef: l
                                }))
                            }))))
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e) {
                            return {
                                medias: e.mediaCollection.getPreviewableMedias()
                            }
                        }
                    }]), a
                }(d.Component);
            t.default = h, h.displayName = "DragAndDrop"
        },
        22147: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = l(a(96486)),
                f = n(a(67294)),
                p = l(a(39145)),
                m = l(a(77417)),
                h = l(a(41942)),
                v = l(a(19863)),
                g = a(63107),
                E = a(60002),
                _ = l(a(95678)),
                C = a(32002),
                y = l(a(43752)),
                S = a(49103),
                k = a(94638),
                M = l(a(39875)),
                T = l(a(89115)),
                I = l(a(68390)),
                b = l(a(77954)),
                P = a(16551),
                w = l(a(39456)),
                L = l(a(17170)),
                O = a(78674),
                D = l(a(44589)),
                N = l(a(75131)),
                R = l(a(88162)),
                A = l(a(2821)),
                x = l(a(78833)),
                F = a(53747),
                U = l(a(69267)),
                B = new L.default({
                    width: 200,
                    height: 200
                }),
                G = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._setRefCanvasContainer = function(e) {
                            return n._refCanvasContainer = e
                        }, n._setRefHeaderContainer = function(e) {
                            return n._refHeaderContainer = e
                        }, n._setRefFooterContainer = function(e) {
                            return n._refFooterContainer = e
                        }, n._setRefCanvas = function(e) {
                            return n._refCanvas = e
                        }, n._refTextColorToolbar = (0, f.createRef)(), n._refFontToolbar = (0, f.createRef)(), n._handleGlobalMouseDown = function(e) {
                            n._outsideClickTarget = e.target
                        }, n._handleGlobalClick = function() {
                            n._outsideClickTarget !== n._refCanvasContainer && n._outsideClickTarget !== n._refFooterContainer && n._outsideClickTarget !== n._refHeaderContainer || n.resetUIState()
                        }, n._handleResize = function() {
                            if (n._refCanvasContainer) {
                                var e = n._refCanvasContainer.getBoundingClientRect(),
                                    t = new L.default({
                                        width: e.width - 40,
                                        height: e.height - 40
                                    });
                                n.setState({
                                    containerSize: t
                                })
                            }
                        }, n._handleGlobalKeydown = function(e) {
                            "Backspace" !== e.code || e.target instanceof HTMLInputElement || e.target instanceof HTMLDivElement && "true" === e.target.contentEditable || n.state.inCropRotateMode || n._handleLayerDelete()
                        }, n._handleLayerDelete = function() {
                            var e = n.props.attachMedia.mediaEditorData.selectedLayer;
                            e && n.props.onLayerDelete(e)
                        }, n._updatePreview = function() {
                            if (null != n._refCanvas) {
                                var e = n._refCanvas.getStage().attrs,
                                    t = e.width,
                                    a = e.height;
                                if (0 !== t && 0 !== a) {
                                    var l = n._getFile(),
                                        r = window.URL.createObjectURL(l);
                                    n.props.attachMedia.updateEditedFile(l), n.props.attachMedia.updatePreview(r), n.props.attachMedia.updateFullPreview(r)
                                }
                            }
                        }, n._updatePreviewDebounced = c.default.debounce((function() {
                            n._ricId && ((0, k.cancelIdleCallback)(n._ricId), n._ricId = null), n._ricId = (0, k.requestIdleCallback)(n._updatePreview)
                        }), 1e3), n._handleTextEditingStart = function(e) {
                            n.setState({
                                isEditing: !0
                            }), n.props.onTextEditingStart(e)
                        }, n._handleTextEditingEnd = function(e, t) {
                            n.setState({
                                isEditing: !1
                            }), n.props.onTextEditingEnd(e, t)
                        }, n._handleClickDone = function() {
                            if (n.state.inCropRotateMode) n._toggleCropRotateMode();
                            else if (n.state.inPaintMode) n._togglePaintMode();
                            else if (n.props.draftTextLayer) {
                                var e;
                                null === (e = n._refCanvas) || void 0 === e || e.endTextEditing()
                            } else n._getData().selectedLayer && n.props.onLayerUnselect()
                        }, n._handlePaintSelect = function() {
                            n._togglePaintMode(), n.props.onPaintSelect()
                        }, n._handleCropRotateSelect = function() {
                            n._toggleCropRotateMode()
                        }, n._handleRotateCanvas = function(e) {
                            n.props.onCropRotateCanvas(n._getData().rotation + e, n._getData().cropOrigin, n._getData().cropSize)
                        }, n._handleResetCropRotate = function() {
                            n.props.onCropRotateCanvas(0, new w.default({
                                x: 0,
                                y: 0
                            }), n._getData().size)
                        }, n._handleCropChange = function(e, t) {
                            n.props.onCropRotateCanvas(n._getData().rotation, e, t)
                        }, n._handleToggleEmojiPanel = function(e) {
                            n.setState({
                                isEmojiPanelVisible: e
                            })
                        }, n._handleToggleStickerPanel = function(e) {
                            n.setState({
                                isStickerPanelVisible: e
                            })
                        }, n._handleTextInputOutsideClick = function(e) {
                            var t, a, l = e.target;
                            return !(l instanceof HTMLElement && l.closest(`.${M.default.footer}`) && l !== n._refFooterContainer || (null === (t = n._refTextColorToolbar.current) || void 0 === t ? void 0 : t.isPanelVisible()) || (null === (a = n._refFontToolbar.current) || void 0 === a ? void 0 : a.isMenuVisible()))
                        }, n.state = {
                            containerSize: L.default.empty(),
                            isEditing: !1,
                            inPaintMode: !1,
                            inCropRotateMode: !1,
                            isEmojiPanelVisible: !1,
                            isStickerPanelVisible: !1
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            window.addEventListener("resize", this._handleResize), window.addEventListener("keydown", this._handleGlobalKeydown), this._handleResize(), this.props.listeners.add(window, "mousedown", this._handleGlobalMouseDown), this.props.listeners.add(window, "click", this._handleGlobalClick)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            window.removeEventListener("resize", this._handleResize), window.removeEventListener("keydown", this._handleGlobalKeydown), this.updatePreview({
                                immediately: !0
                            })
                        }
                    }, {
                        key: "resetUIState",
                        value: function() {
                            if (this._inPaintMode()) this._togglePaintMode();
                            else if (this._inCropRotateMode()) this._toggleCropRotateMode();
                            else {
                                if (!this.props.attachMedia.mediaEditorData.selectedLayer || this.props.draftTextLayer) return !1;
                                this.props.onLayerUnselect()
                            }
                            return !0
                        }
                    }, {
                        key: "_inPaintMode",
                        value: function() {
                            return this.state.inPaintMode
                        }
                    }, {
                        key: "_inCropRotateMode",
                        value: function() {
                            return this.state.inCropRotateMode
                        }
                    }, {
                        key: "_togglePaintMode",
                        value: function() {
                            this.setState((function(e) {
                                return {
                                    inPaintMode: !e.inPaintMode
                                }
                            }))
                        }
                    }, {
                        key: "_toggleCropRotateMode",
                        value: function() {
                            !this.state.inCropRotateMode && this._getData().selectedLayer && this.props.onLayerUnselect(), this.setState((function(e) {
                                return {
                                    inCropRotateMode: !e.inCropRotateMode
                                }
                            }), this._handleResize)
                        }
                    }, {
                        key: "updatePreview",
                        value: function(e) {
                            (null == e ? void 0 : e.immediately) ? this._updatePreview(): this._updatePreviewDebounced()
                        }
                    }, {
                        key: "_getDataUrl",
                        value: function() {
                            if (!this._refCanvas) throw new Error("MediaEditor:canvas is not initialized");
                            return this._refCanvas.getDataUrl()
                        }
                    }, {
                        key: "_getFile",
                        value: function() {
                            var e = this._getDataUrl();
                            return U.default.dataURLtoFile(e)
                        }
                    }, {
                        key: "_getData",
                        value: function() {
                            return this.props.attachMedia.mediaEditorData
                        }
                    }, {
                        key: "getCanvasScale",
                        value: function() {
                            var e = this.props.attachMedia.mediaEditorData;
                            return (0, O.calculateContainScale)(e.screenWidth, e.screenHeight, this.state.containerSize, B)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this,
                                a = this.props,
                                n = a.attachMedia,
                                l = a.paintColor,
                                i = a.paintThickness,
                                o = this.state,
                                u = o.inPaintMode,
                                d = o.inCropRotateMode,
                                c = n.mediaEditorData,
                                k = this.props.draftTextLayer || c.selectedLayer;
                            if (d) e = f.default.createElement(E.CropRotateToolbar, {
                                canReset: c.isRotated() || c.isCropped(),
                                onRotateCanvas: this._handleRotateCanvas,
                                onReset: this._handleResetCropRotate
                            });
                            else if (k)
                                if (k instanceof R.default) {
                                    var I = (0, g.getAllColors)().map((function(e) {
                                        var t = (0, g.getColorValue)(e),
                                            a = (0, g.getColorValue)(t.isLight() ? g.COLORS.BLACK : g.COLORS.WHITE);
                                        return {
                                            primaryColor: t,
                                            secondaryColor: a
                                        }
                                    }));
                                    e = f.default.createElement(f.default.Fragment, null, f.default.createElement(v.default, {
                                        ref: this._refTextColorToolbar,
                                        colors: I,
                                        onColorSelect: this.props.onTextColorSelect,
                                        selectedColor: k.textColor
                                    }), f.default.createElement(y.default, {
                                        ref: this._refFontToolbar,
                                        fonts: (0, S.getAllFonts)(),
                                        selectedFont: k.font,
                                        selectedAlignment: k.alignment,
                                        onFontSelect: this.props.onFontSelect,
                                        onAlignmentSelect: this.props.onAlignmentSelect
                                    }), f.default.createElement(A.default, {
                                        checked: k.textBackground,
                                        onBackgroundToggle: this.props.onTextBackgroundToggle
                                    }), f.default.createElement(p.default, {
                                        icon: "delete",
                                        title: T.default.t(1014),
                                        onClick: this._handleLayerDelete
                                    }))
                                } else e = f.default.createElement(f.default.Fragment, null, f.default.createElement(p.default, {
                                    icon: "delete",
                                    title: T.default.t(1014),
                                    onClick: this._handleLayerDelete
                                }));
                            else u && (e = f.default.createElement(f.default.Fragment, null, f.default.createElement(v.default, {
                                colors: (0, g.getAllColors)().map((function(e) {
                                    return {
                                        primaryColor: (0, g.getColorValue)(e)
                                    }
                                })),
                                onColorSelect: this.props.onPaintColorSelect,
                                selectedColor: l
                            }), f.default.createElement(x.default, {
                                thickness: (0, F.getAllThickness)(),
                                onThicknessSelect: this.props.onPaintThicknessSelect,
                                selectedThickness: i
                            })));
                            var w = !e && !this.props.draftTextLayer,
                                L = f.default.createElement(C.FlexRow, {
                                    className: (0, s.default)(M.default.captionInputContainer, (0, r.default)({}, M.default.captionInputHidden, !w)),
                                    justify: "center"
                                }, f.default.createElement(h.default, {
                                    key: n.id,
                                    chat: this.props.chat,
                                    caption: n.caption,
                                    viewOnce: this.props.viewOnce,
                                    viewOnceDisabled: this.props.viewOnceDisabled,
                                    msgType: P.TYPE.IMAGE,
                                    theme: "image",
                                    onToggleViewOnce: this.props.onToggleViewOnce,
                                    onChange: this.props.onCaptionChange,
                                    onEnter: this.props.onEnter,
                                    onFiles: this.props.onFiles,
                                    setCaptionInputRef: function(e) {
                                        t.props.setCaptionInputRef(n.id, e)
                                    }
                                })),
                                O = f.default.createElement(C.FlexRow, {
                                    justify: "center",
                                    align: "center",
                                    className: M.default.footer,
                                    ref: this._setRefFooterContainer
                                }, e && f.default.createElement(C.FlexRow, {
                                    justify: "center",
                                    align: "center",
                                    className: M.default.bottomToolbar
                                }, e), L),
                                D = null;
                            d && (D = f.default.createElement(_.default, {
                                data: c,
                                rotation: this._getData().rotation,
                                cropOrigin: this._getData().cropOrigin,
                                cropSize: this._getData().cropSize,
                                onCropChange: this._handleCropChange,
                                containerSize: this.state.containerSize
                            }));
                            var U = d || u || this.state.isEmojiPanelVisible || this.state.isStickerPanelVisible || Boolean(this.props.draftTextLayer) || Boolean(this._getData().selectedLayer);
                            return f.default.createElement("div", {
                                className: M.default.container
                            }, f.default.createElement(C.FlexRow, {
                                className: M.default.header,
                                ref: this._setRefHeaderContainer
                            }, this.props.onClose ? f.default.createElement("div", {
                                onClick: this.props.onClose,
                                className: M.default.closeButton
                            }, f.default.createElement(N.default, {
                                name: "x"
                            })) : f.default.createElement("div", {
                                className: M.default.closeButtonPlaceholder
                            }), f.default.createElement(b.default, {
                                selectedLayer: k,
                                inPaintMode: u,
                                inCropRotateMode: d,
                                inTextEditingMode: Boolean(this.props.draftTextLayer),
                                canUndo: this.props.canUndo,
                                canRedo: this.props.canRedo,
                                onPaintSelect: this._handlePaintSelect,
                                onCropRotateSelect: this._handleCropRotateSelect,
                                onTextSelect: this.props.onTextSelect,
                                onEmojiSelect: this.props.onEmojiSelect,
                                onStickerSelect: this.props.onStickerSelect,
                                onToggleEmojiPanel: this._handleToggleEmojiPanel,
                                onToggleStickerPanel: this._handleToggleStickerPanel,
                                onUndo: this.props.onUndo,
                                onRedo: this.props.onRedo
                            }), f.default.createElement(C.FlexRow, {
                                className: M.default.headerRight,
                                justify: "end"
                            }, U && f.default.createElement(p.default, {
                                onClick: this._handleClickDone
                            }, T.default.t(1004)))), f.default.createElement("div", {
                                ref: this._setRefCanvasContainer,
                                className: (0, s.default)(M.default.canvasContainer, (0, r.default)({}, M.default.cropRotateContainer, d))
                            }, f.default.createElement("div", {
                                className: M.default.canvas,
                                style: {
                                    display: d ? "none" : "unset"
                                }
                            }, f.default.createElement(m.default, {
                                ref: this._setRefCanvas,
                                data: c,
                                inPaintMode: u,
                                paintColor: l,
                                paintThickness: i,
                                currentlyEditingTextLayer: this.props.currentlyEditingTextLayer,
                                draftTextLayer: this.props.draftTextLayer,
                                scale: this.getCanvasScale(),
                                onLayerSelect: this.props.onLayerSelect,
                                onLayerUnselect: this.props.onLayerUnselect,
                                onLayerTranslate: this.props.onLayerTranslate,
                                onLayerTransform: this.props.onLayerTransform,
                                onTextEditingStart: this._handleTextEditingStart,
                                onTextEditingEnd: this._handleTextEditingEnd,
                                onTextInputOutsideClick: this._handleTextInputOutsideClick,
                                onDrawEnd: this.props.onDrawEnd
                            })), D), O)
                        }
                    }]), a
                }(f.PureComponent);
            G.CONCERNS = {
                attachMedia: ["mediaEditorData", "caption", "id"]
            }, G.displayName = "ImageBodyBase";
            var H = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, i.default)(this, a);
                    for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                    return (e = t.call.apply(t, [this].concat(l))).updatePreview = function(t) {
                        return e.getComponent().updatePreview(t)
                    }, e
                }
                return (0, o.default)(a, [{
                    key: "getCanvasScale",
                    value: function() {
                        return this.getComponent().getCanvasScale()
                    }
                }, {
                    key: "resetUIState",
                    value: function() {
                        return this.getComponent().resetUIState()
                    }
                }]), a
            }((0, I.default)((0, D.default)(G, G.CONCERNS)));
            t.default = H
        },
        94134: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(59713)),
                o = r(a(34575)),
                u = r(a(93913)),
                d = r(a(2205)),
                s = r(a(99842)),
                c = r(a(94184)),
                f = r(a(91080)),
                p = l(a(67294)),
                m = r(a(91283)),
                h = r(a(34541)),
                v = a(63107),
                g = r(a(34263)),
                E = r(a(44547)),
                _ = r(a(43302)),
                C = r(a(18233)),
                y = r(a(81997)),
                S = r(a(25259)),
                k = r(a(8513)),
                M = a(14656),
                T = l(a(98569)),
                I = r(a(21179)),
                b = a(19059),
                P = a(32002),
                w = r(a(31722)),
                L = a(49103),
                O = r(a(76568)),
                D = r(a(22147)),
                N = l(a(96891)),
                R = r(a(79334)),
                A = r(a(89115)),
                x = r(a(68390)),
                F = r(a(76486)),
                U = r(a(8643)),
                B = a(13242),
                G = r(a(24581)),
                H = r(a(39456)),
                j = r(a(42027)),
                V = r(a(49163)),
                W = r(a(63056)),
                z = r(a(87729)),
                K = r(a(27698)),
                Y = r(a(75131)),
                q = l(a(88162)),
                Z = a(53747),
                $ = l(a(92631)),
                X = r(a(95271)),
                J = g.default.MSG_TYPE,
                Q = J.IMAGE,
                ee = J.VIDEO,
                te = J.AUDIO,
                ae = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var l;
                        return (0, o.default)(this, a), (l = t.call(this, e))._setRefCanvasContainer = function(e) {
                            l._refCanvasContainer = e
                        }, l._setRefCanvas = function(e) {
                            l._refCanvas = e
                        }, l._setRefImageBody = function(e) {
                            l._refImageBody = e
                        }, l._setRefFileInput = function(e) {
                            l._refFileInput = e
                        }, l._setRefCaptionInput = function(e) {
                            l.props.mediaCollection.getActive() && !e || (l._refCaptionInput = e)
                        }, l._setRefSendButton = function(e) {
                            l._refSendButton = e
                        }, l._mediaThumbRefMap = new Map, l._setRefMediaThumb = function(e, t) {
                            l._mediaThumbRefMap.set(e, t)
                        }, l._captionInputRefMap = new Map, l._setRefCaptionInput = function(e, t) {
                            l._captionInputRefMap.set(e, t)
                        }, l._setRefHotKeys = function(e) {
                            l._refHotKeys = e
                        }, l._update = function(e, t) {
                            if (e !== l._getData()) {
                                var a, n, r = l.state.activeMedia;
                                if (r) r.updateMediaEditorData(e, {
                                    undoable: null !== (a = null == t ? void 0 : t.undoable) && void 0 !== a && a
                                }), l._updateUndoRedoState();
                                if (null == t ? void 0 : t.updatePreview) null === (n = l._refImageBody) || void 0 === n || n.updatePreview()
                            }
                        }, l._getData = function() {
                            var e = l.state.activeMedia;
                            return null == e ? E.default.create() : e.mediaEditorData
                        }, l._handleUndo = function() {
                            var e, t = l.state.activeMedia;
                            t && t.canUndoMediaEditorData() && (t.undoMediaEditorData(), l._updateUndoRedoState(), null === (e = l._refImageBody) || void 0 === e || e.updatePreview())
                        }, l._handleRedo = function() {
                            var e, t = l.state.activeMedia;
                            t && t.canRedoMediaEditorData() && (t.redoMediaEditorData(), l._updateUndoRedoState(), null === (e = l._refImageBody) || void 0 === e || e.updatePreview())
                        }, l._updateUndoRedoState = function() {
                            l.setState((function(e) {
                                var t, a, n, r, i = null !== (t = null === (a = l.state.activeMedia) || void 0 === a ? void 0 : a.canUndoMediaEditorData()) && void 0 !== t && t,
                                    o = null !== (n = null === (r = l.state.activeMedia) || void 0 === r ? void 0 : r.canRedoMediaEditorData()) && void 0 !== n && n;
                                return e.canUndo !== i || e.canRedo !== o ? {
                                    canUndo: i,
                                    canRedo: o
                                } : null
                            }))
                        }, l._handleCreateImage = function(e, t, a) {
                            var n = new Image;
                            n.onload = function() {
                                var t = (0, f.default)(l._refImageBody, "_this._refImageBody").getCanvasScale(),
                                    r = n.width * t,
                                    i = n.width * t,
                                    o = Math.min(a / r, a / i),
                                    u = l._getData().addImageLayerToCenter({
                                        type: e,
                                        image: n,
                                        editable: !0,
                                        scale: o
                                    });
                                l._update(u, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }, n.onerror = function() {
                                h.default.openToast(p.default.createElement($.default, {
                                    msg: A.default.t(1005),
                                    id: (0, $.genId)()
                                }))
                            }, n.src = t
                        }, l._handleEmojiSelect = function(e) {
                            var t = k.default.getGlyphId(e);
                            if (null != t) {
                                var a = k.default.getGlyphPath(t, "xlarge").high;
                                l._handleCreateImage(N.ImageLayerType.Emoji, a, 64)
                            }
                        }, l._handleStickerSelect = function(e) {
                            var t = e.mediaData.filehash,
                                a = F.default.getOrCreateURL(t);
                            l._handleCreateImage(N.ImageLayerType.Sticker, a, 128)
                        }, l._handlePaintSelect = function() {
                            var e = l._getData().clearSelectedLayer();
                            l._update(e)
                        }, l._handleCropRotateCanvas = function(e, t, a) {
                            var n = l._getData().setRotation(e).setCrop(t, a);
                            l._update(n, {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, l._handlePaintColorSelect = function(e) {
                            l.setState({
                                paintColor: e
                            })
                        }, l._handlePaintThicknessSelect = function(e) {
                            l.setState({
                                paintThickness: e
                            })
                        }, l._handleTextSelect = function() {
                            if (!l.state.currentlyEditingTextLayer) {
                                l._handleLayerUnselect();
                                var e = (0, f.default)(l._refImageBody, "_this._refImageBody").getCanvasScale(),
                                    t = new H.default({
                                        x: l._getData().screenWidth / 2,
                                        y: l._getData().screenHeight / 2
                                    }),
                                    a = {
                                        origin: l._getData().toCanvasPoint(t),
                                        text: "",
                                        textColor: l.state.textColor,
                                        textBackground: l.state.textBackground,
                                        alignment: l.state.alignment,
                                        font: l.state.font,
                                        scale: q.DEFAULT_FONT_SIZE / (q.DEFAULT_FONT_SIZE * e) * 1.2
                                    },
                                    n = l._getData().addTextLayer(a),
                                    r = (0, f.default)(n.lastTextLayer, "data.lastTextLayer");
                                l.setState({
                                    draftTextLayer: r,
                                    currentlyEditingTextLayer: null
                                })
                            }
                        }, l._handleFontSelect = function(e) {
                            l.setState({
                                font: e
                            });
                            var t = l._getData().selectedLayer,
                                a = l.state.draftTextLayer;
                            if (a) l.setState({
                                draftTextLayer: a.setFont(e)
                            });
                            else if (t && t instanceof q.default) {
                                var n = l._getData().setFont(t, e);
                                l._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, l._handleAlignmentSelect = function(e) {
                            l.setState({
                                alignment: e
                            });
                            var t = l._getData().selectedLayer,
                                a = l.state.draftTextLayer;
                            if (a) l.setState({
                                draftTextLayer: a.setAlignment(e)
                            });
                            else if (t && t instanceof q.default) {
                                var n = l._getData().setAlignment(t, e);
                                l._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, l._handleTextColorSelect = function(e) {
                            l.setState({
                                textColor: e
                            });
                            var t = l._getData().selectedLayer,
                                a = l.state.draftTextLayer;
                            if (a) l.setState({
                                draftTextLayer: a.setTextColor(e)
                            });
                            else if (t && t instanceof q.default) {
                                var n = l._getData().setTextColor(t, e);
                                l._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, l._handleTextBackgroundToggle = function() {
                            var e = !l.state.textBackground;
                            l.setState({
                                textBackground: e
                            });
                            var t = l._getData().selectedLayer,
                                a = l.state.draftTextLayer;
                            if (a) l.setState({
                                draftTextLayer: a.setTextBackground(e)
                            });
                            else if (t && t instanceof q.default) {
                                var n = l._getData().setTextBackground(t, e);
                                l._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, l._handleTextEditingStart = function(e) {
                            l.setState({
                                draftTextLayer: e,
                                currentlyEditingTextLayer: e
                            })
                        }, l._handleTextEditingEnd = function(e, t) {
                            var a;
                            if (t) {
                                var n = l._getData(),
                                    r = (0, f.default)(l.state.draftTextLayer, "_this.state.draftTextLayer").setText(t);
                                n = l.state.currentlyEditingTextLayer ? n.updateLayer((0, f.default)(l.state.currentlyEditingTextLayer, "_this.state.currentlyEditingTextLayer"), r) : n.addTextLayer(r), l._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            } else {
                                var i = l.state.currentlyEditingTextLayer;
                                i && l._update(l._getData().deleteLayer(i), {
                                    updatePreview: !0,
                                    undoable: Boolean(e.text)
                                })
                            }
                            setTimeout((function() {
                                l.setState({
                                    draftTextLayer: null,
                                    currentlyEditingTextLayer: null
                                })
                            }), 0), null === (a = l._refHotKeys) || void 0 === a || a.focus()
                        }, l._handleDrawEnd = function(e) {
                            l._update(l._getData().addPath(e), {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, l._handleLayerUnselect = function() {
                            l._update(l._getData().clearSelectedLayer())
                        }, l._handleLayerSelect = function(e) {
                            if (e.editable) {
                                var t = l._getData().setSelectedLayer(e).moveToTop(e);
                                l._update(t), e instanceof q.default && l.setState({
                                    textColor: e.textColor,
                                    textBackground: e.textBackground,
                                    font: e.font
                                })
                            }
                        }, l._handleLayerTranslate = function(e, t) {
                            var a = l._getData().translateLayer(e, t);
                            l._update(a, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, l._handleLayerTransform = function(e, t, a) {
                            var n = l._getData().transformLayer(e, t, a);
                            l._update(n, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, l._handleLayerDelete = function(e) {
                            var t = l._getData().deleteLayer(e);
                            l._update(t, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, l._handleMediaProcessUpdate = function() {
                            var e = l.props.mediaCollection;
                            if (e.canSend()) {
                                var t = e.uiProcessMsgs().errorMsgs;
                                t && (h.default.openToast(p.default.createElement($.default, {
                                    msg: t,
                                    id: (0, $.genId)()
                                })), 0 === e.getPreviewableMedias().length && l.props.onClose()), l.forceUpdate()
                            }
                        }, l._handleDrop = function(e) {
                            l.state.viewOnce || l._handleFilePick(e)
                        }, l._handleDragChange = function(e, t) {
                            l.state.viewOnce || (l.setState({
                                isDragging: e
                            }), e || t || l.props.mediaCollection.length || l.props.onClose())
                        }, l._handleCaptionChange = function(e) {
                            var t = l.state,
                                a = t.activeMedia,
                                n = t.isInitCaptionUsed;
                            if (a) {
                                var r = l.props.mediaCollection.indexOf(a);
                                a.updateCaption(e), 0 === r && "" === e && n && l.setState({
                                    isInitCaptionUsed: !1
                                })
                            }
                        }, l._handlePaste = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = new _.default(e.clipboardData);
                            t.hasFiles() && l._handleFiles(t)
                        }, l._handleFiles = function(e) {
                            var t = e.getFiles().filter((function(e) {
                                var t = (0, b.typeFromMimetype)(e.type);
                                return "image" === t || "video" === t
                            })).map((function(e) {
                                return {
                                    file: e
                                }
                            }));
                            l.props.mediaCollection.processAttachments(t, U.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)
                        }, l._handleAddFileClick = function() {
                            l._refFileInput && l._refFileInput.click()
                        }, l._handleFilePick = function(e) {
                            (0, M.getFiles)(e).then((function(e) {
                                return l.props.mediaCollection.processAttachments(e.map((function(e) {
                                    return {
                                        file: e
                                    }
                                })), U.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)
                            })).checkpoint(l.props.rejectOnUnmount()).catchType(T.Unmount, (function() {})).catchType(T.MediaDragDropError, (function(e) {
                                l.props.mediaCollection.length || l.props.onDropText(e.src)
                            })), e.target && e.target.value && (e.target.value = "")
                        }, l._handleEnter = function(e) {
                            if (l.state.activeMedia && !e.repeat && !e.shiftKey && !l.state.draftTextLayer) {
                                var t = l._getData().selectedLayer;
                                t instanceof q.default ? (e.preventDefault(), e.stopPropagation(), l._handleTextEditingStart(t)) : l._handleSendFromMediaEditor()
                            }
                        }, l._handleArrowKey = function(e, t) {
                            if (l.state.activeMedia && !t.repeat && !l.state.draftTextLayer) {
                                var a = l.state.activeMedia,
                                    n = a && !a.caption,
                                    r = l._refCaptionInput && l._refCaptionInput.refInput;
                                (n || r && !r.isFocused() || r && r.cursorIsAtStart()) && ("left" === e ? l._handlePrev() : l._handleNext())
                            }
                        }, l._handlePrev = function() {
                            l.props.mediaCollection.setPrevAsActive() && (l._refSendButton && !l.state.draftTextLayer && w.default.focus(l._refSendButton), l._scrollIntoView())
                        }, l._handleNext = function() {
                            l.props.mediaCollection.setNextAsActive() && (l._refSendButton && !l.state.draftTextLayer && w.default.focus(l._refSendButton), l._scrollIntoView())
                        }, l._scrollIntoView = function() {
                            var e = l.state.activeMedia;
                            if (e) {
                                var t = l._mediaThumbRefMap.get(e.id);
                                t && t.scrollIntoView()
                            }
                        }, l._handleSelectThumb = function(e) {
                            l.props.mediaCollection.setActive(e)
                        }, l._handleRemoveThumb = function(e, t) {
                            t.stopPropagation(), t.preventDefault(), l.props.mediaCollection.remove(e), 0 === l.props.mediaCollection.getValidMedias().length ? l._delayedClose = setTimeout((function() {
                                l.props.onClose()
                            }), 200) : l._refSendButton && w.default.focus(l._refSendButton)
                        }, l._handleSendFromMediaEditor = function(e) {
                            var t;
                            e && e.preventDefault();
                            var a = l.props.mediaCollection;
                            if (a.canSend()) {
                                var r = a.getPreviewableMedias();
                                if (0 !== r.length) {
                                    var i;
                                    if (null === (t = l.state.activeMedia) || void 0 === t ? void 0 : t.mediaEditorData.hasEdits()) null === (i = l._refImageBody) || void 0 === i || i.updatePreview({
                                        immediately: !0
                                    });
                                    var o = [];
                                    r.forEach((function(e) {
                                        if (e.mediaEditorData && e.mediaEditorData.hasEdits() && e.editedFile) {
                                            var t = a.replace(e.id, {
                                                file: e.editedFile
                                            });
                                            o.push(t)
                                        }
                                    })), n.all(o).then((function() {
                                        var e = a.getPreviewableMedias();
                                        if (0 !== e.length) {
                                            var t = e.map((function(e) {
                                                var t, a = e.caption,
                                                    n = [],
                                                    r = l._captionInputRefMap.get(e.id);
                                                if (a && r) {
                                                    var i = r.serialize(a),
                                                        o = [i[0].trim(), i[1]],
                                                        u = o[0],
                                                        d = o[1];
                                                    u.length && (a = u, n = d.mentionedJidList || [])
                                                }
                                                return e.caption = null !== (t = a) && void 0 !== t ? t : void 0, {
                                                    media: e,
                                                    mentionedJidList: n
                                                }
                                            }));
                                            l.props.onSendMedia(t, l.state.isInitCaptionUsed, l._canViewOnce() && l.state.viewOnce), l._commitMediaEditorSendMetric(r)
                                        }
                                    }))
                                } else l.props.onClose()
                            }
                        }, l._handleToggleViewOnce = function(e) {
                            l.setState({
                                viewOnce: e
                            })
                        }, l._canViewOnce = function() {
                            var e, t = l.props,
                                a = t.chat,
                                n = t.mediaCollection,
                                r = a.contact.isEnterprise;
                            return W.default.viewOnceWrite && 1 === n.length && !0 === (null === (e = n.at(0)) || void 0 === e ? void 0 : e.isViewableOnce()) && !r
                        }, l._getMediaBody = function(e) {
                            var t = null,
                                a = l.state,
                                n = a.paintColor,
                                r = a.paintThickness,
                                i = a.canUndo,
                                o = a.canRedo,
                                u = W.default.viewOnceWrite ? l.state.viewOnce : null;
                            switch (e.type) {
                                case Q:
                                    t = p.default.createElement(D.default, {
                                        key: e.mediaEditorData.id,
                                        ref: l._setRefImageBody,
                                        attachMedia: e,
                                        chat: l.props.chat,
                                        onCaptionChange: l._handleCaptionChange,
                                        onClose: "capture" === l.props.theme ? null : l.props.onClose,
                                        onEnter: l._handleSendFromMediaEditor,
                                        setCaptionInputRef: l._setRefCaptionInput,
                                        paintColor: n,
                                        paintThickness: r,
                                        canUndo: i,
                                        canRedo: o,
                                        currentlyEditingTextLayer: l.state.currentlyEditingTextLayer,
                                        draftTextLayer: l.state.draftTextLayer,
                                        viewOnce: u,
                                        viewOnceDisabled: !l._canViewOnce(),
                                        onPaintSelect: l._handlePaintSelect,
                                        onTextSelect: l._handleTextSelect,
                                        onTextBackgroundToggle: l._handleTextBackgroundToggle,
                                        onEmojiSelect: l._handleEmojiSelect,
                                        onStickerSelect: l._handleStickerSelect,
                                        onLayerSelect: l._handleLayerSelect,
                                        onLayerUnselect: l._handleLayerUnselect,
                                        onLayerDelete: l._handleLayerDelete,
                                        onLayerTranslate: l._handleLayerTranslate,
                                        onLayerTransform: l._handleLayerTransform,
                                        onTextEditingStart: l._handleTextEditingStart,
                                        onTextEditingEnd: l._handleTextEditingEnd,
                                        onTextColorSelect: l._handleTextColorSelect,
                                        onFontSelect: l._handleFontSelect,
                                        onAlignmentSelect: l._handleAlignmentSelect,
                                        onPaintColorSelect: l._handlePaintColorSelect,
                                        onPaintThicknessSelect: l._handlePaintThicknessSelect,
                                        onCropRotateCanvas: l._handleCropRotateCanvas,
                                        onUndo: l._handleUndo,
                                        onRedo: l._handleRedo,
                                        onDrawEnd: l._handleDrawEnd,
                                        onToggleViewOnce: l._handleToggleViewOnce,
                                        onFiles: l._handleFiles
                                    });
                                    break;
                                case ee:
                                    t = p.default.createElement(X.default, {
                                        key: e.id,
                                        attachMedia: e,
                                        chat: l.props.chat,
                                        viewOnce: u,
                                        viewOnceDisabled: !l._canViewOnce(),
                                        setCaptionInputRef: l._setRefCaptionInput,
                                        onCaptionChange: l._handleCaptionChange,
                                        onClose: l.props.onClose,
                                        onEnter: l._handleSendFromMediaEditor,
                                        onToggleViewOnce: l._handleToggleViewOnce,
                                        onFiles: l._handleFiles
                                    });
                                    break;
                                case te:
                                    t = p.default.createElement(m.default, {
                                        key: e.id,
                                        item: e,
                                        onClose: l.props.onClose
                                    });
                                    break;
                                default:
                                    t = "pdf" === (0, B.previewType)(e.mimetype) ? p.default.createElement(G.default, {
                                        key: e.id,
                                        item: e,
                                        onClose: l.props.onClose
                                    }) : p.default.createElement(I.default, {
                                        key: e.id,
                                        mimeType: e.mimetype,
                                        filesize: e.filesize,
                                        filename: e.filename,
                                        fileExt: e.fileExt,
                                        onClose: l.props.onClose
                                    })
                            }
                            return t
                        }, l.getThumbs = function() {
                            var e = l.props.mediaCollection;
                            return p.default.createElement(C.default, {
                                className: R.default.thumbs,
                                mediaCollection: e,
                                onClick: l._handleSelectThumb,
                                onClose: l._handleRemoveThumb,
                                forwardRef: l._setRefMediaThumb
                            })
                        }, l.state = {
                            paintColor: (0, v.getColorValue)(v.COLORS.BLUE),
                            paintThickness: Z.THICKNESS.SMALL,
                            textColor: (0, v.getColorValue)(v.COLORS.BLACK),
                            font: L.FONTS.SANS_SERIF,
                            textBackground: !0,
                            alignment: L.TextAlignment.CENTER,
                            isDragging: !1,
                            canUndo: !1,
                            canRedo: !1,
                            activeMedia: null,
                            prevActiveMedia: null,
                            isInitCaptionUsed: !1,
                            initCaption: l.props.initCaption && l.props.initCaption.text,
                            currentlyEditingTextLayer: null,
                            draftTextLayer: null,
                            viewOnce: !1
                        }, l
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this,
                                a = this.props,
                                n = a.mediaCollection,
                                l = a.listeners;
                            l.add(n, "add remove reset", (function() {
                                t.forceUpdate()
                            })), l.add(n, "active-change change:state change:previewable", this._handleMediaProcessUpdate), null === (e = this._refHotKeys) || void 0 === e || e.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {}
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._delayedClose && clearTimeout(this._delayedClose)
                        }
                    }, {
                        key: "handleRequestDismiss",
                        value: function() {
                            var e;
                            return !(null === (e = this._refImageBody) || void 0 === e ? void 0 : e.resetUIState()) && (!this.state.draftTextLayer || (this.setState({
                                currentlyEditingTextLayer: null,
                                draftTextLayer: null
                            }), !1))
                        }
                    }, {
                        key: "_commitMediaEditorSendMetric",
                        value: function(e) {
                            var t = 0,
                                a = 0,
                                n = 0,
                                l = 0,
                                r = 0,
                                i = 0;
                            e.forEach((function(e) {
                                var o = e.mediaEditorData;
                                e.type === Q && (t++, o.hasEdits() && a++, o.paintLayer.paths.length > 0 && n++), o.layers.forEach((function(e) {
                                    e instanceof N.default ? (e.isEmoji() && l++, e.isSticker() && r++) : e instanceof q.default && i++
                                }))
                            })), new U.default.WebcMediaEditorSend({
                                imageCount: t,
                                editedImageCount: a,
                                paintedImageCount: n,
                                emojiLayerCount: l,
                                stickerLayerCount: r,
                                textLayerCount: i
                            }).commit()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this,
                                a = this.props.mediaCollection,
                                n = this.state.activeMedia,
                                l = a.getPreviewableMedias();
                            l.length > g.default.MAX_FILES && (l = l.slice(0, g.default.MAX_FILES)), a.canSend() ? n && (e = this._getMediaBody(n)) : e = p.default.createElement("div", {
                                className: R.default.spinner
                            }, p.default.createElement(z.default, {
                                key: "processing",
                                color: "highlight"
                            }));
                            var r, o, u = this.state.isDragging ? p.default.createElement("div", {
                                    key: "container",
                                    className: R.default.dropOverlay
                                }, p.default.createElement("div", {
                                    className: R.default.dropOverlayOutline
                                }, A.default.t(653))) : null,
                                d = {
                                    enter: this._handleEnter,
                                    left: function(e) {
                                        return t._handleArrowKey("left", e)
                                    },
                                    right: function(e) {
                                        return t._handleArrowKey("right", e)
                                    }
                                },
                                s = "*" === B.DOC_MIMES ? "*" : [g.default.IMAGE_MIMES].join();
                            if (null != e)
                                if (l.length > 0 && (o = p.default.createElement("div", {
                                        className: R.default.sendButton,
                                        tabIndex: "-1",
                                        ref: this._setRefSendButton,
                                        onKeyPress: function(e) {
                                            return e.preventDefault()
                                        }
                                    }, p.default.createElement(V.default, {
                                        large: !0,
                                        icon: p.default.createElement(Y.default, {
                                            name: "send",
                                            directional: !0
                                        }),
                                        count: 1 === l.length ? null : l.length,
                                        onClick: this._handleSendFromMediaEditor,
                                        disabled: !a.canSend()
                                    }))), "capture" === this.props.theme) r = p.default.createElement("div", {
                                    className: R.default.captureFooter
                                }, o);
                                else {
                                    var f, m = !this.state.viewOnce && l.length < g.default.MAX_FILES,
                                        h = p.default.createElement(K.default, {
                                            className: (0, c.default)(R.default.addMediaButton, (0, i.default)({}, R.default.addMediaButtonDisabled, !m)),
                                            disabled: !m,
                                            key: "media-more",
                                            name: "media-editor-add",
                                            title: A.default.t(214),
                                            onClick: this._handleAddFileClick,
                                            "aria-label": A.default.t(214)
                                        });
                                    l.length > 0 && (f = p.default.createElement(P.FlexRow, {
                                        className: R.default.filmstripContainer,
                                        justify: "center",
                                        align: "start"
                                    }, this.getThumbs(), h)), r = p.default.createElement("div", {
                                        className: R.default.footer
                                    }, f, o)
                                } var v = (0, c.default)(R.default.container, (0, i.default)({}, R.default.previewOnly, n && n.type !== Q)),
                                E = p.default.createElement(P.FlexColumn, {
                                    className: v,
                                    align: "stretch"
                                }, u, e, r, p.default.createElement("input", {
                                    ref: this._setRefFileInput,
                                    type: "file",
                                    accept: s,
                                    style: {
                                        display: "none"
                                    },
                                    onChange: this._handleFilePick,
                                    multiple: !0
                                }));
                            return "attach" === this.props.theme && (E = p.default.createElement(y.default, {
                                key: "attach-image-modal",
                                theme: "media",
                                onDrop: this._handleDrop,
                                onDragChange: this._handleDragChange
                            }, p.default.createElement(S.default, {
                                tabIndex: "-1",
                                overflow: "hidden",
                                onPaste: this._handlePaste
                            }, E))), p.default.createElement(O.default, {
                                handlers: d,
                                onRef: this._setRefHotKeys
                            }, E)
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var a, n, l = e.mediaCollection.getActive(),
                                r = t.initCaption,
                                i = t.isInitCaptionUsed;
                            return i || t.activeMedia || !r || !l || l.type !== Q && l.type !== ee || (l.caption = r, i = !0), {
                                prevActiveMedia: l,
                                activeMedia: l,
                                canUndo: null !== (a = null == l ? void 0 : l.canUndoMediaEditorData()) && void 0 !== a && a,
                                canRedo: null !== (n = null == l ? void 0 : l.canRedoMediaEditorData()) && void 0 !== n && n,
                                isInitCaptionUsed: i
                            }
                        }
                    }]), a
                }(p.Component);
            ae.defaultProps = {
                onClose: function() {},
                theme: "attach"
            }, ae.displayName = "MediaEditor";
            var ne = function(e) {
                (0, d.default)(a, e);
                var t = (0, s.default)(a);

                function a() {
                    return (0, o.default)(this, a), t.apply(this, arguments)
                }
                return (0, u.default)(a, [{
                    key: "handleRequestDismiss",
                    value: function() {
                        return this.getComponent().handleRequestDismiss()
                    }
                }]), a
            }((0, j.default)((0, x.default)(ae)));
            t.default = ne
        },
        91283: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    a = e.item,
                    n = a.mimetype,
                    u = a.fullPreview;
                return l.default.createElement("div", {
                    className: o.default.container
                }, l.default.createElement(i.default, {
                    onClose: t
                }), l.default.createElement(r.default, {
                    mimeType: n,
                    url: u
                }))
            };
            var l = n(a(67294)),
                r = n(a(82191)),
                i = n(a(44009)),
                o = n(a(58099))
        },
        95678: (e, t, a) => {
            "use strict";
            var n = a(95318),
                l = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    a = e.rotation,
                    n = e.cropOrigin,
                    l = e.cropSize,
                    v = e.containerSize,
                    g = e.onCropChange,
                    E = t.resetCropRotate().setRotation(a),
                    _ = (0, r.useRef)(),
                    C = (0, r.useRef)(),
                    y = l.width,
                    S = l.height,
                    k = n.x,
                    M = n.y,
                    T = (0, r.useRef)(l),
                    I = y / T.current.width,
                    b = S / T.current.height,
                    P = t.width,
                    w = t.height,
                    L = m(P, w, a),
                    O = L.width,
                    D = L.height,
                    N = new s.default({
                        width: v.width - 20,
                        height: v.height - 20
                    }),
                    R = (0, c.calculateContainScale)(a % 180 ? w : P, a % 180 ? P : w, N, f),
                    A = p / R,
                    x = new s.default({
                        width: P + 2 * A,
                        height: w + 2 * A
                    }),
                    F = m(x.width, x.height, a),
                    U = F.width,
                    B = F.height,
                    G = x.width / 2,
                    H = x.height / 2;
                (0, r.useEffect)((function() {
                    var e, t = _.current,
                        a = C.current;
                    t && a && 0 === t.nodes().length && (t.nodes([a]), null === (e = a.getLayer()) || void 0 === e || e.batchDraw())
                }));
                var j = function(e) {
                    var t = e.target,
                        a = Math.round(t.x()),
                        n = Math.round(t.y()),
                        l = Math.min(Math.round(t.width() * t.scaleX()), P - a),
                        r = Math.min(Math.round(t.height() * t.scaleY()), w - n);
                    g(new u.default({
                        x: a,
                        y: n
                    }), new s.default({
                        width: l,
                        height: r
                    }))
                };
                return r.default.createElement("div", {
                    className: o.default.container
                }, r.default.createElement(i.default, {
                    data: E,
                    scale: R,
                    canEditLayer: !1,
                    style: {
                        padding: p
                    }
                }), r.default.createElement(d.Stage, {
                    className: o.default.cropperContainer,
                    width: Math.round(U * R),
                    height: Math.round(B * R),
                    scaleX: R,
                    scaleY: R
                }, r.default.createElement(d.Layer, {
                    key: "cropper",
                    rotation: a,
                    offsetX: G,
                    offsetY: H,
                    x: U / 2,
                    y: B / 2
                }, r.default.createElement(d.Group, {
                    x: A,
                    y: A
                }, r.default.createElement(d.Rect, {
                    x: 0,
                    y: 0,
                    width: P,
                    height: w,
                    fill: "black",
                    opacity: .6
                }), r.default.createElement(d.Rect, {
                    ref: C,
                    fill: "red",
                    x: k,
                    y: M,
                    width: T.current.width,
                    height: T.current.height,
                    scaleX: I,
                    scaleY: b,
                    draggable: !0,
                    dragBoundFunc: function(e) {
                        var t = m(y, S, a),
                            n = t.width,
                            l = t.height,
                            r = function(e, t, a, n, l) {
                                switch ((l % 360 + 360) % 360) {
                                    case 0:
                                        return {
                                            x: e, y: t
                                        };
                                    case 90:
                                        return {
                                            x: e - a, y: t
                                        };
                                    case 180:
                                        return {
                                            y: t - n, x: e - a
                                        };
                                    case 270:
                                        return {
                                            x: e, y: t - n
                                        };
                                    default:
                                        throw new Error("Unsupported angle")
                                }
                            }(e.x, e.y, n * R, l * R, a),
                            i = r.x,
                            o = r.y;
                        return i < p ? i = p : (i - p) / R + n > O && (i = Math.round(O - n + A) * R), o < p ? o = p : (o - p) / R + l > D && (o = Math.round(D - l + A) * R),
                            function(e, t, a, n, l) {
                                switch ((l % 360 + 360) % 360) {
                                    case 0:
                                        return {
                                            x: e, y: t
                                        };
                                    case 90:
                                        return {
                                            x: e + a, y: t
                                        };
                                    case 180:
                                        return {
                                            y: t + n, x: e + a
                                        };
                                    case 270:
                                        return {
                                            x: e, y: t + n
                                        };
                                    default:
                                        throw new Error("Unsupported angle")
                                }
                            }(i, o, n * R, l * R, a)
                    },
                    onTransformEnd: j,
                    onDragEnd: j,
                    globalCompositeOperation: "destination-out"
                }), r.default.createElement(d.Transformer, {
                    key: "transformer",
                    ref: _,
                    anchorStroke: "blue",
                    anchorFill: "white",
                    anchorSize: 10,
                    anchorCornerRadius: 5,
                    borderEnabled: !1,
                    centeredScaling: !1,
                    resizeEnabled: !0,
                    rotateEnabled: !1,
                    ignoreStroke: !0,
                    boundBoxFunc: function(e, t) {
                        var n = P * R + 20,
                            l = w * R + 20,
                            r = h(e, n, l, a, -a),
                            i = h(t, n, l, a, -a);
                        return Math.round(i.x) < p ? (i.x = p, i.width = r.width + (r.x - p)) : Math.round(i.width) < 20 ? (i.x = r.x, i.width = r.width) : Math.round(i.x + i.width) > Math.round(n) - p && (i.width = n - i.x - p), Math.round(i.y) < p ? (i.y = p, i.height = r.height + (r.y - p)) : Math.round(i.height) < 20 ? (i.y = r.y, i.height = r.height) : Math.round(i.y + i.height) > Math.round(l) - p && (i.height = l - i.y - p), h(i, n, l, 0, a)
                    },
                    keepRatio: !1
                })))))
            };
            var r = l(a(67294)),
                i = n(a(77417)),
                o = n(a(10706)),
                u = n(a(39456)),
                d = a(56257),
                s = n(a(17170)),
                c = a(78674),
                f = new s.default({
                    width: 200,
                    height: 200
                }),
                p = 10;

            function m(e, t, a) {
                return {
                    width: a % 180 == 0 ? e : t,
                    height: a % 180 == 0 ? t : e
                }
            }

            function h(e, t, a, n, l) {
                var r = Math.max(t, a),
                    i = m(t, a, n),
                    o = (r - i.width) / 2,
                    d = (r - i.height) / 2,
                    s = new u.default({
                        x: e.x + o,
                        y: e.y + d
                    }),
                    c = new u.default({
                        x: r / 2,
                        y: r / 2
                    }),
                    f = s.rotate(c, l),
                    p = m(t, a, n + l),
                    h = (r - p.width) / 2,
                    v = (r - p.height) / 2;
                return {
                    x: f.x - h,
                    y: f.y - v,
                    width: e.width,
                    height: e.height,
                    rotation: e.rotation
                }
            }
        },
        21179: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.onClose,
                    n = e.filename,
                    f = e.filesize,
                    p = e.fileExt,
                    m = e.mimeType,
                    h = null != f ? d.default.filesize(f) : "",
                    v = null !== (t = c[m]) && void 0 !== t ? t : "preview-generic";
                return l.default.createElement("div", {
                    className: u.default.container
                }, l.default.createElement(o.default, {
                    onClose: a,
                    filename: n
                }), l.default.createElement(i.FlexColumn, {
                    className: r.default.body,
                    align: "center",
                    justify: "center"
                }, l.default.createElement(i.FlexColumn, {
                    className: r.default.previewContainer,
                    align: "center",
                    justify: "center"
                }, l.default.createElement("div", {
                    className: r.default.previewIcon
                }, l.default.createElement(s.default, {
                    name: v
                })), l.default.createElement("div", {
                    className: r.default.header
                }, d.default.t(1011)), l.default.createElement("div", {
                    className: r.default.metadata
                }, h, p ? ` - ${p.toUpperCase()}` : null))))
            };
            var l = n(a(67294)),
                r = n(a(45134)),
                i = a(32002),
                o = n(a(44009)),
                u = n(a(58099)),
                d = n(a(89115)),
                s = n(a(75131)),
                c = {
                    "text/plain": "preview-txt",
                    "text/rtf": "preview-doc",
                    "application/msword": "preview-doc",
                    "application/vnd.openxmlformats-officedocument.wordprocessingml.document": "preview-doc",
                    "text/csv": "preview-sheet",
                    "application/vnd.ms-excel": "preview-sheet",
                    "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": "preview-sheet",
                    "application/vnd.ms-powerpoint": "preview-slides",
                    "application/vnd.openxmlformats-officedocument.presentationml.presentation": "preview-slides",
                    "audio/aac": "preview-audio",
                    "audio/mp4": "preview-audio",
                    "audio/amr": "preview-audio",
                    "audio/mpeg": "preview-audio",
                    "audio/ogg; codecs=opus": "preview-audio",
                    "audio/wav": "preview-audio",
                    "application/zip": "preview-compressed"
                }
        },
        44009: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.filename,
                    a = e.pageCount,
                    n = null;
                null != a && a > 0 && (n = i.default.t(245, {
                    count: a,
                    _plural: a
                }));
                return l.default.createElement("div", {
                    className: r.default.container
                }, l.default.createElement("div", {
                    onClick: e.onClose,
                    className: r.default.closeButton
                }, l.default.createElement(o.default, {
                    name: "x"
                })), l.default.createElement("div", {
                    className: r.default.header
                }, t && l.default.createElement("span", {
                    className: r.default.title
                }, t), null != n && l.default.createElement("span", {
                    className: r.default.pageCount
                }, n)))
            };
            var l = n(a(67294)),
                r = n(a(84130)),
                i = n(a(89115)),
                o = n(a(75131))
        },
        24581: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    a = e.item,
                    n = a.mimetype,
                    d = a.fullPreview,
                    s = a.fullPreviewSize,
                    c = a.documentPageCount,
                    f = a.filename;
                if (!(d && s && null != c && c > 0)) return l.default.createElement(i.default, {
                    mimeType: a.mimetype,
                    filesize: a.filesize,
                    filename: a.filename,
                    fileExt: a.fileExt,
                    onClose: t
                });
                return l.default.createElement("div", {
                    className: u.default.container
                }, l.default.createElement(o.default, {
                    onClose: t,
                    filename: f,
                    pageCount: c
                }), l.default.createElement(r.default, {
                    fullPreview: d,
                    fullPreviewSize: s,
                    pageCount: c,
                    showPageCount: !1,
                    showBorder: !0,
                    mimeType: n,
                    filename: f
                }))
            };
            var l = n(a(67294)),
                r = n(a(4470)),
                i = n(a(21179)),
                o = n(a(44009)),
                u = n(a(58099))
        },
        95271: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.attachMedia,
                    a = e.onClose,
                    n = e.chat,
                    r = e.viewOnce,
                    p = e.viewOnceDisabled,
                    m = e.onCaptionChange,
                    h = e.onEnter,
                    v = e.setCaptionInputRef,
                    g = e.onToggleViewOnce,
                    E = e.onFiles,
                    _ = (0, s.default)(t, ["caption"]).caption;
                return l.default.createElement("div", {
                    className: c.default.container
                }, l.default.createElement(u.default, {
                    onClose: a
                }), l.default.createElement(i.default, {
                    mimeType: t.mimetype,
                    url: t.fullPreview,
                    isGif: t.isGif,
                    size: t.fullPreviewSize,
                    processing: t.state === f,
                    preview: t.preview
                }), l.default.createElement("div", {
                    className: c.default.footer
                }, l.default.createElement(o.default, {
                    key: t.id,
                    chat: n,
                    caption: _,
                    viewOnce: r,
                    viewOnceDisabled: p,
                    msgType: d.TYPE.VIDEO,
                    theme: "video",
                    onToggleViewOnce: g,
                    onChange: m,
                    onEnter: h,
                    onFiles: E,
                    setCaptionInputRef: function(e) {
                        v(t.id, e)
                    }
                })))
            };
            var l = n(a(67294)),
                r = a(41144),
                i = n(a(12326)),
                o = n(a(41942)),
                u = n(a(44009)),
                d = a(16551),
                s = n(a(33819)),
                c = n(a(91976)),
                f = r.ATTACH_MEDIA_STATE.PROCESSING
        },
        39145: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(86382)),
                p = a(32002),
                m = l(a(75131)),
                h = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            hover: !1,
                            active: !1
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t, a = this.props,
                                n = a.children,
                                l = a.onClick,
                                i = a.icon,
                                o = a.caret,
                                u = a.disabled,
                                d = a.title;
                            if ("string" == typeof i) switch (i) {
                                case "sans-serif":
                                    e = c.default.createElement(m.default, {
                                        name: "panel-emoji-flags",
                                        display: "inline"
                                    });
                                    break;
                                case "checked":
                                    e = c.default.createElement(m.default, {
                                        name: "checkmark",
                                        display: "inline"
                                    });
                                    break;
                                case "unchecked":
                                    e = c.default.createElement(m.default, {
                                        name: "x",
                                        display: "inline"
                                    });
                                    break;
                                default:
                                    i && (e = c.default.createElement(m.default, {
                                        name: i,
                                        display: "inline"
                                    }))
                            } else i && (e = i);
                            if (o) switch (o) {
                                case "up":
                                    t = c.default.createElement(m.default, {
                                        name: "chevron-down-alt",
                                        display: "inline",
                                        className: f.default.rotate
                                    });
                                    break;
                                case "down":
                                    t = c.default.createElement(m.default, {
                                        name: "chevron-down-alt",
                                        display: "inline"
                                    })
                            }
                            return c.default.createElement("div", {
                                role: "button",
                                tabIndex: "-1",
                                onClick: l,
                                className: (0, s.default)(f.default.container, this.props.className, (0, r.default)({}, f.default.disabled, u)),
                                title: d
                            }, e && c.default.createElement(p.FlexRow, {
                                align: "center",
                                justify: "center",
                                className: f.default.icon
                            }, e), n && c.default.createElement("span", {
                                className: f.default.body
                            }, n), t && c.default.createElement("span", {
                                className: f.default.caret
                            }, t))
                        }
                    }]), a
                }(c.Component);
            t.default = h, h.displayName = "ToolbarButton"
        },
        19863: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(39145)),
                c = l(a(4837)),
                f = l(a(23286)),
                p = l(a(77128)),
                m = a(75300),
                h = a(32002),
                v = l(a(89115)),
                g = l(a(4268)),
                E = l(a(88117)),
                _ = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            colorPicker: null
                        }, e._handleColorPickerOpen = function(t) {
                            t.preventDefault(), t.stopPropagation();
                            var a = {
                                menu: d.default.createElement(p.default, {
                                    onColorSelect: e.props.onColorSelect,
                                    selectedColor: e.props.selectedColor,
                                    onColorPickerClose: e._handleColorPickerClose
                                }),
                                dirX: v.default.isRTL() ? m.DirX.RIGHT : m.DirX.LEFT,
                                dirY: m.DirY.BOTTOM,
                                type: "color_picker",
                                anchor: t.target
                            };
                            e.setState({
                                colorPicker: a
                            })
                        }, e._handleColorPickerClose = function() {
                            e.setState({
                                colorPicker: null
                            })
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "isPanelVisible",
                        value: function() {
                            return Boolean(this.state.colorPicker)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.colors,
                                a = e.onColorSelect,
                                n = e.selectedColor,
                                l = t.map((function(e) {
                                    var t = e.primaryColor;
                                    e.secondaryColor;
                                    return d.default.createElement(f.default, {
                                        key: t.toString(),
                                        primaryColor: t,
                                        onSelect: function() {
                                            return a(t)
                                        },
                                        selected: Boolean(n && n.equals(t))
                                    })
                                })),
                                r = null;
                            return this.state.colorPicker && (r = d.default.createElement(g.default, {
                                displayName: "ColorPicker",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this._handleColorPickerClose
                            }, d.default.createElement(E.default, {
                                contextMenu: this.state.colorPicker
                            }))), d.default.createElement("div", {
                                className: c.default.container
                            }, d.default.createElement(h.FlexRow, {
                                className: c.default.colorChipsContainer
                            }, l), d.default.createElement(s.default, {
                                onClick: this._handleColorPickerOpen,
                                caret: r ? "down" : "up"
                            }), r)
                        }
                    }]), a
                }(d.Component);
            t.default = _, _.displayName = "ColorToolbar"
        },
        23286: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(88501)),
                p = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            hover: !1,
                            active: !1
                        }, e._handleMouseEnter = function() {
                            e.setState({
                                hover: !0
                            })
                        }, e._handleMouseLeave = function() {
                            e.setState({
                                hover: !1
                            })
                        }, e._handleMouseDown = function() {
                            e.setState({
                                active: !0
                            })
                        }, e._handleMouseUp = function() {
                            e.setState({
                                active: !1
                            })
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t, a = this.props,
                                n = a.primaryColor,
                                l = a.secondaryColor,
                                i = a.onSelect,
                                o = a.selected,
                                u = a.withBorder,
                                d = this.state,
                                p = d.hover,
                                m = d.active;
                            return c.default.createElement("div", {
                                onClick: i,
                                onMouseEnter: this._handleMouseEnter,
                                onMouseLeave: this._handleMouseLeave,
                                onMouseDown: this._handleMouseDown,
                                onMouseUp: this._handleMouseUp,
                                className: (0, s.default)(f.default.colorButton, (e = {}, (0, r.default)(e, f.default.selected, o), (0, r.default)(e, f.default.hover, p), (0, r.default)(e, f.default.active, m), e)),
                                style: {
                                    backgroundColor: m && !o ? n.withAlpha(.2).toRgbaString() : "transparent"
                                }
                            }, c.default.createElement("div", {
                                className: (0, s.default)(f.default.primaryColorChip, (t = {}, (0, r.default)(t, f.default.colorChipWithBorder, u && n.isWhite()), (0, r.default)(t, f.default.primaryColorChipMedium, "medium" === this.props.theme), t)),
                                style: {
                                    backgroundColor: n.toRgbaString()
                                }
                            }, l && o && c.default.createElement("div", {
                                className: f.default.secondaryColorChip,
                                style: {
                                    backgroundColor: l.toRgbaString()
                                }
                            })))
                        }
                    }]), a
                }(c.Component);
            t.default = p, p.displayName = "ColorChip"
        },
        16498: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = n(a(94618)),
                c = l(a(23286)),
                f = l(a(60755)),
                p = a(27303),
                m = l(a(76568)),
                h = a(36474),
                v = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l)))._setRefHexColorInput = function(t) {
                            return e._refHexColorInput = t
                        }, e.state = {
                            inputColorVal: e.props.color.toHex(),
                            selectedColor: e.props.color
                        }, e._handleInputChange = function(t) {
                            var a = t.target.value;
                            if (e.setState({
                                    inputColorVal: a
                                }), a && (!a || (0, s.isValidHex)(a))) {
                                var n = s.default.fromHex(a);
                                e.props.onChangeColor(n)
                            }
                        }, e._handleEnter = function() {
                            e.props.onColorPickerClose()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.props.color,
                                t = this.state.inputColorVal;
                            return d.default.createElement("div", {
                                className: f.default.container,
                                style: {
                                    width: p.CONTAINER_WIDTH,
                                    height: p.INPUT_HEIGHT
                                }
                            }, d.default.createElement(c.default, {
                                withBorder: !0,
                                primaryColor: e,
                                selected: !1,
                                theme: "medium"
                            }), d.default.createElement(m.default, {
                                handlers: {
                                    enter: this._handleEnter
                                }
                            }, d.default.createElement(h.SelectableDiv, {
                                selectable: !0
                            }, d.default.createElement("input", {
                                type: "text",
                                ref: this._setRefHexColorInput,
                                className: f.default.input,
                                value: t,
                                onChange: this._handleInputChange
                            }))))
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var a = {};
                            return e.color !== t.selectedColor && ((0, s.compareHex)(t.inputColorVal, e.color.toHex()) || (a.inputColorVal = e.color.toHex()), a.selectedColor = e.color), a
                        }
                    }]), a
                }(d.Component);
            t.default = v, v.displayName = "ColorPickerInput"
        },
        37035: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = l(a(94618)),
                f = l(a(50889)),
                p = a(27303),
                m = a(41762),
                h = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._setCanvasRef = function(e) {
                            n._canvasRef = e
                        }, n._updateIsDraggingAndPosition = function(e, t) {
                            null != t && n.setState({
                                isDragging: t
                            });
                            var a = n._getCursorPosition(e),
                                l = a.x,
                                r = a.y,
                                i = n._getColorAt({
                                    x: l,
                                    y: r
                                });
                            n._updateSelectedColor(i), n.props.onChangeCanvasColor(i)
                        }, n._handleMouseDown = function(e) {
                            n._updateIsDraggingAndPosition(e, !0)
                        }, n._handleMouseMove = function(e) {
                            n.state.isDragging && (e.stopPropagation(), e.preventDefault(), n._updateIsDraggingAndPosition(e))
                        }, n._handleMouseUp = function(e) {
                            n._updateIsDraggingAndPosition(e, !1)
                        }, n._getCursorPosition = function(e) {
                            var t = n._canvasRef;
                            if (!t) return {
                                x: 0,
                                y: 0
                            };
                            var a = t.getBoundingClientRect(),
                                l = e.clientX - a.left,
                                r = e.clientY - a.top;
                            return l > a.width && (l = a.width - .1), l < 0 && (l = 0), r > a.height && (r = a.height), r < 0 && (r = .1), {
                                x: l -= p.CURSOR_SIZE / 2,
                                y: r -= p.CURSOR_SIZE / 2
                            }
                        }, n._getColorAt = function(e) {
                            var t = n._canvasRef;
                            if (!t) return new c.default(0, 0, 0);
                            var a = e.x + p.CURSOR_SIZE / 2,
                                l = e.y + p.CURSOR_SIZE / 2,
                                r = t.getContext("2d").getImageData(a, l, 1, 1).data;
                            return new c.default(r[0], r[1], r[2])
                        }, n.state = {
                            isDragging: !1
                        }, n._updateSelectedColor = d.default.throttle(n.props.onChangeSelectedColor, p.THROTTLE_WAIT_TIME), n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._initColorPicker()
                        }
                    }, {
                        key: "_initColorPicker",
                        value: function() {
                            var e = this._canvasRef;
                            if (e) {
                                var t = e.getContext("2d"),
                                    a = t.createLinearGradient(0, 0, e.width, 0);
                                a.addColorStop(0, "#ff0000"), a.addColorStop(1 / 6, "#ffff00"), a.addColorStop(1 / 6 * 2, "#00ff00"), a.addColorStop(.5, "#00ffff"), a.addColorStop(1 / 6 * 4, "#0000ff"), a.addColorStop(1 / 6 * 5, "#ff00ff"), a.addColorStop(1, "#ff0000"), t.fillStyle = a, t.fillRect(0, 0, e.width, e.height), (a = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(255, 255, 255, 1)"), a.addColorStop(.5, "rgba(255, 255, 255, 0)"), a.addColorStop(1, "rgba(255, 255, 255, 0)"), t.fillStyle = a, t.fillRect(0, 0, e.width, e.height), (a = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(0, 0, 0, 0)"), a.addColorStop(.5, "rgba(0, 0, 0, 0)"), a.addColorStop(1, "rgba(0, 0, 0, 1)"), t.fillStyle = a, t.fillRect(0, 0, e.width, e.height)
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.color,
                                t = (0, m.getPositionFromColor)(e);
                            return s.default.createElement(s.default.Fragment, null, s.default.createElement("canvas", {
                                width: p.CONTAINER_WIDTH,
                                height: p.CANVAS_HEIGHT,
                                className: f.default.canvas,
                                ref: this._setCanvasRef,
                                onMouseDown: this._handleMouseDown,
                                onMouseMove: this._handleMouseMove,
                                onMouseUp: this._handleMouseUp
                            }), s.default.createElement("div", {
                                className: f.default.cursor,
                                style: {
                                    width: p.CURSOR_SIZE,
                                    height: p.CURSOR_SIZE,
                                    left: t.x,
                                    top: t.y,
                                    backgroundColor: e.toRgbaString()
                                }
                            }))
                        }
                    }]), a
                }(s.Component);
            t.default = h, h.displayName = "ColorPickerPanel"
        },
        27303: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.THROTTLE_WAIT_TIME = t.DEFAULT_COLOR = t.CURSOR_SIZE = t.INPUT_HEIGHT = t.CANVAS_HEIGHT = t.CONTAINER_HEIGHT = t.CONTAINER_WIDTH = void 0;
            var l = n(a(94618));
            t.CONTAINER_WIDTH = 334;
            t.CONTAINER_HEIGHT = 203;
            var r = 150.22;
            t.CANVAS_HEIGHT = r;
            t.INPUT_HEIGHT = 52.78;
            t.CURSOR_SIZE = 20;
            var i = new l.default(210, 252, 86);
            t.DEFAULT_COLOR = i;
            t.THROTTLE_WAIT_TIME = 900
        },
        77128: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(16498)),
                c = l(a(37035)),
                f = a(27303),
                p = l(a(90560)),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n, l;
                        return (0, r.default)(this, a), (l = t.call(this, e)).handleChangeCanvasColor = function(e) {
                            l.setState({
                                canvasColor: e
                            })
                        }, l.handleChangeSelectedColor = function(e) {
                            l.props.onColorSelect(e)
                        }, l.handleChangeColor = function(e) {
                            l.handleChangeCanvasColor(e), l.handleChangeSelectedColor(e)
                        }, l.state = {
                            canvasColor: null !== (n = l.props.selectedColor) && void 0 !== n ? n : f.DEFAULT_COLOR
                        }, l
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.state.canvasColor;
                            return d.default.createElement("div", {
                                className: p.default.container,
                                style: {
                                    width: f.CONTAINER_WIDTH,
                                    height: f.CONTAINER_HEIGHT
                                }
                            }, d.default.createElement(c.default, {
                                color: e,
                                onChangeCanvasColor: this.handleChangeCanvasColor,
                                onChangeSelectedColor: this.handleChangeSelectedColor
                            }), d.default.createElement(s.default, {
                                color: e,
                                onChangeColor: this.handleChangeColor,
                                onColorPickerClose: this.props.onColorPickerClose
                            }))
                        }
                    }]), a
                }(d.Component);
            t.default = m, m.displayName = "ColorPicker"
        },
        60002: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CropRotateToolbar = function(e) {
                var t = e.canReset,
                    a = e.onRotateCanvas,
                    n = e.onReset;
                return l.default.createElement(o.FlexRow, {
                    className: i.default.container
                }, l.default.createElement(r.default, {
                    className: i.default.rotateLeftButton,
                    icon: "media-editor-rotate-left",
                    title: u.default.t(1018),
                    onClick: function() {
                        return a(-90)
                    }
                }), l.default.createElement(r.default, {
                    icon: "media-editor-rotate-right",
                    title: u.default.t(1019),
                    onClick: function() {
                        return a(90)
                    }
                }), l.default.createElement(r.default, {
                    onClick: n,
                    disabled: !t
                }, u.default.t(1012)))
            };
            var l = n(a(67294)),
                r = n(a(39145)),
                i = n(a(52418)),
                o = a(32002),
                u = n(a(89115))
        },
        43752: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(81109)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = n(a(67294)),
                c = l(a(39145)),
                f = a(32002),
                p = l(a(43384)),
                m = l(a(88093)),
                h = a(49103),
                v = l(a(4268)),
                g = l(a(88117)),
                E = l(a(38512)),
                _ = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            contextMenu: null
                        }, e._setRefButton = function(t) {
                            e._refButton = t
                        }, e._handleOpen = function() {
                            e.state.contextMenu || e._refButton && e.setState({
                                contextMenu: {
                                    menu: e._getDropdown(),
                                    anchor: e._refButton
                                }
                            })
                        }, e._handleClose = function() {
                            e.setState({
                                contextMenu: null
                            })
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "_getDropdown",
                        value: function() {
                            var e = this.props,
                                t = e.fonts,
                                a = e.onFontSelect,
                                n = e.onAlignmentSelect,
                                l = e.selectedFont,
                                r = e.selectedAlignment;
                            return s.default.createElement(m.default, {
                                fonts: t,
                                selectedFont: l,
                                selectedAlignment: r,
                                onFontSelect: a,
                                onAlignmentSelect: n
                            })
                        }
                    }, {
                        key: "isMenuVisible",
                        value: function() {
                            return Boolean(this.state.contextMenu)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.props.selectedFont,
                                a = this.state.contextMenu,
                                n = Boolean(a);
                            return a && (e = s.default.createElement(v.default, {
                                displayName: "MediaEditorFontDropdown",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this._handleClose
                            }, s.default.createElement(g.default, {
                                contextMenu: a
                            }))), s.default.createElement("div", {
                                ref: this._setRefButton,
                                className: p.default.container
                            }, s.default.createElement(c.default, {
                                onClick: this._handleOpen,
                                icon: s.default.createElement(C, {
                                    font: t
                                }),
                                selected: n,
                                caret: n ? "down" : "up"
                            }, s.default.createElement("span", {
                                className: p.default.fontLabel
                            }, (0, h.getFontTranslation)(t))), s.default.createElement(E.default, {
                                transitionName: "dropdown"
                            }, e))
                        }
                    }]), a
                }(s.Component);

            function C(e) {
                var t = e.font;
                return s.default.createElement(f.FlexRow, {
                    className: p.default.icon,
                    style: (0, r.default)({}, (0, h.getFontStyle)(t)),
                    justify: "center",
                    align: "center"
                }, s.default.createElement("div", {
                    "aria-hidden": "true"
                }, "A"))
            }
            t.default = _, _.displayName = "FontToolbar"
        },
        88093: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onFontSelect,
                    a = e.onAlignmentSelect,
                    n = e.selectedFont,
                    l = e.selectedAlignment;
                (0, o.useEffect)((function() {
                    c.default.loadAllFonts()
                }), []);
                return o.default.createElement("div", null, e.fonts.map((function(e) {
                    var a;
                    n === e && (a = o.default.createElement("span", {
                        className: s.default.selected
                    }, o.default.createElement(p.default, {
                        name: "checkmark",
                        display: "inline"
                    })));
                    var l, r = (0, f.getFontTranslation)(e);
                    switch (e) {
                        case f.FONTS.SANS_SERIF:
                            l = s.default.sansSerif;
                            break;
                        case f.FONTS.SERIF:
                            l = s.default.serif;
                            break;
                        case f.FONTS.NORICAN_REGULAR:
                            l = s.default.noricanRegular;
                            break;
                        case f.FONTS.BRYNDAN_WRITE:
                            l = s.default.bryndanWrite;
                            break;
                        case f.FONTS.OSWALD_HEAVY:
                            l = s.default.oswaldHeavy
                    }
                    return o.default.createElement(u.default, {
                        key: e,
                        action: function(a) {
                            return function(e, a) {
                                e.stopPropagation(), t(a)
                            }(a, e)
                        }
                    }, o.default.createElement("div", {
                        role: "button",
                        className: s.default.item,
                        style: (0, f.getFontStyle)(e)
                    }, o.default.createElement("span", {
                        className: l
                    }, r), a))
                })), o.default.createElement(d.FlexRow, {
                    key: "alignment",
                    className: s.default.alignmentContainer,
                    justify: "around",
                    align: "center"
                }, m.map((function(e) {
                    var t = e.alignment,
                        n = e.icon;
                    return o.default.createElement(d.FlexItem, {
                        key: n
                    }, o.default.createElement(u.default, {
                        action: function(e) {
                            return function(e, t) {
                                e.stopPropagation(), a(t)
                            }(e, t)
                        }
                    }, o.default.createElement(p.default, {
                        name: n,
                        className: (0, i.default)(s.default.alignmentIcon, (0, r.default)({}, s.default.alignmentIconSelected, t === l))
                    })))
                }))))
            };
            var r = l(a(59713)),
                i = l(a(94184)),
                o = n(a(67294)),
                u = l(a(33079)),
                d = a(32002),
                s = l(a(16702)),
                c = l(a(32855)),
                f = a(49103),
                p = l(a(75131)),
                m = [{
                    alignment: f.TextAlignment.LEFT,
                    icon: "align-left"
                }, {
                    alignment: f.TextAlignment.CENTER,
                    icon: "align-center"
                }, {
                    alignment: f.TextAlignment.RIGHT,
                    icon: "align-right"
                }]
        },
        77954: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selectedLayer,
                    a = e.inPaintMode,
                    n = e.inCropRotateMode,
                    l = e.inTextEditingMode,
                    C = e.canUndo,
                    y = e.canRedo,
                    S = e.onPaintSelect,
                    k = e.onCropRotateSelect,
                    M = e.onTextSelect,
                    T = e.onEmojiSelect,
                    I = e.onToggleEmojiPanel,
                    b = e.onStickerSelect,
                    P = e.onToggleStickerPanel,
                    w = e.onUndo,
                    L = e.onRedo,
                    O = (0, i.useState)(),
                    D = (0, r.default)(O, 2),
                    N = D[0],
                    R = D[1],
                    A = (0, i.useState)(),
                    x = (0, r.default)(A, 2),
                    F = x[0],
                    U = x[1],
                    B = (0, i.useRef)({});
                B.current = {
                    inPaintMode: a,
                    onEmojiSelect: T,
                    onStickerSelect: b,
                    onPaintSelect: S
                };
                var G = function() {
                        n ? k() : a && S()
                    },
                    H = function() {
                        R(null), I(!1)
                    },
                    j = function() {
                        U(null), P(!1)
                    };
                return i.default.createElement(f.MenuBar, {
                    theme: "media-editor"
                }, i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-emoji"
                    }),
                    a8nText: "emoji-button",
                    title: c.default.t(1015),
                    key: "emoji",
                    onClick: function(e) {
                        e.preventDefault(), e.stopPropagation(), G();
                        var t = i.default.createElement(u.default, {
                            onEmoji: function(e) {
                                B.current.inPaintMode && B.current.onPaintSelect(), B.current.onEmojiSelect(e), H()
                            },
                            onFocusNext: H,
                            onFocusPrev: H
                        });
                        R({
                            menu: t,
                            dirY: o.DirY.TOP,
                            type: "emoji_picker",
                            anchor: e.target
                        }), I(!0)
                    },
                    selected: Boolean(N) || t instanceof s.default && t.isEmoji()
                }), i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-sticker"
                    }),
                    a8nText: "sticker-button",
                    title: c.default.t(1020),
                    key: "sticker",
                    onClick: function(e) {
                        e.preventDefault(), e.stopPropagation(), G();
                        var t, a = function(e) {
                            B.current.inPaintMode && B.current.onPaintSelect(), B.current.onStickerSelect(e), j()
                        };
                        d.default.supportsFeature(d.default.F.MD_BACKEND) ? _.default.webServerStickerPanel && (t = i.default.createElement(E.default, {
                            onSticker: a,
                            onFocusNext: j,
                            onFocusPrev: j
                        })) : t = i.default.createElement(p.default, {
                            onSticker: a,
                            onFocusNext: j,
                            onFocusPrev: j
                        }), t && (U({
                            menu: t,
                            dirY: o.DirY.TOP,
                            type: "sticker_picker",
                            anchor: e.target
                        }), P(!0))
                    },
                    selected: Boolean(F) || t instanceof s.default && t.isSticker()
                }), i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-text"
                    }),
                    a8nText: "text-button",
                    title: c.default.t(1021),
                    key: "text",
                    onClick: function(e) {
                        e.preventDefault(), G(), M()
                    },
                    selected: l || t instanceof h.default
                }), i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-drawing"
                    }),
                    a8nText: "paint-button",
                    title: c.default.t(1016),
                    key: "paint",
                    onClick: function(e) {
                        e.preventDefault(), a || G(), S()
                    },
                    selected: a
                }), i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-crop-rotate"
                    }),
                    a8nText: "crop-rotate-button",
                    title: c.default.t(1013),
                    key: "crop-rotate",
                    onClick: function(e) {
                        e.preventDefault(), n || G(), k()
                    },
                    selected: n
                }), i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-undo"
                    }),
                    a8nText: "undo-button",
                    title: c.default.t(1022),
                    key: "undo",
                    disabled: !C,
                    onClick: w
                }), i.default.createElement(f.MenuBarItem, {
                    icon: i.default.createElement(m.default, {
                        name: "media-editor-redo"
                    }),
                    a8nText: "redo-button",
                    title: c.default.t(1017),
                    key: "redo",
                    disabled: !y,
                    onClick: L
                }), F && i.default.createElement(v.default, {
                    displayName: "StickerPicker",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: j
                }, i.default.createElement(g.default, {
                    contextMenu: F
                })), N && i.default.createElement(v.default, {
                    displayName: "EmojiPicker",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: H
                }, i.default.createElement(g.default, {
                    contextMenu: N
                })))
            };
            var r = l(a(63038)),
                i = n(a(67294)),
                o = a(75300),
                u = l(a(93868)),
                d = l(a(22021)),
                s = l(a(96891)),
                c = l(a(89115)),
                f = a(53418),
                p = l(a(42757)),
                m = l(a(75131)),
                h = l(a(88162)),
                v = l(a(4268)),
                g = l(a(88117)),
                E = l(a(23266)),
                _ = l(a(63056))
        },
        2821: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.checked,
                    a = e.onBackgroundToggle,
                    n = i.default.createElement("div", {
                        className: (0, r.default)(s.default.cirle, (0, l.default)({}, s.default.circleFilled, t))
                    }, t ? i.default.createElement("div", {
                        className: s.default.checked
                    }, i.default.createElement(d.default, {
                        name: "checkmark"
                    })) : i.default.createElement("div", {
                        className: s.default.unchecked
                    }));
                return i.default.createElement(o.default, {
                    icon: n,
                    onClick: a
                }, u.default.t(1003))
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(39145)),
                u = n(a(89115)),
                d = n(a(75131)),
                s = n(a(89046))
        },
        78833: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.thickness,
                    a = e.selectedThickness,
                    n = e.onThicknessSelect,
                    d = t.map((function(e) {
                        return i.default.createElement("div", {
                            key: e.toString(),
                            onClick: function() {
                                return n(e)
                            },
                            className: (0, r.default)(o.default.thicknessButton, (0, l.default)({}, o.default.selected, a && a === e))
                        }, i.default.createElement("div", {
                            className: o.default.thicknessChip,
                            style: {
                                height: (0, u.getThicknessValue)(e),
                                width: (0, u.getThicknessValue)(e)
                            }
                        }))
                    }));
                return i.default.createElement("div", {
                    className: o.default.container
                }, d)
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(60349)),
                u = a(53747)
        },
        41762: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPositionFromColor = function(e) {
                var t = e.toHsl(),
                    a = n.CONTAINER_WIDTH * t.hue - n.CURSOR_SIZE / 2,
                    l = n.CANVAS_HEIGHT * (1 - t.lightness) - n.CURSOR_SIZE / 2;
                return {
                    x: a,
                    y: l
                }
            };
            var n = a(27303)
        },
        77737: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPointFromStage = function(e) {
                var t = e.currentTarget.getStage(),
                    a = t.getPointerPosition() || {
                        x: 0,
                        y: 0
                    },
                    n = a.x,
                    r = a.y,
                    i = t.getAbsoluteScale(),
                    o = i.x,
                    u = i.y;
                return new l.default({
                    x: n / o,
                    y: r / u
                })
            }, t.getPointFromGroup = function(e) {
                return new l.default({
                    x: e.target.x() - e.target.offsetX(),
                    y: e.target.y() - e.target.offsetY()
                })
            }, t.getRotationFromGroup = function(e) {
                return e.target.rotation()
            }, t.getScaleFromGroup = function(e) {
                return e.target.scaleX()
            }, t.isEventOnAnchor = function(e) {
                var t, a;
                return null !== (t = null === (a = e.target.attrs.name) || void 0 === a ? void 0 : a.includes("anchor")) && void 0 !== t && t
            };
            var l = n(a(39456))
        },
        56257: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "Circle", {
                enumerable: !0,
                get: function() {
                    return n.Circle
                }
            }), Object.defineProperty(t, "Group", {
                enumerable: !0,
                get: function() {
                    return n.Group
                }
            }), Object.defineProperty(t, "Image", {
                enumerable: !0,
                get: function() {
                    return n.Image
                }
            }), Object.defineProperty(t, "Layer", {
                enumerable: !0,
                get: function() {
                    return n.Layer
                }
            }), Object.defineProperty(t, "Line", {
                enumerable: !0,
                get: function() {
                    return n.Line
                }
            }), Object.defineProperty(t, "Path", {
                enumerable: !0,
                get: function() {
                    return n.Path
                }
            }), Object.defineProperty(t, "Rect", {
                enumerable: !0,
                get: function() {
                    return n.Rect
                }
            }), Object.defineProperty(t, "Stage", {
                enumerable: !0,
                get: function() {
                    return n.Stage
                }
            }), Object.defineProperty(t, "Text", {
                enumerable: !0,
                get: function() {
                    return n.Text
                }
            }), Object.defineProperty(t, "Transformer", {
                enumerable: !0,
                get: function() {
                    return n.Transformer
                }
            }), a(7643), a(71298), a(27149), a(87339), a(75244), a(23787), a(29516);
            var n = a(77201)
        },
        78674: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.calculateContainScale = function(e, t, a, n) {
                if (0 === e || 0 === t) return 1;
                if (!a.isEmpty() && (e > a.width || t > a.height)) return Math.min(a.width / e, a.height / t);
                if (!n.isEmpty() && e < n.width && t < n.height) return Math.min(n.width / e, n.height / t);
                return 1
            }
        },
        93449: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = n(a(34575)),
                r = n(a(96486)),
                i = a(19059),
                o = n(a(69267));
            t.default = function e(t, a, n, u) {
                var d = this;
                (0, l.default)(this, e), this.updateEditData = function(e) {
                    d.saveEdits(), d.editData = r.default.merge({}, d.editData, e)
                }, this.updateEditItems = function(e, t) {
                    d.saveEdits();
                    var a = [];
                    d.editData.items && d.editData.items.forEach((function(e) {
                        e !== t && a.push(e)
                    })), a.push(e), d.editData.items = a
                }, this.saveEdits = function() {
                    var t = new e(d.media, d.originalImage, d.editData, d.previous);
                    d.previous = t
                }, this.revertEdit = function() {
                    d.previous && (d.editData = d.previous.editData, d.previous = d.previous.previous)
                }, this.saveEditsFromCanvas = function(e) {
                    var t = e.toDataURL();
                    d.editedImage || (d.editedImage = new Image), d.editedImage.src = t
                }, this.exportEditedMedia = function() {
                    if (d.hasEdits() && d.editedImage) {
                        var e = d.editedImage.src;
                        return o.default.dataURLtoFile(e)
                    }
                    return d.media instanceof File ? d.media : (0, i.createFile)([d.media], "", {
                        type: d.media.type
                    })
                }, this.hasEdits = function() {
                    return !!d.previous && d.editedImage
                }, this.cleanUp = function() {
                    window.URL.revokeObjectURL(d.originalImage.src)
                }, this.media = t, a ? this.originalImage = a : (this.originalImage = new Image, this.originalImage.src = window.URL.createObjectURL(t)), this.previous = u, this.editData = {
                    height: 0,
                    width: 0,
                    offsetX: 0,
                    offsetY: 0,
                    rotation: 0,
                    scale: 1,
                    items: [],
                    baseItem: null
                }, r.default.merge(this.editData, n)
            }
        },
        10584: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = a(76304),
                c = l(a(67294)),
                f = r(a(34263)),
                p = l(a(93783)),
                m = r(a(68390)),
                h = r(a(84053)),
                v = r(a(75131)),
                g = 1.1,
                E = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var l = arguments.length, r = new Array(l), o = 0; o < l; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r)))._validateTranslate = function(t, a) {
                            var n = e.props.editedMedia.editData,
                                l = (t - n.width / 2) * n.scale,
                                r = (t + n.width / 2) * n.scale,
                                i = (a + n.height / 2) * n.scale,
                                o = (a - n.height / 2) * n.scale;
                            return {
                                x: l < -e._cropRadius && r > e._cropRadius,
                                y: o < -e._cropRadius && i > e._cropRadius
                            }
                        }, e._validateScale = function(t) {
                            var a = e.props.editedMedia.editData,
                                n = Math.max(2 * e._cropRadius / a.width, 2 * e._cropRadius / a.height),
                                l = Math.max(t, n);
                            if (a.width * t < e._cropRadius || a.height * t < e._cropRadius) return !1;
                            var r = -e._cropRadius / l + a.width / 2,
                                i = e._cropRadius / l - a.width / 2,
                                o = -e._cropRadius / l + a.height / 2,
                                u = e._cropRadius / l - a.height / 2;
                            return {
                                scale: l,
                                offsetX: Math.min(Math.max(a.offsetX, i), r),
                                offsetY: Math.min(Math.max(a.offsetY, u), o)
                            }
                        }, e._handlePressMove = function(t, a) {
                            var n = e.props.editedMedia.editData,
                                l = t.stageX - a.x,
                                r = t.stageY - a.y,
                                i = n.offsetX + l / n.scale,
                                o = n.offsetY + r / n.scale,
                                u = e._validateTranslate(i, o);
                            u.x && (n.offsetX = i), u.y && (n.offsetY = o), a.x = t.stageX, a.y = t.stageY, e.props.drawCanvas()
                        }, e._handleEnlarge = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : g,
                                a = e.props.editedMedia.editData,
                                n = 0 !== t ? t : g,
                                l = e._validateScale(a.scale * n);
                            l && (a.scale = l.scale, a.offsetX = l.offsetX, a.offsetY = l.offsetY, e.props.drawCanvas())
                        }, e._handleReduce = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : g,
                                a = e.props.editedMedia.editData,
                                n = 0 !== t ? t : g,
                                l = e._validateScale(a.scale / n);
                            l && (a.scale = l.scale, a.offsetX = l.offsetX, a.offsetY = l.offsetY, e.props.drawCanvas())
                        }, e.crop = function() {
                            var t, a = e.props.editedMedia,
                                l = a.editData,
                                r = a.editedImage && a.editedImage.src;
                            if (!r) return n.reject("empty image");
                            var i = 2 * e._cropRadius,
                                o = i;
                            return i > f.default.MAX_PIC_SIDE ? o = f.default.MAX_PIC_SIDE : i < f.default.MIN_PIC_SIDE && (o = f.default.MIN_PIC_SIDE), p.crop(r, (l.width - 2 * e._cropRadius) / 2, (l.height - 2 * e._cropRadius) / 2, 2 * e._cropRadius, 2 * e._cropRadius, o, o, p.DATA_URL | p.CANVAS).then((function(e) {
                                var a = e.images;
                                return t = a.dataUrl, p.crop(a.canvas, 0, 0, f.default.PROF_PIC_THUMB_SIDE, f.default.PROF_PIC_THUMB_SIDE)
                            })).then((function(e) {
                                return {
                                    thumb: e.images.dataUrl,
                                    full: t
                                }
                            }))
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this;
                            return c.default.createElement("div", {
                                className: h.default.scaler
                            }, c.default.createElement("div", {
                                className: h.default.scalerButton,
                                onClick: function() {
                                    e._handleEnlarge()
                                }
                            }, c.default.createElement(v.default, {
                                name: "plus"
                            })), c.default.createElement("div", {
                                className: h.default.scalerButton,
                                onClick: function() {
                                    e._handleReduce()
                                }
                            }, c.default.createElement(v.default, {
                                name: "minus"
                            })))
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.editedMedia.saveEdits();
                            var t, a = this.props.editedMedia.editData,
                                n = this.props.cropOverlay,
                                l = n.canvas;
                            t = a.baseItem ? a.baseItem.getBounds() : {
                                width: 0,
                                height: 0
                            }, l.style.display = "block", l.width = t.width, l.height = t.height;
                            var r = new s.Easel.Shape;
                            r.graphics.beginFill("rgba(0, 0, 0, 0.1)"), r.graphics.drawRect(0, 0, t.width, t.height), r.regX = t.width / 2, r.regY = t.height / 2, r.x = t.width / 2, r.y = t.height / 2, r.on("mousedown", (function(t) {
                                var a = {
                                        x: t.stageX,
                                        y: t.stageY
                                    },
                                    n = r.on("pressmove", e._handlePressMove, null, !1, a);
                                r.on("pressup", (function() {
                                    r.off("pressmove", n)
                                }), null, !0)
                            })), r.cursor = "move", this.props.listeners.add(l, "mousewheel", (function(t) {
                                t.deltaY > 0 ? e._handleEnlarge(1.02) : e._handleReduce(1.02)
                            }));
                            var i = l.getContext("2d"),
                                o = l.width,
                                u = l.height,
                                d = o / u > 500 / 361 ? u / 361 : o / 500;
                            this._cropRadius = Math.min(361, 500) / 2 * .9 * d, i.fillStyle = "rgba(0, 0, 0, 0.5)", i.fillRect(0, 0, o, u), i.globalCompositeOperation = "destination-out", i.beginPath(), i.arc(o / 2, u / 2, this._cropRadius, 0, 2 * Math.PI, !0), i.fillStyle = "#ffffff", i.fill(), n.addChild(r), n.update()
                        }
                    }]), a
                }(c.Component);
            E.displayName = "ProfileCropTool";
            var _ = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    return (0, i.default)(this, a), t.apply(this, arguments)
                }
                return (0, o.default)(a, [{
                    key: "crop",
                    value: function() {
                        return this.getComponent().crop()
                    }
                }]), a
            }((0, m.default)(E));
            t.default = _
        },
        23976: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(29351)),
                c = l(a(34541)),
                f = l(a(25960)),
                p = l(a(34263)),
                m = l(a(89115)),
                h = a(17864),
                v = n(a(6705)),
                g = a(64550),
                E = a(85221),
                _ = l(a(8643)),
                C = l(a(87729)),
                y = l(a(79077)),
                S = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._labelModel = null, n.handleOk = function() {
                            var e = n.state,
                                t = e.labelName,
                                a = e.labelColor;
                            if (!e.labelNameError) {
                                (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, n.props.onAddLabel ? _.default.LABEL_TARGETS.ADD_LABEL_DIALOG : _.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);
                                var l = t && t.trim(),
                                    r = n._validateLabelName(l || "");
                                r.passed ? (n.props.labelId && n.props.onUpdateLabel ? n.props.onUpdateLabel({
                                    id: n.props.labelId,
                                    color: a,
                                    name: t
                                }, v.LABEL_PROPERTIES.NAME) : n.props.onAddLabel && n.props.onAddLabel(t || "", a), n.props.onCancel ? n.props.onCancel() : c.default.closeModal()) : n.setState({
                                    labelNameError: r.error
                                })
                            }
                        }, n.handleCancel = function() {
                            (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, n.props.onAddLabel ? _.default.LABEL_TARGETS.ADD_LABEL_DIALOG : _.default.LABEL_TARGETS.EDIT_LABEL_DIALOG), n.props.onCancel ? n.props.onCancel() : c.default.closeModal()
                        }, n._handleLabelNameChange = function(e) {
                            var t = n._validateLabelName(e);
                            n.setState({
                                labelName: e,
                                labelNameError: t.passed ? void 0 : t.error
                            })
                        }, n._validateLabelName = function(e) {
                            var t = !0,
                                a = null;
                            return e && "" !== e.trim() || (t = !1), n._labelModel && n._labelModel.name === e || 0 === v.default.where({
                                name: e
                            }).length || (t = !1, a = m.default.t(219)), {
                                passed: t,
                                error: a
                            }
                        }, n._handleKeyEnter = function(e) {
                            e.stopPropagation(), n.handleOk()
                        }, n.props.labelId && (n._labelModel = v.default.assertGet(n.props.labelId)), n.state = {
                            labelColor: n._labelModel && n._labelModel.color || void 0,
                            labelName: n._labelModel && n._labelModel.name || "",
                            labelNameError: void 0
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.onAddLabel ? (v.default.getNewLabelColor().then((function(t) {
                                e.setState({
                                    labelColor: t || p.default.DEFAULT_SMB__NEW_LABEL_COLOR
                                })
                            })), (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, 1, _.default.LABEL_TARGETS.ADD_LABEL_DIALOG)) : this.props.onUpdateLabel && (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, 1, _.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = !this._validateLabelName(this.state.labelName.trim()).passed;
                            return d.default.createElement(f.default, {
                                title: this.props.onUpdateLabel ? m.default.t(658) : m.default.t(222),
                                okText: m.default.t(1865),
                                onOK: this.handleOk,
                                okDisabled: e,
                                onCancel: this.handleCancel
                            }, d.default.createElement("div", {
                                className: s.default.inputContainer
                            }, d.default.createElement("div", {
                                className: s.default.label
                            }, this.state.labelColor ? (0, E.renderLabelSvg)((0, h.intColorToHex)(this.state.labelColor)) : d.default.createElement(C.default, {
                                stroke: 5,
                                size: 20
                            })), d.default.createElement("div", {
                                className: s.default.input
                            }, d.default.createElement(y.default, {
                                a8n: "add-new-label-name-input",
                                focusOnMount: !0,
                                hideFloatingLabel: !0,
                                showRemaining: !0,
                                supportsEmoji: !0,
                                value: this.state.labelName,
                                error: this.state.labelNameError,
                                maxLength: p.default.SMB_LABELS.MAX_LABEL_LENGTH,
                                onChange: this._handleLabelNameChange,
                                onEnter: this._handleKeyEnter,
                                placeholder: m.default.t(221)
                            }))))
                        }
                    }]), a
                }(d.Component);
            t.default = S, S.displayName = "AddOrEditLabelPopup"
        },
        56056: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34541)),
                c = l(a(25960)),
                f = l(a(34263)),
                p = a(14650),
                m = l(a(19129)),
                h = l(a(89115)),
                v = a(85539),
                g = a(59078),
                E = a(88577),
                _ = a(28770),
                C = l(a(79077)),
                y = n(a(92631)),
                S = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            isSubmitting: !1,
                            submitted: !1,
                            reason: ""
                        }, e._onInputChange = function(t) {
                            e.setState({
                                reason: t
                            })
                        }, e._handleOk = function() {
                            var t = e.props,
                                a = t.product,
                                n = t.sessionId;
                            (0, v.logAppealProductCatalogClick)(n), e.setState({
                                isSubmitting: !0
                            }), (0, g.appealProduct)(a.id.toString(), e.state.reason).then((function() {
                                a.canAppeal = !1, a.reviewStatus = E.PRODUCT_REVIEW_STATUS.PENDING, (0, v.logAppealProductCatalogSuccess)(n), e.setState({
                                    isSubmitting: !1,
                                    submitted: !0
                                })
                            })).catchType(p.ServerStatusCodeError, (function(t) {
                                s.default.openToast(d.default.createElement(y.default, {
                                    msg: h.default.t(441),
                                    id: (0, y.genId)("catalog_appeal_submission_failed")
                                })), (0, v.logAppealProductCatalogFailed)(n, t.status), e.setState({
                                    isSubmitting: !1
                                })
                            }))
                        }, e._handleCancel = function() {
                            s.default.closeModal()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.state,
                                t = e.submitted,
                                a = e.isSubmitting,
                                n = e.reason;
                            return t ? d.default.createElement(c.default, {
                                title: h.default.t(1344),
                                onOK: this._handleCancel
                            }, d.default.createElement(_.TextDiv, null, h.default.t(467))) : d.default.createElement(c.default, {
                                title: h.default.t(1344),
                                onOK: this._handleOk,
                                onCancel: this._handleCancel,
                                okDisabled: a
                            }, d.default.createElement("form", null, d.default.createElement(C.default, {
                                a8n: "confirm-popup-text-input",
                                placeholder: h.default.t(932),
                                onChange: this._onInputChange,
                                value: n,
                                maxLength: 1e3
                            }), d.default.createElement(m.default, {
                                href: f.default.WA_COMMERCE_POLICY_URL
                            }, h.default.t(936))))
                        }
                    }]), a
                }(d.PureComponent);
            t.default = S, S.displayName = "AppealProductPopup"
        },
        93803: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(59713)),
                o = r(a(34575)),
                u = r(a(93913)),
                d = r(a(2205)),
                s = r(a(99842)),
                c = r(a(94184)),
                f = l(a(67294)),
                p = a(41144),
                m = r(a(51245)),
                h = r(a(61213)),
                v = r(a(82191)),
                g = r(a(9140)),
                E = r(a(61138)),
                _ = r(a(12326)),
                C = r(a(4470)),
                y = r(a(58979)),
                S = r(a(76)),
                k = r(a(34541)),
                M = r(a(25960)),
                T = r(a(34263)),
                I = r(a(43302)),
                b = r(a(43704)),
                P = r(a(81997)),
                w = r(a(25259)),
                L = l(a(62647)),
                O = a(14656),
                D = l(a(98569)),
                N = a(19059),
                R = r(a(31722)),
                A = r(a(76568)),
                x = r(a(89115)),
                F = r(a(68390)),
                U = r(a(63309)),
                B = r(a(8643)),
                G = a(13242),
                H = r(a(42027)),
                j = r(a(40746)),
                V = r(a(63056)),
                W = r(a(87729)),
                z = r(a(75131)),
                K = l(a(92631)),
                Y = r(a(38512)),
                q = T.default.MSG_TYPE,
                Z = q.IMAGE,
                $ = q.VIDEO,
                X = q.DOCUMENT,
                J = q.AUDIO,
                Q = p.ATTACH_MEDIA_STATE.PROCESSING,
                ee = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var l;
                        return (0, o.default)(this, a), (l = t.call(this, e))._attachMediaRefMap = new Map, l.setRefContainer = function(e) {
                            l.refContainer = e
                        }, l.setRefInput = function(e) {
                            l.refInput = e
                        }, l._setAttachMediaRef = function(e, t) {
                            l._attachMediaRefMap.set(e, t)
                        }, l._handleMediaProcessUpdate = function() {
                            var e = l.props.mediaCollection;
                            if (e.canSend()) {
                                clearTimeout(l._mediaProcessTimer), l._mediaProcessTimer = null, l.setState({
                                    showLoadingState: !1
                                });
                                var t = e.uiProcessMsgs().errorMsgs,
                                    a = e.getPreviewableMedias();
                                t && a.length > 0 && k.default.openToast(f.default.createElement(K.default, {
                                    msg: t,
                                    id: (0, K.genId)()
                                })), l.forceUpdate()
                            } else l._mediaProcessTimer || (l._mediaProcessTimer = setTimeout((function() {
                                l._mediaProcessTimer = null, l.setState({
                                    showLoadingState: !0
                                })
                            }), 500))
                        }, l._handleFilesNotSupported = function() {
                            var e = l.props.mediaCollection.filter((function(e) {
                                return e.exception
                            }));
                            e.length > 0 && l.props.onFailedMedias(e)
                        }, l._showIgnoredToast = function(e) {
                            if (e > 0) {
                                var t = x.default.t(1493, {
                                    number: e,
                                    _plural: e
                                });
                                k.default.openToast(f.default.createElement(K.default, {
                                    msg: t,
                                    id: (0, K.genId)()
                                }))
                            }
                        }, l.handleDrop = function(e) {
                            l.state.isViewOnce || l.handleFilePick(e)
                        }, l.handleDragLeave = function() {
                            l.props.mediaCollection.length || l.props.onBack()
                        }, l.handleDragChange = function(e, t) {
                            l.state.isViewOnce || (l.setState({
                                isDragging: e
                            }), e || t || l.props.mediaCollection.length || l.props.onBack())
                        }, l.handleEnter = function(e) {
                            l.state.activeMedia && (e.repeat || e.shiftKey || l.handleSend())
                        }, l._handleArrowLeft = function(e) {
                            if (l.state.activeMedia && !e.repeat) {
                                var t = l.state.activeMedia && !l.state.activeMedia.caption,
                                    a = l.refCaptionInput && l.refCaptionInput.refInput;
                                (t || a && !a.isFocused() || a && a.cursorIsAtStart()) && l.handlePrev()
                            }
                        }, l._handleArrowRight = function(e) {
                            if (l.state.activeMedia && !e.repeat) {
                                var t = l.state.activeMedia && !l.state.activeMedia.caption,
                                    a = l.refCaptionInput && l.refCaptionInput.refInput;
                                (t || a && !a.isFocused() || a && a.cursorIsAtEnd()) && l.handleNext()
                            }
                        }, l.handleNext = function() {
                            l.props.mediaCollection.setNextAsActive() && (l._refSendButton && R.default.focus(l._refSendButton), l._scrollIntoView())
                        }, l.handlePrev = function() {
                            l.props.mediaCollection.setPrevAsActive() && (l._refSendButton && R.default.focus(l._refSendButton), l._scrollIntoView())
                        }, l._scrollIntoView = function() {
                            var e = l.props.mediaCollection.getActive();
                            if (e) {
                                var t = l._attachMediaRefMap.get(e.id);
                                t && t.scrollIntoView()
                            }
                        }, l.handleSelectThumb = function(e) {
                            l.props.mediaCollection.setActive(e)
                        }, l.handleSend = function(e) {
                            e && e.preventDefault(), e && e.shiftKey || l.props.mediaCollection.canSend() && n.all([]).then((function() {
                                var e = l.props.mediaCollection.getPreviewableMedias();
                                if (0 !== e.length) {
                                    var t = e.map((function(e) {
                                        var t = e.caption,
                                            a = [],
                                            n = l.refCaptionInput && l.refCaptionInput.refInput;
                                        if (t && n) {
                                            var r = n.serialize(t),
                                                i = [r[0].trim(), r[1]],
                                                o = i[0],
                                                u = i[1];
                                            o.length && (t = o, a = u.mentionedJidList || [])
                                        }
                                        return e.caption = t || void 0, {
                                            media: e,
                                            mentionedJidList: a
                                        }
                                    }));
                                    l.props.onSendMedia(t, l.state.isInitCaptionUsed, l.state.isViewOnce)
                                }
                            }))
                        }, l.handleAddFileClick = function() {
                            l.refInput && l.refInput.click()
                        }, l.handleFilePick = function(e) {
                            (0, O.getFiles)(e).then((function(e) {
                                return l.props.mediaCollection.processAttachments(e.map((function(e) {
                                    return {
                                        file: e
                                    }
                                })), B.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)
                            })).checkpoint(l.props.rejectOnUnmount()).catchType(D.Unmount, (function() {})).catchType(D.MediaDragDropError, (function(e) {
                                l.props.mediaCollection.length || l.props.onDropText(e.src)
                            })), e.target && e.target.value && (e.target.value = "")
                        }, l._handleRemoveThumb = function(e, t) {
                            t.stopPropagation(), t.preventDefault(), l.props.mediaCollection.remove(e), 0 === l.props.mediaCollection.getValidMedias().length ? l._delayedClose = setTimeout((function() {
                                l.props.onBack()
                            }), 200) : l._refSendButton && R.default.focus(l._refSendButton)
                        }, l.handleCaptionChange = function(e) {
                            var t = l.state,
                                a = t.activeMedia,
                                n = t.isInitCaptionUsed;
                            if (a) {
                                var r = l.props.mediaCollection.indexOf(a);
                                a.caption = e, 0 === r && "" === e && n ? l.setState({
                                    isInitCaptionUsed: !1
                                }) : l.forceUpdate()
                            }
                        }, l.handlePaste = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = new I.default(e.clipboardData);
                            t.hasFiles() && l.handleFiles(t)
                        }, l.handleFiles = function(e) {
                            var t = e.getFiles().filter((function(e) {
                                var t = (0, N.typeFromMimetype)(e.type);
                                return "image" === t || "video" === t
                            })).map((function(e) {
                                return {
                                    file: e
                                }
                            }));
                            l.props.mediaCollection.processAttachments(t, B.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)
                        }, l._handleViewOnceChange = function(e) {
                            l.setState({
                                isViewOnce: e
                            })
                        }, l.setRefCaptionInput = function(e) {
                            l.state.activeMedia && !e || (l.refCaptionInput = e)
                        }, l._canViewOnce = function() {
                            var e, t = l.props,
                                a = t.chat,
                                n = t.mediaCollection,
                                r = a.contact.isEnterprise;
                            return V.default.viewOnceWrite && 1 === n.length && !0 === (null === (e = n.at(0)) || void 0 === e ? void 0 : e.isViewableOnce()) && !r
                        }, l._getMedia = function(e) {
                            var t, a, n;
                            switch (e.type) {
                                case Z:
                                case $:
                                    t || (t = f.default.createElement(_.default, {
                                        mimeType: e.mimetype,
                                        url: e.fullPreview,
                                        isGif: e.isGif,
                                        size: e.fullPreviewSize,
                                        processing: e.state === Q,
                                        preview: e.preview
                                    })), a = f.default.createElement("div", {
                                        className: m.default.captionInput,
                                        "data-animate-media-caption": !0
                                    }, f.default.createElement(U.default, {
                                        ref: l.setRefCaptionInput,
                                        value: e.caption,
                                        placeholder: x.default.t(208),
                                        maxLength: T.default.MAX_CAPTION_LENGTH,
                                        onEnter: l.handleSend,
                                        onChange: l.handleCaptionChange,
                                        onFiles: l.handleFiles,
                                        chat: l.props.chat,
                                        showRemaining: !0,
                                        spellCheck: !0,
                                        multiline: !0,
                                        supportsEmoji: !0
                                    }), V.default.viewOnceWrite ? f.default.createElement(y.default, {
                                        disabled: !l._canViewOnce(),
                                        isOn: l.state.isViewOnce,
                                        mediaType: e.type,
                                        onChange: l._handleViewOnceChange
                                    }) : null);
                                    break;
                                case J:
                                    t = f.default.createElement(v.default, {
                                        mimeType: e.mimetype,
                                        url: e.fullPreview
                                    });
                                    break;
                                case X:
                                    switch ((0, G.previewType)(e.mimetype)) {
                                        case "pdf":
                                            t = f.default.createElement(C.default, {
                                                fullPreview: e.fullPreview,
                                                fullPreviewSize: e.fullPreviewSize,
                                                pageCount: e.documentPageCount,
                                                mimeType: e.mimetype,
                                                filename: e.filename
                                            });
                                            break;
                                        case "msoffice":
                                            t = f.default.createElement(g.default, {
                                                fullPreview: e.fullPreview,
                                                fullPreviewSize: e.fullPreviewSize,
                                                mimeType: e.mimetype,
                                                filename: e.filename
                                            });
                                            break;
                                        default:
                                            t = f.default.createElement(E.default, {
                                                mimeType: e.mimetype,
                                                filename: e.filename
                                            })
                                    }
                            }
                            return "image/gif" === e.originalMimetype && (n = f.default.createElement("div", {
                                className: m.default.mediaWarning,
                                "data-animate-attach-media": !0
                            }, x.default.t(1025), " ", f.default.createElement(S.default, {
                                onClick: l._handleWarningCtaClick
                            }, x.default.t(936)))), f.default.createElement("div", {
                                className: m.default.mediaBody,
                                key: e.id
                            }, t, n, a)
                        }, l._handleWarningCtaClick = function(e) {
                            e.preventDefault(), k.default.openModal(f.default.createElement(M.default, {
                                onOK: function() {
                                    return k.default.closeModal()
                                }
                            }, x.default.t(785)))
                        }, l.getThumbs = function(e) {
                            return e.map((function(e) {
                                return f.default.createElement(h.default, {
                                    id: e.id,
                                    key: "media-" + e.id,
                                    active: e === l.state.activeMedia,
                                    attachMedia: e,
                                    onClick: l.handleSelectThumb,
                                    onClose: l._handleRemoveThumb,
                                    onRef: l._setAttachMediaRef
                                })
                            }))
                        }, l._setRefSendButton = function(e) {
                            l._refSendButton = e
                        }, l.state = {
                            activeMedia: null,
                            prevActiveMedia: null,
                            isDragging: !1,
                            isInitCaptionUsed: !1,
                            isViewOnce: !1,
                            showLoadingState: !1
                        }, l
                    }
                    return (0, u.default)(a, null, [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var a = e.mediaCollection.getActive(),
                                n = e.initCaption && e.initCaption.text,
                                l = t.isInitCaptionUsed;
                            return l || t.activeMedia || !n || !a || a.type !== Z && a.type !== $ || (a.caption = n, l = !0), {
                                prevActiveMedia: t.activeMedia,
                                activeMedia: a,
                                isInitCaptionUsed: l
                            }
                        }
                    }]), (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.mediaCollection,
                                n = t.listeners;
                            n.add(a, "add remove reset", (function() {
                                e.forceUpdate()
                            })), n.add(a, "active-change change:state change:previewable", this._handleMediaProcessUpdate), n.add(a, "files_not_supported", this._handleFilesNotSupported), n.add(a, "max_upload_limit", this._showIgnoredToast), a.mediaPickerStatsLogger.resumeTimer()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e, t) {
                            var a = this;
                            !t.activeMedia && this.state.activeMedia && this.refCaptionInput ? this.props.listeners.uiIdle((function() {
                                a.refCaptionInput && a.refCaptionInput.restoreFocus()
                            })) : this._refSendButton && this.refContainer && !this.refContainer.contains(document.activeElement) && R.default.focus(this._refSendButton)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._delayedClose && clearTimeout(this._delayedClose), this._mediaProcessTimer && clearTimeout(this._mediaProcessTimer), this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n = this.props.mediaCollection,
                                l = this.state,
                                r = l.activeMedia,
                                o = l.prevActiveMedia,
                                u = 0,
                                d = n.getPreviewableMedias();
                            d.length > T.default.MAX_FILES && (d = d.slice(0, T.default.MAX_FILES)), this.state.showLoadingState ? e = f.default.createElement(W.default, {
                                key: "processing",
                                color: "highlight"
                            }) : r ? e = this._getMedia(r) : 0 === d.length && n.errorMsgs && (e = f.default.createElement("div", {
                                className: m.default.invalidContainer,
                                key: "pending"
                            }, f.default.createElement("div", {
                                className: m.default.invalidMedia
                            }, n.errorMsgs))), d.length > 0 && (t = this.getThumbs(d), u = 1 === d.length ? 400 : 400 + (150 + 15 * d.length), a = this.state.showLoadingState ? null : f.default.createElement("div", {
                                className: m.default.btnSend,
                                tabIndex: "-1",
                                ref: this._setRefSendButton,
                                onKeyPress: function(e) {
                                    return e.preventDefault()
                                }
                            }, f.default.createElement(j.default, {
                                large: !0,
                                onClick: this.handleSend
                            }, f.default.createElement(z.default, {
                                name: "send",
                                directional: !0
                            }))));
                            var s = this.state.isDragging ? f.default.createElement(b.default, null) : null,
                                p = d.length < T.default.MAX_FILES ? f.default.createElement("div", {
                                    className: (0, c.default)(m.default.btnAdd, (0, i.default)({}, m.default.btnAddDisabled, this.state.isViewOnce)),
                                    key: "media-more",
                                    onClick: this.state.isViewOnce ? void 0 : this.handleAddFileClick,
                                    role: "button"
                                }, f.default.createElement(z.default, {
                                    name: "add-alt"
                                }), f.default.createElement("div", {
                                    className: m.default.btnAddText
                                }, x.default.t(214))) : null,
                                h = {
                                    enter: this.handleEnter,
                                    left: this._handleArrowLeft,
                                    right: this._handleArrowRight
                                },
                                v = "*" === G.DOC_MIMES ? "*" : [T.default.IMAGE_MIMES, T.default.VIDEO_MIMES, G.DOC_MIMES].join(),
                                g = "media-scale";
                            return r && o && r !== o && (g = n.indexOf(r) > n.indexOf(o) ? "media-slide-forward" : "media-slide-back"), f.default.createElement(A.default, {
                                handlers: h,
                                onRef: this.setRefContainer
                            }, f.default.createElement(P.default, {
                                key: "attach-image-modal",
                                theme: "media",
                                onDrop: this.handleDrop,
                                onDragChange: this.handleDragChange
                            }, f.default.createElement(L.default, {
                                title: x.default.t(1916),
                                type: L.DRAWER_HEADER_TYPE.OFFSET,
                                onCancel: this.props.onBack
                            }), f.default.createElement(w.default, {
                                tabIndex: "-1",
                                overflow: "hidden",
                                onPaste: this.handlePaste
                            }, s, f.default.createElement("div", {
                                className: m.default.body
                            }, f.default.createElement(Y.default, {
                                transitionName: g
                            }, e)), f.default.createElement("div", {
                                className: m.default.thumbs
                            }, f.default.createElement(Y.default, {
                                transitionAppear: !0,
                                transitionName: "thumb-scale",
                                className: m.default.thumbsContainer
                            }, t), p), f.default.createElement(Y.default, {
                                transitionAppear: !0,
                                transitionName: "btn",
                                delay: u
                            }, a), f.default.createElement("input", {
                                ref: this.setRefInput,
                                type: "file",
                                accept: v,
                                style: {
                                    display: "none"
                                },
                                onChange: this.handleFilePick,
                                multiple: !0
                            }))))
                        }
                    }]), a
                }(f.Component);
            ee.displayName = "AttachMediaDrawer";
            var te = (0, H.default)((0, F.default)(ee));
            t.default = te
        },
        61213: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClick,
                    a = e.onClose,
                    n = e.onRef,
                    i = e.id,
                    d = (0, p.default)(e.attachMedia, ["mimetype", "preview", "type"]),
                    s = (0, r.default)(u.default.thumb, (0, l.default)({}, u.default.active, e.active));
                return o.default.createElement("div", {
                    className: s,
                    onClick: function(e) {
                        t && t((0, c.unproxy)(d), e)
                    },
                    role: "button",
                    ref: function(e) {
                        e && n(i, e)
                    }
                }, o.default.createElement("div", {
                    className: u.default.btnDelete,
                    onClick: function(e) {
                        a && a((0, c.unproxy)(d), e)
                    },
                    role: "button"
                }, o.default.createElement(f.default, {
                    name: "x-alt"
                })), function() {
                    var e, t, a;
                    switch (d.type) {
                        case h:
                            a = {
                                backgroundImage: `url(${d.preview})`
                            }, e = o.default.createElement("div", {
                                className: u.default.body,
                                style: a
                            });
                            break;
                        case v:
                            a = {
                                backgroundImage: `url(data:image/jpeg;base64,${d.preview})`
                            }, e = o.default.createElement("div", {
                                className: u.default.body,
                                style: a
                            });
                            break;
                        case E:
                            e = o.default.createElement("div", {
                                className: (0, r.default)(u.default.body, "attach-media-audio-thumb")
                            });
                            break;
                        case g:
                            if (__LOG__(2)`media is`, d.preview) {
                                var n = {
                                    backgroundImage: "url(" + d.preview + ")"
                                };
                                e = o.default.createElement("div", {
                                    className: u.default.body,
                                    style: n
                                });
                                break
                            }
                            _[d.mimetype] && (t = _[d.mimetype].icon);
                        default:
                            t = (0, r.default)(u.default.body, u.default.bodyDoc, t, {
                                "icon-doc-generic": !t
                            }), e = o.default.createElement("div", {
                                className: t
                            })
                    }
                    return e
                }())
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(96486)),
                o = n(a(67294)),
                u = n(a(92024)),
                d = n(a(34263)),
                s = a(13242),
                c = a(89305),
                f = n(a(75131)),
                p = n(a(33819)),
                m = d.default.MSG_TYPE,
                h = m.IMAGE,
                v = m.VIDEO,
                g = m.DOCUMENT,
                E = m.AUDIO,
                _ = i.default.pickBy(s.MIMETYPES, (function(e) {
                    return e.msgType === g
                }))
        },
        82191: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.mimeType,
                    a = e.url;
                return l.default.createElement("div", {
                    className: r.default.container,
                    "data-animate-attach-media": !0
                }, l.default.createElement("div", {
                    className: r.default.media
                }, l.default.createElement("audio", {
                    controls: !0,
                    type: t,
                    src: a
                })))
            };
            var l = n(a(67294)),
                r = n(a(77046))
        },
        9140: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.fullPreview,
                    a = e.fullPreviewSize,
                    n = e.mimeType,
                    d = e.filename;
                return t && a ? l.default.createElement("div", {
                    className: r.default.container,
                    "data-animate-attach-media": !0
                }, l.default.createElement("div", {
                    className: r.default.preview
                }, l.default.createElement(u.default, {
                    type: "scaleDown",
                    size: a
                }, l.default.createElement("img", {
                    alt: o.default.t(1916),
                    src: t,
                    className: r.default.img
                })))) : l.default.createElement(i.default, {
                    mimeType: n,
                    filename: d
                })
            };
            var l = n(a(67294)),
                r = n(a(10750)),
                i = n(a(61138)),
                o = n(a(89115)),
                u = n(a(69052))
        },
        61138: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.mimeType,
                    a = e.filename,
                    n = (0, l.default)(o.default.icon, d[t] ? d[t].icon : "icon-doc-generic");
                return i.default.createElement("div", {
                    className: o.default.container,
                    "data-animate-attach-media": !0
                }, i.default.createElement("div", {
                    className: o.default.media
                }, i.default.createElement("div", {
                    className: o.default.document
                }, i.default.createElement("div", {
                    className: n
                }), i.default.createElement("div", {
                    className: o.default.text
                }, a))))
            };
            var l = n(a(94184)),
                r = n(a(96486)),
                i = n(a(67294)),
                o = n(a(71003)),
                u = a(13242),
                d = r.default.pickBy(u.MIMETYPES, (function(e) {
                    return "document" === e.msgType
                }))
        },
        12326: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.mimeType,
                    n = e.url,
                    l = e.isGif,
                    o = e.size,
                    c = e.processing,
                    v = e.preview;
                switch (h[a].msgType) {
                    case "image":
                        t = u.default.createElement("img", {
                            alt: s.default.t(1916),
                            src: n,
                            className: d.default.img
                        });
                        break;
                    case "video":
                        var g = l ? {
                                loop: !c,
                                autoPlay: !c,
                                muted: !1,
                                controls: !1
                            } : {},
                            E = c ? u.default.createElement("div", {
                                className: d.default.spinner
                            }, u.default.createElement(p.default, {
                                color: p.colorOptions.white,
                                size: 50,
                                stroke: 3
                            })) : null,
                            _ = v ? u.default.createElement("img", {
                                alt: s.default.t(1916),
                                className: d.default.staticPreview,
                                src: `data:image/jpeg;base64,${v}`
                            }) : null,
                            C = c ? null : u.default.createElement(m.default, (0, r.default)({
                                controls: !0,
                                controlsList: "nodownload nofullscreen",
                                className: d.default.video
                            }, g, {
                                src: n
                            }));
                        t = u.default.createElement("div", {
                            className: (0, i.default)(d.default.img, d.default.videoContainer)
                        }, E, C, _);
                        break;
                    case "audio":
                        t = u.default.createElement("audio", {
                            controls: !0,
                            className: d.default.audio,
                            type: a,
                            src: n
                        })
                }
                return u.default.createElement("div", {
                    className: d.default.container,
                    "data-animate-attach-media": !0
                }, u.default.createElement("div", {
                    className: d.default.media
                }, u.default.createElement(f.default, {
                    type: "scaleDown",
                    size: o
                }, t)))
            };
            var r = l(a(67154)),
                i = l(a(94184)),
                o = l(a(96486)),
                u = l(a(67294)),
                d = l(a(58523)),
                s = l(a(89115)),
                c = a(13242),
                f = l(a(69052)),
                p = n(a(87729)),
                m = l(a(56059)),
                h = o.default.pickBy(c.MIMETYPES, (function(e) {
                    return "image" === e.msgType || "video" === e.msgType
                }))
        },
        4470: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.fullPreview,
                    a = e.fullPreviewSize,
                    n = e.pageCount,
                    c = e.mimeType,
                    f = e.filename,
                    p = e.showPageCount,
                    m = void 0 === p || p,
                    h = e.showBorder,
                    v = void 0 !== h && h;
                if (t && a && null != n && n > 0) {
                    var g = d.default.t(245, {
                        count: n,
                        _plural: n
                    });
                    return i.default.createElement("div", {
                        className: u.default.container,
                        "data-js-attach-preview": !0
                    }, i.default.createElement("div", {
                        className: u.default.preview
                    }, i.default.createElement(s.default, {
                        type: "scaleDown",
                        size: a
                    }, i.default.createElement("img", {
                        alt: d.default.t(1916),
                        src: t,
                        className: (0, r.default)(u.default.img, (0, l.default)({}, u.default.imgBorder, v))
                    }))), m && i.default.createElement("div", {
                        className: u.default.caption
                    }, g))
                }
                return i.default.createElement(o.default, {
                    mimeType: c,
                    filename: f
                })
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(61138)),
                u = n(a(38728)),
                d = n(a(89115)),
                s = n(a(69052))
        },
        58979: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.disabled,
                    n = e.isOn,
                    l = e.mediaType,
                    C = e.onChange,
                    y = e.noMargin,
                    S = (0, u.useState)((0, m.shouldShowNUX)(p.default.NUX.EPHEMERAL_VIEW_ONCE)),
                    k = (0, i.default)(S, 2),
                    M = k[0],
                    T = k[1];
                return (0, u.useEffect)((function() {
                    if (n) {
                        if (!M) {
                            var e = l === v.TYPE.VIDEO ? h.default.t(1574) : h.default.t(1571),
                                t = u.default.createElement(E.default, {
                                    msg: e,
                                    id: (0, E.genId)("view-once-toast")
                                });
                            return f.default.openToast(t),
                                function() {
                                    f.default.closeToast(t)
                                }
                        }
                        var a = u.default.createElement(c.default, {
                            onOkClick: function() {
                                T(!1), f.default.closeModal()
                            }
                        });
                        f.default.openModal(a)
                    }
                }), [M, l, n]), u.default.createElement(_.default, {
                    a8nText: d.default.key("view-once-toggle"),
                    className: (0, o.default)(s.default.btnViewOnce, (t = {}, (0, r.default)(t, s.default.noMargin, y), (0, r.default)(t, s.default.disabled, a), t)),
                    disabled: a,
                    onClick: function() {
                        return C(!n)
                    },
                    "aria-pressed": n
                }, u.default.createElement(g.default, {
                    "aria-label": n ? h.default.t(37) : h.default.t(38),
                    name: n ? "view-once-media-select-on" : "view-once-media-select"
                }))
            };
            var r = l(a(59713)),
                i = l(a(63038)),
                o = l(a(94184)),
                u = n(a(67294)),
                d = l(a(97930)),
                s = l(a(53864)),
                c = l(a(78012)),
                f = l(a(34541)),
                p = l(a(34263)),
                m = a(71701),
                h = l(a(89115)),
                v = a(16551),
                g = l(a(75131)),
                E = n(a(92631)),
                _ = l(a(23225))
        },
        78012: (e, t, a) => {
            "use strict";
            var n = a(95318),
                l = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, r.useEffect)((function() {
                    return function() {
                        (0, f.setNUX)(u.default.NUX.EPHEMERAL_VIEW_ONCE, {
                            views: 1,
                            maxViews: 1
                        })
                    }
                }), []), r.default.createElement(o.default, {
                    onOK: e.onOkClick,
                    cancelText: p.default.t(936),
                    onCancel: function() {
                        (0, d.openExternalLink)((0, s.getViewOnceFaqUrl)())
                    }
                }, r.default.createElement(c.FlexColumn, null, r.default.createElement(c.FlexItem, {
                    className: i.default.graphic,
                    align: "center"
                }, r.default.createElement(m.default, {
                    name: "view-once-sender-nux"
                })), r.default.createElement(h.TextHeader, {
                    className: i.default.text,
                    theme: "popup-title"
                }, p.default.t(1569)), r.default.createElement(h.TextParagraph, {
                    className: i.default.text,
                    color: "secondary"
                }, p.default.t(1568))))
            };
            var r = l(a(67294)),
                i = n(a(60994)),
                o = n(a(25960)),
                u = n(a(34263)),
                d = a(19129),
                s = a(92618),
                c = a(32002),
                f = a(71701),
                p = n(a(89115)),
                m = n(a(75131)),
                h = a(28770)
        },
        61386: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, i.useState)(o.getAutoDownloadPhotos),
                    t = (0, r.default)(e, 2),
                    a = t[0],
                    n = t[1],
                    l = (0, i.useState)(o.getAutoDownloadAudio),
                    c = (0, r.default)(l, 2),
                    f = c[0],
                    p = c[1],
                    m = (0, i.useState)(o.getAutoDownloadVideos),
                    h = (0, r.default)(m, 2),
                    v = h[0],
                    g = h[1],
                    E = (0, i.useState)(o.getAutoDownloadDocuments),
                    _ = (0, r.default)(E, 2),
                    C = _[0],
                    y = _[1];
                return i.default.createElement(d.default, null, i.default.createElement(d.SettingsCheckListItem, {
                    a8nText: "option-photos",
                    id: "photos",
                    checked: a,
                    onChange: function() {
                        return n((function(e) {
                            var t = !e;
                            return (0, o.setAutoDownloadPhotos)(t), t
                        }))
                    }
                }, u.default.t(1233)), i.default.createElement(d.SettingsCheckListItem, {
                    a8nText: "option-audio",
                    id: "audio",
                    checked: f,
                    onChange: function() {
                        return p((function(e) {
                            var t = !e;
                            return (0, o.setAutoDownloadAudio)(t), t
                        }))
                    }
                }, u.default.t(1225)), i.default.createElement(d.SettingsCheckListItem, {
                    a8nText: "option-videos",
                    id: "videos",
                    checked: v,
                    onChange: function() {
                        return g((function(e) {
                            var t = !e;
                            return (0, o.setAutoDownloadVideos)(t), t
                        }))
                    }
                }, u.default.t(1235)), i.default.createElement(d.SettingsCheckListItem, {
                    a8nText: "option-documents",
                    id: "documents",
                    checked: C,
                    onChange: function() {
                        return y((function(e) {
                            var t = !e;
                            return (0, o.setAutoDownloadDocuments)(t), t
                        }))
                    }
                }, u.default.t(1228)), i.default.createElement(d.SettingsCheckListSection, null, i.default.createElement(s.TextDiv, {
                    theme: "muted"
                }, u.default.t(1001))))
            };
            var r = l(a(63038)),
                i = n(a(67294)),
                o = a(71701),
                u = l(a(89115)),
                d = n(a(6089)),
                s = a(28770)
        },
        45911: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(81506)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(96486)),
                c = n(a(67294)),
                f = l(a(97930)),
                p = a(99703),
                m = l(a(88191)),
                h = l(a(76088)),
                v = l(a(34541)),
                g = l(a(25960)),
                E = l(a(63637)),
                _ = l(a(48629)),
                C = l(a(84576)),
                y = l(a(81997)),
                S = l(a(25259)),
                k = l(a(10869)),
                M = n(a(62647)),
                T = a(67485),
                I = l(a(60482)),
                b = l(a(55959)),
                P = l(a(50842)),
                w = l(a(89115)),
                L = l(a(68390)),
                O = l(a(75131)),
                D = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).flatListController = new P.default, e._handleBlockConfirm = function(e) {
                            (0, p.blockContact)(e).catch((function() {})), v.default.closeModal()
                        }, e.handleBlock = function() {
                            v.default.openModal(c.default.createElement(C.default, {
                                title: w.default.t(211),
                                filter: function(e) {
                                    return !!_.default.isFilteredContact(e) && (!h.default.get(e.id) || w.default.t(1250))
                                },
                                onCancel: function() {
                                    return v.default.closeModal()
                                },
                                onSelect: s.default.once(e._handleBlockConfirm)
                            }))
                        }, e._handleUnblockConfirm = function(e) {
                            (0, p.unblockContact)(e).catch((function() {})), v.default.closeModal()
                        }, e._handleUnblockCancel = function() {
                            v.default.closeModal()
                        }, e._handleUnblock = function(t, a) {
                            v.default.openModal(c.default.createElement(g.default, {
                                okText: w.default.t(1500),
                                onOK: e._handleUnblockConfirm.bind((0, o.default)(e), a),
                                cancelText: w.default.t(1694),
                                onCancel: e._handleUnblockCancel
                            }, w.default.t(1501, {
                                contact: a.formattedName
                            })))
                        }, e.renderItem = function(t) {
                            var a = t.blocklist.contact();
                            return c.default.createElement(E.default, {
                                contact: a,
                                key: a.id.toString(),
                                onClick: e._handleUnblock,
                                onDelete: e._handleUnblock,
                                waitIdle: !0
                            })
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(h.default, "add remove", (function() {
                                e.forceUpdate()
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            return h.default.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    blocklist: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            return h.default.length > 0 ? (e = c.default.createElement(b.default, {
                                flatListControllers: [this.flatListController],
                                className: m.default.list
                            }, c.default.createElement(I.default, {
                                flatListController: this.flatListController,
                                direction: "vertical",
                                data: this.getData(),
                                renderItem: this.renderItem
                            })), t = c.default.createElement("div", {
                                "data-a8n": f.default.key("blocked-description"),
                                className: m.default.hint
                            }, w.default.t(210))) : e = c.default.createElement(T.Blocked, null), c.default.createElement(y.default, null, c.default.createElement(M.default, {
                                title: w.default.t(290),
                                onBack: this.props.onClose,
                                type: M.DRAWER_HEADER_TYPE.LARGE
                            }), c.default.createElement("div", {
                                className: m.default.button
                            }, c.default.createElement(k.default, {
                                a8nText: "li-add-blocked",
                                onClick: this.handleBlock,
                                icon: c.default.createElement(O.default, {
                                    name: "add-user",
                                    directional: !0
                                })
                            }, w.default.t(211))), c.default.createElement(S.default, null, e, t))
                        }
                    }]), a
                }(c.Component);
            D.displayName = "BlockedDrawer";
            var N = (0, L.default)(D);
            t.default = N
        },
        86855: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = a(12035),
                f = l(a(91080)),
                p = n(a(67294)),
                m = l(a(34215)),
                h = l(a(58979)),
                v = l(a(26616)),
                g = l(a(34541)),
                E = l(a(34263)),
                _ = l(a(81997)),
                C = l(a(25259)),
                y = n(a(62647)),
                S = n(a(98569)),
                k = a(19059),
                M = n(a(55119)),
                T = n(a(93783)),
                I = l(a(89115)),
                b = l(a(81931)),
                P = l(a(63309)),
                w = n(a(39582)),
                L = l(a(94134)),
                O = l(a(8643)),
                D = l(a(69052)),
                N = l(a(74984)),
                R = l(a(42027)),
                A = l(a(40746)),
                x = l(a(63056)),
                F = l(a(87729)),
                U = l(a(75131)),
                B = l(a(69267)),
                G = l(a(38512)),
                H = l(a(56059)),
                j = "CAPTURE_MEDIA",
                V = "ANIMATING",
                W = "LOADING",
                z = "RECORDING",
                K = "SENDING",
                Y = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            caption: void 0,
                            img: void 0,
                            isViewOnce: !1,
                            state: V,
                            stream: void 0,
                            videoSize: void 0
                        }, e._refVideo = (0, p.createRef)(), e._startTimer = new c.ShiftTimer((function(t) {
                            var a = t.stream,
                                n = t.disposeStream;
                            e.loadNewStream(a, n)
                        })), e.loadNewStreamTimerUpdate = function(t, a) {
                            e._startTimer.forceRunNow({
                                stream: t,
                                disposeStream: a
                            })
                        }, e.loadNewStream = function(t, a) {
                            var n, l;
                            t ? (null === (n = (l = e)._disposeStream) || void 0 === n || n.call(l), e._disposeStream = a, e.setState({
                                state: W,
                                stream: t
                            }), (0, w.isSrcObjectInVideoElement)() || (t ? (window.URL.revokeObjectURL(e.url), e.url = window.URL.createObjectURL(t)) : (window.URL.revokeObjectURL(e.url), e.url = void 0))) : e.state.state === V && e.setState({
                                state: W
                            })
                        }, e._stopStreamTimer = new c.ShiftTimer((function(t) {
                            var a = t.stream,
                                n = t.disposeStream;
                            a && n && n(), (0, w.isSrcObjectInVideoElement)() || (e.url = window.URL.revokeObjectURL(e.url))
                        })), e.onCapture = function() {
                            var t, a = null === (t = e._refVideo.current) || void 0 === t ? void 0 : t.underlyingVideo();
                            if (a) {
                                var n = e.props.chat,
                                    l = document.createElement("canvas");
                                l.height = a.videoHeight, l.width = a.videoWidth;
                                var r = l.getContext("2d");
                                if (r) {
                                    r.translate(l.width, 0), r.scale(-1, 1), r.drawImage(a, 0, 0, a.videoWidth, a.videoHeight);
                                    var i = e.props.onCaptured;
                                    if (i) T.canvasToBlob(l).then((function(e) {
                                        i(e)
                                    }));
                                    else {
                                        e._stopStreamTimer.onOrBefore(500, {
                                            stream: e.state.stream,
                                            disposeStream: e._disposeStream
                                        }), e._mediaLogger = new b.default, e._mediaLogger.logAdd(j, "image", O.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE), e._mediaLogger.chatRecipients = n && n.groupMetadata ? n.groupMetadata.participants.length : 1;
                                        var o = l.toDataURL("image/jpeg"),
                                            u = window.dataURLtoBlob(o);
                                        if (n) n.attachMediaContents || n.setAttachMediaContents(new m.default({
                                            chatParticipantCount: n.getParticipantCount()
                                        })), (0, f.default)(n.attachMediaContents, "chat.attachMediaContents").processAttachments([{
                                            file: (0, k.createFile)([u], "", {
                                                type: "image/jpeg"
                                            })
                                        }]);
                                        e.setState({
                                            state: K,
                                            stream: void 0,
                                            img: o
                                        })
                                    }
                                } else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`
                            }
                        }, e.onVideoLoaded = function(t) {
                            e.setState({
                                state: z,
                                videoSize: {
                                    width: t.videoWidth,
                                    height: t.videoHeight
                                }
                            })
                        }, e.onRetake = function() {
                            e.setState({
                                state: W,
                                caption: void 0
                            }), e._clearAttachMedia();
                            var t = w.start("camera"),
                                a = t.asyncStream,
                                n = t.disposeStream;
                            e._disposeStream = n, a.then((function(t) {
                                t && ((0, w.isSrcObjectInVideoElement)() || (e.url = window.URL.createObjectURL(t)), e.setState({
                                    stream: t
                                }))
                            })).catchType(S.GUM.NotAllowedError, (function() {
                                e.props.onBack(), g.default.openModal(p.default.createElement(M.default, {
                                    messaging: M.Messaging.CAMERA_FAIL,
                                    type: M.default.TYPE.GUIDE_UNBLOCK
                                }))
                            })).catchType(S.GUM.GUMError, (function() {
                                e.props.onBack(), g.default.openModal(p.default.createElement(M.default, {
                                    messaging: M.Messaging.CAMERA_MISSING,
                                    type: M.default.TYPE.GUIDE_NONE
                                }))
                            }))
                        }, e.onSend = function() {
                            var t = e.state,
                                a = t.img,
                                n = t.caption,
                                l = e.props.onSend;
                            if (l)
                                if (a) {
                                    var r = e.refCaptionInput && e.refCaptionInput.refInput,
                                        i = [];
                                    if (n && r) {
                                        var o = r.serialize(n),
                                            u = [o[0].trim(), o[1]],
                                            d = u[0],
                                            s = u[1];
                                        d.length && (n = d, i = s.mentionedJidList || [])
                                    }
                                    l({
                                        caption: n,
                                        getImg: N.default.createFromBase64Jpeg(B.default.parseDataURL(a).data),
                                        isViewOnce: e.state.isViewOnce,
                                        mentionedJidList: i
                                    }), e._mediaLogger.logSend()
                                } else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                            else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                        }, e.onCaptionChange = function(t) {
                            e.setState({
                                caption: t
                            })
                        }, e._canViewOnce = function() {
                            var t = e.props.chat,
                                a = null == t ? void 0 : t.contact.isEnterprise;
                            return x.default.viewOnceWrite && !a
                        }, e._onViewOnceChange = function(t) {
                            e.setState({
                                isViewOnce: t
                            })
                        }, e.setRefCaptionInput = function(t) {
                            e.refCaptionInput = t
                        }, e._handleSendMedia = function(t, a, n) {
                            var l = e.props.onSend;
                            if (l)
                                if (0 === t.length) __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                                else {
                                    var r, i = (0, f.default)(t[0], "medias[0]"),
                                        o = i.media,
                                        u = i.mentionedJidList,
                                        d = o.file;
                                    if (d instanceof Blob) l({
                                        getImg: N.default.createFromData(d, d.type),
                                        caption: null !== (r = o.caption) && void 0 !== r ? r : void 0,
                                        isViewOnce: n,
                                        mentionedJidList: u
                                    }), e._mediaLogger.logSend();
                                    e._clearAttachMedia()
                                }
                            else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                        }, e._clearAttachMedia = function() {
                            e.props.chat && e.props.chat.setAttachMediaContents(null)
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._startTimer.onOrBefore(300, {
                                stream: this.props.stream,
                                disposeStream: this.props.disposeStream
                            })
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            this._startTimer.cancel(), this.url && window.URL.revokeObjectURL(this.url), null === (e = this._disposeStream) || void 0 === e || e.call(this), this._mediaLogger && this._mediaLogger.logCancel(), this._clearAttachMedia()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n, l, i = "capture-cover" === this.props.theme ? "cover" : "contain";
                            switch (this.state.state) {
                                case V:
                                case W:
                                    if (l = p.default.createElement(F.default, {
                                            stroke: 4,
                                            size: 50
                                        }), this.state.state === V) break;
                                case z:
                                    var o = (0, s.default)(v.default.video, (0, r.default)({}, v.default.videoInactive, this.state.stream && this.state.state === W)),
                                        u = this.state.stream ? p.default.createElement(H.default, {
                                            autoPlay: !0,
                                            ref: this._refVideo,
                                            onPlay: this.onVideoLoaded,
                                            src: this.url ? this.url : void 0,
                                            srcObject: this.url ? void 0 : this.state.stream
                                        }) : null;
                                    a = this.state.stream ? p.default.createElement("div", {
                                        key: "webcam"
                                    }, p.default.createElement(D.default, {
                                        type: i,
                                        size: this.state.videoSize
                                    }, p.default.createElement("div", {
                                        className: o,
                                        "data-animage-capture-webcam": !0
                                    }, u))) : null, e = this.state.state === z ? p.default.createElement("div", {
                                        className: v.default.btn,
                                        key: "btn-capture"
                                    }, p.default.createElement(A.default, {
                                        large: !0,
                                        onClick: this.onCapture
                                    }, p.default.createElement(U.default, {
                                        name: "camera"
                                    }))) : null;
                                    break;
                                case K:
                                    a = p.default.createElement(D.default, {
                                        type: i,
                                        size: this.state.videoSize
                                    }, p.default.createElement("img", {
                                        alt: "",
                                        className: v.default.image,
                                        "data-animate-capture-snapshot": !0,
                                        src: this.state.img
                                    }));
                                    var d = this.props.chat;
                                    if (d) {
                                        var c = (0, f.default)(d.attachMediaContents, "chat.attachMediaContents");
                                        a = p.default.createElement(L.default, {
                                            theme: "capture",
                                            chat: d,
                                            initCaption: null,
                                            mediaCollection: c,
                                            onDropText: function() {},
                                            onSendMedia: this._handleSendMedia
                                        })
                                    }
                                    e = p.default.createElement("div", {
                                        className: (0, s.default)(v.default.btn, v.default.btnSend),
                                        key: "btn-send"
                                    }, p.default.createElement(A.default, {
                                        large: !0,
                                        onClick: this.onSend
                                    }, p.default.createElement(U.default, {
                                        name: "send",
                                        directional: !0
                                    }))), t = p.default.createElement("div", {
                                        className: v.default.retakeBtn,
                                        onClick: this.onRetake
                                    }, p.default.createElement("div", {
                                        className: v.default.retakeIcon
                                    }, p.default.createElement(U.default, {
                                        name: "return"
                                    })), I.default.t(1346)), n = this.props.chat ? p.default.createElement("div", {
                                        className: v.default.captionInput
                                    }, p.default.createElement(P.default, {
                                        ref: this.setRefCaptionInput,
                                        chat: this.props.chat,
                                        maxLength: E.default.MAX_CAPTION_LENGTH,
                                        multiline: !0,
                                        onEnter: this.onSend,
                                        onChange: this.onCaptionChange,
                                        placeholder: I.default.t(208),
                                        showRemaining: !0,
                                        spellCheck: !0,
                                        supportsEmoji: !0,
                                        value: this.state.caption
                                    }), x.default.viewOnceWrite ? p.default.createElement(h.default, {
                                        disabled: !this._canViewOnce(),
                                        isOn: this.state.isViewOnce,
                                        mediaType: "image",
                                        onChange: this._onViewOnceChange
                                    }) : null) : null;
                                    break;
                                default:
                                    __LOG__(2)`captureDrawer:render Unhandled video capture state ${this.state.state}`
                            }
                            var m = this.props.caption ? p.default.createElement(G.default, {
                                    transitionName: "media-caption",
                                    className: v.default.caption
                                }, n) : null,
                                g = p.default.createElement("div", {
                                    className: v.default.footer
                                }, m, p.default.createElement(G.default, {
                                    transitionName: "pop_delay"
                                }, e));
                            return this.state.state === K && (g = null), p.default.createElement(_.default, {
                                key: "attach-capture-modal",
                                theme: this.props.theme
                            }, p.default.createElement(y.default, {
                                title: I.default.t(1480),
                                type: y.DRAWER_HEADER_TYPE.OFFSET,
                                onCancel: this.props.onBack
                            }, t), p.default.createElement(C.default, {
                                overflow: "hidden"
                            }, p.default.createElement("div", {
                                className: v.default.container
                            }, l, p.default.createElement("div", {
                                className: v.default.body
                            }, p.default.createElement(G.default, {
                                transitionName: "capture",
                                className: v.default.videoContainer
                            }, a))), g))
                        }
                    }]), a
                }(p.PureComponent);
            Y.defaultProps = {
                caption: !1
            }, Y.displayName = "CaptureDrawer";
            var q = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, i.default)(this, a);
                    for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                    return (e = t.call.apply(t, [this].concat(l))).loadNewStream = function(t, a) {
                        e.getComponent().loadNewStreamTimerUpdate(t, a)
                    }, e
                }
                return a
            }((0, R.default)(Y));
            t.default = q
        },
        12328: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return r.default.createElement("div", {
                    className: (0, l.default)(o.default.container)
                }, r.default.createElement(u.FlexRow, {
                    align: "start",
                    justify: "start",
                    wrap: "wrap"
                }, e.categories.map((function(t) {
                    return r.default.createElement(i.default, {
                        "aria-label": d.default.t(35),
                        key: t.id.toString(),
                        className: o.default.chip,
                        onClick: function() {
                            return e.onRemoveItem(t.id)
                        },
                        label: t.localized_display_name,
                        postfixIcon: "round-x-inv"
                    })
                }))))
            };
            var l = n(a(94184)),
                r = n(a(67294)),
                i = n(a(66607)),
                o = n(a(75935)),
                u = a(32002),
                d = n(a(89115))
        },
        61211: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(63038)),
                i = n(a(67294)),
                o = l(a(46876)),
                u = l(a(10598)),
                d = l(a(48629)),
                s = l(a(33621)),
                c = l(a(68815)),
                f = l(a(81997)),
                p = l(a(25259)),
                m = n(a(62647)),
                h = a(67485),
                v = l(a(50842)),
                g = l(a(80413)),
                E = l(a(31722)),
                _ = l(a(76568)),
                C = l(a(89115)),
                y = l(a(17381)),
                S = l(a(57818)),
                k = l(a(2740)),
                M = l(a(75131)),
                T = l(a(20927)),
                I = (0, i.forwardRef)((function(e, t) {
                    var a = e.title,
                        n = e.onBack,
                        l = e.onClick,
                        I = e.onNewGroup,
                        b = (0, i.useState)(""),
                        P = (0, r.default)(b, 2),
                        w = P[0],
                        L = P[1],
                        O = (0, i.useRef)(),
                        D = (0, i.useRef)(),
                        N = (0, i.useRef)(),
                        R = (0, i.useMemo)((function() {
                            return d.default.frequentContacts("message")
                        }), [d.default.length]),
                        A = Boolean(w),
                        x = (0, i.useMemo)((function() {
                            return A ? [] : R
                        }), [A, R]),
                        F = (0, i.useState)((function() {
                            return new v.default
                        })),
                        U = (0, r.default)(F, 1)[0],
                        B = (0, i.useCallback)((function(e) {
                            d.default.ensureSorted();
                            var t = "string" == typeof e ? e : w;
                            if (!t) return d.default.getFilteredContacts();
                            var a = d.default.getFilteredContacts().concat(d.default.filter((function(e) {
                                    return e.name && !e.isMe && !e.isPSA && !e.isWAContact
                                }))),
                                n = C.default.accentFold(t),
                                l = (0, S.default)(n);
                            return a.filter((function(e) {
                                return e.searchMatch(n, l)
                            }))
                        }), [w]);
                    (0, i.useEffect)((function() {
                        E.default.focus(O.current)
                    }), []);
                    var G, H, j = (0, i.useCallback)((function() {
                            g.default.shouldIndicateFocus(), E.default.focus(O.current)
                        }), []),
                        V = (0, i.useCallback)((function(e) {
                            var t = D.current;
                            null != t && (e.preventDefault(), e.stopPropagation(), g.default.shouldIndicateFocus(), t.focusFirst())
                        }), []),
                        W = (0, T.default)((function(e) {
                            return L(e)
                        }), 100),
                        z = (0, i.useCallback)((function(e) {
                            N.current = e, W(e)
                        }), [W]),
                        K = (0, i.useCallback)((function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = x[0];
                            if (t) return g.default.shouldIndicateFocus(), void l(e, t);
                            var a = B(N.current)[0];
                            a && (g.default.shouldIndicateFocus(), l(e, a))
                        }), [l, B, x]),
                        Y = B();
                    if (G = 0 === Y.length ? w ? (0, h.SearchWithKeyword)(w) : (0, h.SearchWithoutKeyword)() : i.default.createElement(c.default, {
                            ref: D,
                            contacts: Y,
                            flatListController: U,
                            frequentContacts: x,
                            onClick: l,
                            onFocusSearch: j,
                            showPersonGroupDivisionHeader: !!w
                        }), !w) {
                        var q = i.default.createElement(k.default, null, i.default.createElement(M.default, {
                            name: "new-group",
                            directional: !0
                        }));
                        H = i.default.createElement("div", {
                            "data-list-scroll-offset": !0
                        }, i.default.createElement("div", {
                            className: s.default.newGroupButton
                        }, i.default.createElement(u.default, {
                            image: q,
                            primary: C.default.t(1843),
                            onClick: I
                        }), i.default.createElement(o.default, null)))
                    }
                    return i.default.createElement(f.default, {
                        ref: t,
                        key: "contact-modal"
                    }, i.default.createElement(m.default, {
                        title: a,
                        type: m.DRAWER_HEADER_TYPE.LARGE,
                        onBack: n
                    }), i.default.createElement(_.default, {
                        handlers: {
                            down: V
                        }
                    }, i.default.createElement(y.default, {
                        ref: O,
                        onSearch: z,
                        onEnter: K,
                        placeholder: C.default.t(1360)
                    })), i.default.createElement(p.default, {
                        flatListControllers: [U]
                    }, H, G))
                }));
            t.default = I
        },
        36152: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(65179)),
                c = l(a(34541)),
                f = l(a(34263)),
                p = l(a(56140)),
                m = l(a(40261)),
                h = l(a(81997)),
                v = l(a(25259)),
                g = n(a(62647)),
                E = l(a(51376)),
                _ = n(a(98569)),
                C = a(31230),
                y = l(a(17957)),
                S = l(a(37286)),
                k = l(a(89115)),
                M = l(a(68390)),
                T = a(12332),
                I = l(a(66312)),
                b = l(a(44982)),
                P = l(a(96213)),
                w = l(a(36394)),
                L = l(a(42027)),
                O = l(a(63056)),
                D = l(a(87729)),
                N = l(a(44589)),
                R = l(a(75131)),
                A = n(a(92631)),
                x = l(a(60438)),
                F = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).setRefScrollable = function(t) {
                            e.refScrollable = t
                        }, e.state = {
                            msgInfo: void 0,
                            unimplemented: !1
                        }, e._refWrapper = (0, d.createRef)(), e.isMsgVisible = function(t) {
                            var a = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return t === e.props.msg.id && (!!a || e.getMsgComponent())
                        }, e.handleClose = function() {
                            e.props.uim.uie.requestDismiss()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this;
                            b.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e) {
                                t.setState({
                                    msgInfo: e
                                }), t.props.listeners.add(e.played, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.read, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.delivery, "add remove", (function() {
                                    t.forceUpdate()
                                }))
                            })).catchType(_.Unmount, (function() {})).catch((function() {
                                t.setState({
                                    unimplemented: !0
                                }), c.default.openToast(d.default.createElement(A.default, {
                                    msg: k.default.t(1096),
                                    id: (0, A.genId)("msg_info_failed")
                                }))
                            }));
                            var a = null === (e = this.refScrollable) || void 0 === e ? void 0 : e.container;
                            this.props.msg.type === f.default.MSG_TYPE.IMAGE && a && (a.scrollTop = a.scrollHeight), this.props.listeners.add(this.props.msg, "remove", (function(e, a) {
                                a === I.default && t.props.uim.uie.requestDismiss()
                            }))
                        }
                    }, {
                        key: "getMsgComponent",
                        value: function() {
                            var e;
                            return null === (e = this._refWrapper.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n = this.props.msg,
                                l = this.state,
                                r = l.msgInfo,
                                i = l.unimplemented;
                            if (r) {
                                var o, u, c, _, y = [],
                                    M = n.type === f.default.MSG_TYPE.PTT;
                                (M || n.isViewOnce) && (t = M ? k.default.t(1062) : k.default.t(1064), c = (u = r.played.head()) && u.t, _ = d.default.createElement("span", {
                                    className: m.default.icon
                                }, d.default.createElement(R.default, {
                                    name: M ? "status-ptt" : "view-once-viewed",
                                    className: m.default.statusBlue
                                })), y.push(d.default.createElement(p.default, {
                                    title: M ? k.default.t(1057) : k.default.t(1066),
                                    t: c,
                                    icon: _,
                                    key: "played"
                                }))), c = (u = r.read.head()) && u.t, _ = d.default.createElement("span", {
                                    className: m.default.icon
                                }, d.default.createElement(R.default, {
                                    name: "status-dblcheck",
                                    className: m.default.ack
                                })), t = null !== (o = t) && void 0 !== o ? o : k.default.t(1059), y.push(d.default.createElement(p.default, {
                                    title: t,
                                    t: c,
                                    icon: _,
                                    key: "read"
                                })), c = (u = r.delivery.head()) && u.t, _ = d.default.createElement("span", {
                                    className: m.default.icon
                                }, d.default.createElement(R.default, {
                                    name: "status-dblcheck"
                                })), y.push(d.default.createElement(p.default, {
                                    title: k.default.t(1055),
                                    t: c,
                                    icon: _,
                                    key: "delivery"
                                })), !O.default.hfmStringChanges && O.default.frequentlyForwardedMessages && n.numTimesForwarded > 0 && !n.isFrequentlyForwarded && y.push(d.default.createElement(P.default, {
                                    key: "forward",
                                    msg: n
                                })), e = d.default.createElement(E.default, {
                                    theme: "padding"
                                }, y)
                            }
                            r || i || (a = d.default.createElement("div", {
                                className: m.default.spinner,
                                key: "spinner"
                            }, d.default.createElement(D.default, {
                                size: 50,
                                stroke: 4
                            })));
                            var I = null;
                            return n.labels && n.labels.length && (0, C.canDisplayLabel)() && (I = d.default.createElement(E.default, {
                                theme: "padding"
                            }, d.default.createElement(S.default, {
                                labels: n.labels
                            }))), d.default.createElement(h.default, {
                                key: "message-info-modal",
                                theme: "striped"
                            }, d.default.createElement(g.default, {
                                title: k.default.t(1054),
                                type: g.DRAWER_HEADER_TYPE.SMALL,
                                onCancel: this.handleClose
                            }), d.default.createElement(w.default, {
                                ref: this.setRefScrollable,
                                chatPreference: s.default.assertGet("defaultPreference")
                            }, d.default.createElement(x.default, {
                                msg: n,
                                ref: this._refWrapper,
                                displayType: f.default.DISP_TYPE.MSG_INFO,
                                isMsgVisible: this.isMsgVisible,
                                position: T.MsgPosition.END,
                                onProductClick: this.props.onProductClick
                            })), d.default.createElement(v.default, null, I, d.default.createElement("div", {
                                className: m.default.body
                            }, a, e)))
                        }
                    }]), a
                }(d.Component);
            F.CONCERNS = {
                msg: ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded"]
            }, F.displayName = "ContactMsgInfoDrawer";
            var U = (0, y.default)((0, L.default)((0, M.default)((0, N.default)(F, F.CONCERNS))));
            t.default = U
        },
        41484: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(81109)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = n(a(67294)),
                c = l(a(34541)),
                f = l(a(25960)),
                p = l(a(34263)),
                m = l(a(22021)),
                h = l(a(89115)),
                v = a(28770),
                g = a(17830),
                E = l(a(76)),
                _ = l(a(26015)),
                C = l(a(19129)),
                y = a(32002),
                S = l(a(79077)),
                k = n(a(92631)),
                M = a(92618),
                T = l(a(76568)),
                I = l(a(61169)),
                b = l(a(73358)),
                P = a(71701),
                w = p.default.CONTACT_US_MAX_DESC_LENGTH,
                L = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), o = 0; o < n; o++) l[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            description: "",
                            includeDeviceInfo: !0,
                            isSending: !1
                        }, e._setDescriptionRef = function(t) {
                            e._descriptionInput = t
                        }, e.handleSend = function() {
                            var t = e.state,
                                a = t.description,
                                n = t.includeDeviceInfo;
                            if (e.validateDescription(a)) {
                                var l = (0, r.default)((0, r.default)({}, b.default.parser.getResult()), {}, {
                                        "Device ID": (0, P.assertGetMe)()
                                    }),
                                    i = n ? JSON.stringify(l) : void 0;
                                e.setState({
                                    isSending: !0
                                }), e.props.onSend && e.props.onSend({
                                    description: a
                                }), __LOG__(2)`InAppSupport: Sending support request with deviceInfo=${n}:${null!=i?i:"n/a"}`, e._sendRequest = (0, g.sendSupportRequest)(a, i).then((function(t) {
                                    null != t.message ? (c.default.closeModal(), c.default.openToast(s.default.createElement(k.default, {
                                        msg: h.default.t(1467),
                                        id: (0, k.genId)()
                                    }))) : e.props.onFailure && e.props.onFailure({
                                        description: a
                                    })
                                })).finally((function() {
                                    e._sendRequest = void 0, e.setState({
                                        isSending: !1
                                    })
                                }))
                            } else e.setState({
                                descriptionError: h.default.t(1413)
                            })
                        }, e.handleCancel = function() {
                            e.props.onCancel && e.props.onCancel(), c.default.closeModal()
                        }, e.handleEmail = function() {
                            var t = e.props.onEmail;
                            t && (c.default.closeModal(), t({
                                description: e.state.description
                            }))
                        }, e.handleDescriptionChange = function(t) {
                            e.setState({
                                description: t,
                                descriptionError: e.validateDescription(t) ? void 0 : e.state.descriptionError
                            })
                        }, e._handleIncludeDeviceInfoChange = function() {
                            e.setState({
                                includeDeviceInfo: !e.state.includeDeviceInfo
                            })
                        }, e.validateDescription = function(e) {
                            return e.length >= p.default.CONTACT_US_MIN_DESC_LENGTH
                        }, e.stopPropagation = function(e) {
                            e.stopPropagation()
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            var e, t;
                            !0 === (null === (e = this._sendRequest) || void 0 === e ? void 0 : e.isPending()) && (null === (t = this._sendRequest) || void 0 === t || t.cancel())
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e;
                            null === (e = this._descriptionInput) || void 0 === e || e.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.isSending,
                                t = {
                                    enter: this.stopPropagation
                                };
                            if (e && (t.esc = this.stopPropagation), m.default.supportsFeature(m.default.F.MD_BACKEND)) {
                                var a = "contact-us-include-device";
                                return s.default.createElement(f.default, {
                                    title: h.default.t(1468),
                                    okDisabled: !this.validateDescription(this.state.description) || e,
                                    okSpinner: e,
                                    okText: h.default.t(1397),
                                    onOK: this.handleSend,
                                    onCancel: e ? void 0 : this.handleCancel
                                }, s.default.createElement(T.default, {
                                    handlers: t
                                }, s.default.createElement(y.FlexColumn, {
                                    align: "stretch"
                                }, s.default.createElement(S.default, {
                                    error: this.state.descriptionError,
                                    maxLength: w,
                                    onChange: this.handleDescriptionChange,
                                    placeholder: h.default.t(1466),
                                    ref: this._setDescriptionRef,
                                    value: this.state.description
                                }), s.default.createElement(y.FlexItem, {
                                    className: I.default.deviceInfo,
                                    grow: 1
                                }, s.default.createElement(v.TextParagraph, {
                                    theme: "muted-small"
                                }, h.default.t(1464))), s.default.createElement(y.FlexRow, null, s.default.createElement(y.FlexItem, {
                                    className: I.default.deviceInfoLabel,
                                    grow: 1
                                }, s.default.createElement("label", {
                                    htmlFor: a
                                }, s.default.createElement(v.TextParagraph, {
                                    theme: "plain"
                                }, h.default.t(1465), " ", s.default.createElement(C.default, {
                                    href: (0, M.getSupportChatFaqUrl)()
                                }, h.default.t(936))))), s.default.createElement(y.FlexItem, {
                                    className: I.default.deviceInfoCheckbox,
                                    grow: 0
                                }, s.default.createElement(_.default, {
                                    checked: this.state.includeDeviceInfo,
                                    id: a,
                                    onChange: this._handleIncludeDeviceInfoChange
                                }))), s.default.createElement(y.FlexRow, null, s.default.createElement(y.FlexItem, {
                                    className: I.default.emailLink,
                                    grow: 1
                                }, s.default.createElement(E.default, {
                                    onClick: this.handleEmail
                                }, h.default.t(784)))))))
                            }
                            return s.default.createElement(f.default, {
                                okText: h.default.t(1865),
                                onOK: function() {
                                    return c.default.closeModal()
                                },
                                title: h.default.t(1468)
                            }, s.default.createElement(v.TextParagraph, {
                                theme: "plain"
                            }, h.default.t(1469)))
                        }
                    }]), a
                }(s.Component);
            t.default = L, L.displayName = "ContactUsModal"
        },
        71163: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = l(a(67294)),
                c = r(a(97930)),
                f = r(a(26015)),
                p = r(a(25958)),
                m = l(a(98569)),
                h = r(a(5693)),
                v = r(a(89115)),
                g = r(a(42027)),
                E = h.default.require("AutoLauncher"),
                _ = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        return (0, i.default)(this, a), (e = t.apply(this, arguments))._handleAutoLaunch = function() {
                            var t = !e.state.autoLaunch,
                                a = t ? E.enable() : E.disable();
                            n.resolve(a).checkpoint(e.props.rejectOnUnmount()).then((function() {
                                e.setState({
                                    autoLaunch: t
                                })
                            })).catchType(m.Unmount, (function() {}))
                        }, e.state = {
                            autoLaunch: !1
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            n.resolve(E.isEnabled()).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.setState({
                                    autoLaunch: t
                                })
                            })).catchType(m.Unmount, (function() {})).catch((function(e) {
                                __LOG__(3)`Unknown error while getting initial auto launch settings, ${String(e)}`
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return s.default.createElement("div", {
                                className: p.default.container
                            }, s.default.createElement("div", {
                                className: p.default.section,
                                onClick: this._handleAutoLaunch
                            }, s.default.createElement("div", {
                                "data-a8n": c.default.key("menu-icon-auto-launch"),
                                className: p.default.control
                            }, s.default.createElement(f.default, {
                                onChange: this._handleAutoLaunch,
                                checked: this.state.autoLaunch
                            })), s.default.createElement("div", {
                                className: p.default.label
                            }, v.default.t(1226))))
                        }
                    }]), a
                }(s.Component);
            _.displayName = "DesktopSettings";
            var C = (0, g.default)(_);
            t.default = C
        },
        43979: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(67294)),
                i = l(a(71163)),
                o = l(a(81997)),
                u = l(a(25259)),
                d = n(a(62647)),
                s = l(a(89115)),
                c = function(e) {
                    var t = e.onClose;
                    return r.default.createElement(o.default, null, r.default.createElement(d.default, {
                        a8n: "drawer-title-desktop-settings",
                        title: s.default.t(622),
                        onBack: t,
                        type: d.DRAWER_HEADER_TYPE.LARGE
                    }), r.default.createElement(u.default, null, r.default.createElement(i.default, null)))
                };
            t.default = c
        },
        56017: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(63038)),
                i = n(a(67294)),
                o = l(a(79140)),
                u = l(a(34541)),
                d = l(a(89115)),
                s = l(a(30608)),
                c = n(a(6089)),
                f = a(89305),
                p = a(28770),
                m = l(a(33819)),
                h = function(e) {
                    var t = (0, m.default)(e.mute, ["isMuted", "expiration"]),
                        a = (0, i.useState)((function() {
                            return s.default.getGlobalNotifications()
                        })),
                        n = (0, r.default)(a, 2),
                        l = n[0],
                        h = n[1],
                        v = (0, i.useState)((function() {
                            return s.default.getOutgoingMessageSound()
                        })),
                        g = (0, r.default)(v, 2),
                        E = (g[0], g[1], (0, i.useState)((function() {
                            return s.default.getGlobalSounds()
                        }))),
                        _ = (0, r.default)(E, 2),
                        C = _[0],
                        y = _[1],
                        S = (0, i.useState)((function() {
                            return s.default.getGlobalPreviews()
                        })),
                        k = (0, r.default)(S, 2),
                        M = k[0],
                        T = k[1],
                        I = (0, i.useState)((function() {
                            return s.default.getCollapseMuted()
                        })),
                        b = (0, r.default)(I, 2),
                        P = (b[0], b[1], []);
                    window.Notification && (P.push(i.default.createElement(c.SettingsCheckListItem, {
                        key: 0,
                        a8nText: "option-desktop-notifications",
                        id: "desktop-notifications",
                        checked: l,
                        onChange: function() {
                            h((function(e) {
                                var t = !e;
                                return s.default.setGlobalNotifications(t), t
                            }))
                        }
                    }, d.default.t(1227))), P.push(i.default.createElement(c.SettingsCheckListItem, {
                        key: 1,
                        a8nText: "options-msg-previews",
                        disabled: !l,
                        id: "msg-previews",
                        checked: M,
                        onChange: function() {
                            T((function(e) {
                                var t = !e;
                                return s.default.setGlobalPreviews(t), t
                            }))
                        }
                    }, d.default.t(1229), i.default.createElement(p.TextDiv, {
                        theme: "muted"
                    }, d.default.t(1230)))));
                    var w = t.expiration,
                        L = t.isMuted;
                    return i.default.createElement(c.default, null, i.default.createElement(c.SettingsCheckListItem, {
                        a8nText: "option-sounds",
                        id: "sounds",
                        checked: C,
                        onChange: function() {
                            y((function(e) {
                                var t = !e;
                                return s.default.setGlobalSounds(t), t
                            }))
                        }
                    }, d.default.t(1234)), undefined, P, undefined, i.default.createElement(c.SettingsCheckListItem, {
                        a8nText: "option-mute-desktop-notifications",
                        id: "mute-desktop-notifications",
                        checked: L,
                        onChange: function() {
                            u.default.muteAll((0, f.unproxy)(t), !t.isMuted)
                        }
                    }, d.default.t(1495), L && null != w ? i.default.createElement(p.TextDiv, {
                        theme: "muted"
                    }, o.default.untilStr(w)) : null))
                };
            t.default = h
        },
        43704: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return l.default.createElement("div", {
                    key: "container",
                    className: r.default.dropOverlay
                }, l.default.createElement("div", {
                    className: r.default.dropOverlayOutline
                }, i.default.t(653)))
            };
            var l = n(a(67294)),
                r = n(a(45082)),
                i = n(a(89115))
        },
        33874: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.E2EChangeModal = t.E2EChangeModalClass = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34541)),
                c = l(a(25960)),
                f = l(a(89115)),
                p = l(a(44589)),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        return (0, r.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = f.default.t(1865),
                                t = this.props.contact.formattedShortName,
                                a = f.default.t(2044, {
                                    contactName: t
                                }),
                                n = f.default.t(2045, {
                                    contactName: t
                                });
                            return d.default.createElement(c.default, {
                                title: a,
                                onOK: function() {
                                    return s.default.closeModal()
                                },
                                okText: e
                            }, n)
                        }
                    }]), a
                }(d.Component);
            t.E2EChangeModalClass = m, m.CONCERNS = {
                contact: ["formattedShortName"]
            }, m.displayName = "E2EChangeModalClass";
            var h = (0, p.default)(m, m.CONCERNS);
            t.E2EChangeModal = h
        },
        10193: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.RETRY_OPTIONS = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = l(a(81997)),
                f = l(a(25259)),
                p = l(a(62647)),
                m = l(a(34361)),
                h = l(a(93449)),
                v = l(a(19129)),
                g = l(a(89115)),
                E = l(a(68390)),
                _ = l(a(83149)),
                C = l(a(84369)),
                y = l(a(69052)),
                S = l(a(10584)),
                k = l(a(40746)),
                M = l(a(75131)),
                T = a(178),
                I = l(a(69267)),
                b = l(a(38512)),
                P = {
                    NONE: "none",
                    RETAKE: "retake",
                    RESTART: "restart"
                };
            t.RETRY_OPTIONS = P;
            var w = function(e) {
                (0, o.default)(a, e);
                var t = (0, u.default)(a);

                function a(e) {
                    var n;
                    return (0, r.default)(this, a), (n = t.call(this, e))._handleDoneEditing = function() {
                        var e = n.state.editedMedia;
                        n.saveCanvas(), n._refProfileCropTool && n._refProfileCropTool.crop().then((function(t) {
                            var a = t.thumb,
                                l = t.full;
                            n.props.onFinished(a, l), e.cleanUp()
                        }))
                    }, n._handleObjectLoad = function(e) {
                        if (e && e instanceof HTMLElement) {
                            var t = {};
                            !n.state.editorSize || n.state.editorSize.width === e.clientWidth && n.state.editorSize.height === e.clientHeight || (t.editorSize = {
                                width: e.clientWidth,
                                height: e.clientHeight
                            }), n.state.loaded || (t.loaded = !0), d.default.isEmpty(t) || n.setState(t)
                        }
                    }, n.setRefMediaEditCanvas = function(e) {
                        n.mediaEditCanvas = e
                    }, n._setRefProfileCropTool = function(e) {
                        n._refProfileCropTool = e
                    }, n.drawCanvas = function(e, t) {
                        n.mediaEditCanvas && n.mediaEditCanvas.drawCanvas(e, t)
                    }, n.saveCanvas = function() {
                        n.mediaEditCanvas && n.mediaEditCanvas.saveCanvas()
                    }, n.updateCanvasSize = function(e, t) {
                        n.mediaEditCanvas && n.mediaEditCanvas.updateCanvasSize(e, t)
                    }, n.handleCanvasInitialized = function() {
                        n.forceUpdate()
                    }, n.state = {
                        doneEditing: !1,
                        loaded: !1,
                        editorSize: {
                            width: 500,
                            height: 361
                        },
                        editedMedia: new h.default(e.img)
                    }, n.mediaEditController = new C.default, n
                }
                return (0, i.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        this.props.listeners.add(this.mediaEditController, "change:isInitialized", this.handleCanvasInitialized)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e, t = this.props,
                            a = t.attributionUrl,
                            n = t.onRetake,
                            l = t.retryText,
                            r = this.state.loaded ? s.default.createElement("div", {
                                className: m.default.btnSend,
                                key: "btn-send"
                            }, s.default.createElement(k.default, {
                                large: !0,
                                onClick: this._handleDoneEditing
                            }, s.default.createElement(M.default, {
                                name: "checkmark-large"
                            }))) : null;
                        this.mediaEditController.isInitialized && (e = s.default.createElement(S.default, {
                            editedMedia: this.state.editedMedia,
                            stage: this.mediaEditController.stage,
                            cropOverlay: this.mediaEditController.cropOverlay,
                            mediaContainer: this.mediaEditController.mediaContainer,
                            drawCanvas: this.drawCanvas,
                            ref: this._setRefProfileCropTool
                        }));
                        var i, o = s.default.createElement(_.default, {
                            className: m.default.mediaElement,
                            editedMedia: this.state.editedMedia,
                            mediaEditController: this.mediaEditController,
                            fitType: "cover",
                            ref: this.setRefMediaEditCanvas
                        });
                        if (n) {
                            var u;
                            switch (l) {
                                case P.NONE:
                                    u = null;
                                    break;
                                case P.RETAKE:
                                    u = g.default.t(1346);
                                    break;
                                case P.RESTART:
                                default:
                                    u = g.default.t(1349)
                            }
                            i = s.default.createElement("button", {
                                className: m.default.retake,
                                onClick: n
                            }, s.default.createElement("div", {
                                className: m.default.retakeIcon
                            }, s.default.createElement(M.default, {
                                name: "return"
                            })), u)
                        }
                        var d = a ? s.default.createElement("div", {
                                className: m.default.attribution
                            }, s.default.createElement(v.default, {
                                className: m.default.attributionLink,
                                href: a
                            }, I.default.hostname(a)), s.default.createElement("span", null, g.default.t(890), " ", s.default.createElement(v.default, {
                                href: (0, T.getTosUrl)()
                            }, g.default.t(896)))) : null,
                            h = s.default.createElement("div", {
                                className: m.default.footer
                            }, s.default.createElement(b.default, {
                                transitionName: "btn"
                            }, r), d),
                            E = this.props.imageSize ? this.props.imageSize : {
                                width: 500,
                                height: 361
                            };
                        return s.default.createElement(c.default, {
                            key: "attach-edit-modal",
                            theme: "edit"
                        }, s.default.createElement(p.default, {
                            title: g.default.t(226),
                            type: "offset",
                            onCancel: this.props.onCancel
                        }, i), s.default.createElement(f.default, {
                            overflow: "hidden"
                        }, s.default.createElement("div", {
                            className: m.default.mediaBody
                        }, e, s.default.createElement("div", {
                            className: m.default.containerBackground
                        }, s.default.createElement(b.default, {
                            transitionName: "capture"
                        }, s.default.createElement(y.default, {
                            type: "cover",
                            size: E,
                            onObjectLoad: this._handleObjectLoad
                        }, o)))), h))
                    }
                }]), a
            }(s.Component);
            w.displayName = "EditImageDrawer";
            var L = (0, E.default)(w);
            t.default = L
        },
        31232: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.frequentlyForwardedCount,
                    a = e.totalCount,
                    n = l.default.createElement("span", {
                        className: u.default.text
                    }, 1 === t && 1 === a ? d.default.t(773) : d.default.t(772), " ", l.default.createElement(i.default, {
                        href: (0, o.getFrequentlyForwardedFaqUrl)()
                    }, d.default.t(936)));
                return l.default.createElement("div", {
                    className: u.default.wrapper
                }, l.default.createElement("div", {
                    className: u.default.icon
                }, l.default.createElement(s.default, {
                    name: "highly-forwarded"
                })), l.default.createElement(r.default, {
                    theme: "plain",
                    primary: n,
                    idle: !0
                }))
            };
            var l = n(a(67294)),
                r = n(a(10598)),
                i = n(a(19129)),
                o = a(92618),
                u = n(a(83123)),
                d = n(a(89115)),
                s = n(a(75131))
        },
        87879: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = a(53615),
                s = n(a(67294)),
                c = l(a(10598)),
                f = l(a(34541)),
                p = l(a(55523)),
                m = n(a(42575)),
                h = l(a(81997)),
                v = l(a(25259)),
                g = l(a(10869)),
                E = n(a(62647)),
                _ = l(a(41769)),
                C = a(67485),
                y = a(14650),
                S = n(a(98569)),
                k = a(61243),
                M = l(a(57363)),
                T = l(a(46418)),
                I = l(a(89115)),
                b = l(a(42027)),
                P = a(36474),
                w = l(a(61759)),
                L = l(a(78724)),
                O = l(a(44589)),
                D = l(a(75131)),
                N = n(a(92631)),
                R = "group-invite-link-anchor",
                A = 0,
                x = 1,
                F = 2,
                U = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            state: A
                        }, e._getErrorMessageFromStatusCode = function(e) {
                            switch (e) {
                                case 401:
                                    return I.default.t(822);
                                case 403:
                                    return I.default.t(823);
                                case 404:
                                    return I.default.t(824);
                                default:
                                    return I.default.t(825)
                            }
                        }, e._handleLoadingErrorStatusCode = function(t) {
                            var a = e._getErrorMessageFromStatusCode(t);
                            e.props.onBack(), f.default.openToast(s.default.createElement(N.default, {
                                msg: a,
                                id: (0, N.genId)()
                            }))
                        }, e._handleRevokeGroupInvite = function() {
                            f.default.openModal(s.default.createElement(T.default, {
                                pushTransition: "none",
                                popTransition: "none",
                                chat: e.props.chat,
                                onConfirm: e._handleConfirmRevokeGroupInvite
                            }), {
                                transition: "modal-flow"
                            })
                        }, e._handleRevokingErrorStatusCode = function(t) {
                            var a = e._getErrorMessageFromStatusCode(t);
                            e.props.onBack(), f.default.openToast(s.default.createElement(N.default, {
                                msg: a,
                                id: (0, N.genId)()
                            }))
                        }, e._handleConfirmRevokeGroupInvite = function() {
                            e.setState({
                                state: x
                            });
                            var t = (0, k.revokeGroupInvite)(e.props.groupMetadata);
                            (0, d.delayMs)(500).then((function() {
                                return t
                            })).checkpoint(e.props.rejectOnUnmount()).then((function() {
                                f.default.openToast(s.default.createElement(N.default, {
                                    msg: I.default.t(828),
                                    id: (0, N.genId)()
                                })), e.setState({
                                    state: F
                                })
                            })).catchType(y.ServerStatusCodeError, (function(t) {
                                e._handleRevokingErrorStatusCode(t.statusCode)
                            })).catchType(S.Unmount, (function() {}))
                        }, e._handleSendGroupInviteLink = function() {
                            f.default.openModal(s.default.createElement(w.default, {
                                chat: e.props.chat
                            }), {
                                transition: "modal-flow"
                            })
                        }, e.handleClickGroupInviteLinkCapture = function(e) {
                            e.preventDefault(), e.stopPropagation()
                        }, e._renderDrawerBody = function() {
                            var t, a = e.props.groupMetadata;
                            if (e.state.state === A) t = s.default.createElement(C.LoadingWithText, {
                                text: I.default.t(815)
                            });
                            else if (e.state.state === x) t = s.default.createElement(C.LoadingWithText, {
                                text: I.default.t(827, {
                                    groupName: e.props.chat.contact.name
                                })
                            });
                            else {
                                var n = a.groupInviteLink,
                                    l = null;
                                document.queryCommandSupported("copy") && (l = s.default.createElement(p.default, {
                                    elementId: R
                                }));
                                var r = s.default.createElement(m.default, {
                                        id: e.props.chat.id,
                                        size: 82,
                                        quality: m.DETAIL_IMAGE_QUALITY.HIGH
                                    }),
                                    i = s.default.createElement("span", {
                                        className: M.default.linkContainer
                                    }, s.default.createElement(P.SelectableLink, {
                                        id: R,
                                        href: n,
                                        selectable: !0
                                    }, n));
                                t = s.default.createElement(v.default, null, s.default.createElement(c.default, {
                                    image: r,
                                    primary: s.default.createElement(_.default, {
                                        text: e.props.chat.contact.name,
                                        direction: "auto"
                                    }),
                                    theme: "identity",
                                    secondary: i
                                }), s.default.createElement("div", {
                                    className: M.default.descContainer
                                }, I.default.t(820)), s.default.createElement(L.default, {
                                    onClick: e._handleSendGroupInviteLink
                                }), l, s.default.createElement(g.default, {
                                    a8nText: "li-revoke-link",
                                    icon: s.default.createElement(D.default, {
                                        name: "revoke",
                                        className: M.default.icon
                                    }),
                                    onClick: e._handleRevokeGroupInvite
                                }, I.default.t(817)))
                            }
                            return t
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            (0, k.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then((function() {
                                e.setState({
                                    state: F
                                })
                            })).catchType(y.ServerStatusCodeError, (function(t) {
                                e._handleLoadingErrorStatusCode(t.statusCode)
                            })).catchType(S.Unmount, (function() {}))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return s.default.createElement(h.default, null, s.default.createElement(E.default, {
                                title: I.default.t(819),
                                onBack: this.props.onBack,
                                type: E.DRAWER_HEADER_TYPE.SMALL
                            }), this._renderDrawerBody())
                        }
                    }]), a
                }(s.Component);
            U.CONCERNS = {
                groupMetadata: ["inviteCode", "groupInviteLink"]
            }, U.displayName = "GroupInviteLinkDrawer";
            var B = (0, b.default)((0, O.default)(U, U.CONCERNS));
            t.default = B
        },
        44950: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return l.default.createElement(i.default, {
                    title: u.default.t(817),
                    onOK: function() {
                        t(), r.default.closeModal()
                    },
                    okText: u.default.t(817),
                    onCancel: function() {
                        r.default.closeModal()
                    },
                    cancelText: u.default.t(1694)
                }, l.default.createElement("div", {
                    className: o.default.confirmationText
                }, u.default.t(826, {
                    groupName: e.chat.contact.name
                })))
            };
            var l = n(a(67294)),
                r = n(a(34541)),
                i = n(a(25960)),
                o = n(a(26297)),
                u = n(a(89115))
        },
        31098: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(319)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(91080)),
                c = n(a(67294)),
                f = l(a(97930)),
                p = l(a(65179)),
                m = l(a(34541)),
                h = l(a(34263)),
                v = l(a(81997)),
                g = l(a(25259)),
                E = n(a(62647)),
                _ = l(a(51376)),
                C = n(a(98569)),
                y = n(a(60482)),
                S = l(a(50842)),
                k = a(31230),
                M = l(a(64946)),
                T = l(a(67371)),
                I = l(a(72222)),
                b = a(4247),
                P = l(a(17957)),
                w = l(a(37286)),
                L = l(a(89115)),
                O = l(a(68390)),
                D = a(12332),
                N = l(a(66312)),
                R = l(a(44982)),
                A = l(a(96213)),
                x = l(a(36394)),
                F = l(a(42027)),
                U = l(a(66863)),
                B = l(a(63056)),
                G = l(a(87729)),
                H = l(a(44589)),
                j = l(a(75131)),
                V = a(28770),
                W = n(a(92631)),
                z = l(a(60438)),
                K = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).flatListController = new S.default, e.setRefScrollable = function(t) {
                            e.refScrollable = t
                        }, e.state = {
                            msgInfo: void 0,
                            unimplemented: !1
                        }, e._refWrapper = (0, c.createRef)(), e.isMsgVisible = function(t) {
                            var a = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return t === e.props.msg.id && (!!a || e.getMsgComponent())
                        }, e.handleClose = function() {
                            e.props.uim.uie.requestDismiss()
                        }, e._getHeaderAtSection = function(t) {
                            var a, n;
                            switch (t) {
                                case b.SECTIONS.PLAYED_HEADER:
                                    n = c.default.createElement(j.default, {
                                        name: "status-ptt",
                                        className: T.default.statusBlue
                                    }), a = L.default.t(1058);
                                    break;
                                case b.SECTIONS.READ_HEADER:
                                    n = c.default.createElement(j.default, {
                                        name: "status-dblcheck",
                                        className: T.default.ack
                                    }), a = L.default.t(1060);
                                    break;
                                case b.SECTIONS.SEEN_HEADER:
                                    n = c.default.createElement(j.default, {
                                        name: "status-dblcheck",
                                        className: T.default.ack
                                    }), a = e.props.msg.isViewOnce ? L.default.t(1065) : L.default.t(1063);
                                    break;
                                case b.SECTIONS.DELIVERED_HEADER:
                                    n = c.default.createElement(j.default, {
                                        name: "status-dblcheck"
                                    }), a = L.default.t(1056);
                                    break;
                                case b.SECTIONS.VIEWED_HEADER:
                                    n = c.default.createElement(j.default, {
                                        name: "view-once-viewed",
                                        className: T.default.statusBlue
                                    }), a = L.default.t(1067);
                                    break;
                                default:
                                    return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section header`, null
                            }
                            return n = c.default.createElement("div", {
                                className: T.default.titleIcon
                            }, n), c.default.createElement("div", {
                                "data-a8n": f.default.key("msg-info-title"),
                                className: T.default.title
                            }, c.default.createElement(U.default, {
                                side: n,
                                ellipsify: !0
                            }, c.default.createElement(V.TextSpan, {
                                theme: "section-title"
                            }, a)))
                        }, e._getFooterAtSection = function(t) {
                            var a = (0, s.default)(e.state.msgInfo, "_this.state.msgInfo");
                            return c.default.createElement(I.default, {
                                key: t,
                                section: t,
                                msgInfo: a
                            })
                        }, e.renderItem = function(t) {
                            if ("row" === t.kind) return e._getInfoCell(t.participant);
                            if (t.type === b.SECTIONS.FORWARD_COUNT) return e._getForwardCount();
                            switch (t.type) {
                                case b.SECTIONS.PLAYED_HEADER:
                                case b.SECTIONS.READ_HEADER:
                                case b.SECTIONS.SEEN_HEADER:
                                case b.SECTIONS.DELIVERED_HEADER:
                                case b.SECTIONS.VIEWED_HEADER:
                                    return e._getHeaderAtSection(t.type);
                                default:
                                    return e._getFooterAtSection(t.type)
                            }
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this;
                            R.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e) {
                                t.setState({
                                    msgInfo: e
                                }), t.props.listeners.add(e.played, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.read, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.delivery, "add remove", (function() {
                                    t.forceUpdate()
                                }))
                            })).catchType(C.Unmount, (function() {})).catch((function() {
                                t.setState({
                                    unimplemented: !0
                                }), m.default.openToast(c.default.createElement(W.default, {
                                    msg: L.default.t(1096),
                                    id: (0, W.genId)("msg_info_failed")
                                }))
                            }));
                            var a = null === (e = this.refScrollable) || void 0 === e ? void 0 : e.container;
                            this.props.msg.type === h.default.MSG_TYPE.IMAGE && a && (a.scrollTop = a.scrollHeight), this.props.listeners.add(this.props.msg, "remove", (function(e, a) {
                                a === N.default && t.props.uim.uie.requestDismiss()
                            }))
                        }
                    }, {
                        key: "getAnimateEnterClass",
                        value: function(e) {
                            return `animate-enter${-1===e?"":e}`
                        }
                    }, {
                        key: "getMsgComponent",
                        value: function() {
                            var e;
                            return null === (e = this._refWrapper.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                        }
                    }, {
                        key: "_getInfoCell",
                        value: function(e) {
                            return c.default.createElement(M.default, {
                                msgInfoParticipant: e,
                                contact: e.contact,
                                key: e.id.toString()
                            })
                        }
                    }, {
                        key: "_getForwardCount",
                        value: function() {
                            return B.default.hfmStringChanges ? null : c.default.createElement("div", {
                                className: T.default.forwardCount
                            }, c.default.createElement(A.default, {
                                msg: this.props.msg
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.props.msg,
                                t = this.state.msgInfo,
                                a = [],
                                n = e.type === h.default.MSG_TYPE.PTT,
                                l = n || e.isViewOnce;
                            if (t && l) {
                                var i = n ? b.SECTIONS.PLAYED_HEADER : b.SECTIONS.VIEWED_HEADER;
                                a.push({
                                    kind: "section",
                                    type: i,
                                    itemKey: i,
                                    height: 50
                                }), a.push.apply(a, (0, r.default)(t.played.map((function(e) {
                                    return {
                                        participant: e,
                                        kind: "row",
                                        itemKey: e.id.toString(),
                                        height: y.DEFAULT_ITEM_HEIGHT
                                    }
                                })))), t.playedRemaining > 0 && (i = n ? b.SECTIONS.PLAYED_FOOTER : b.SECTIONS.VIEWED_FOOTER, a.push({
                                    kind: "section",
                                    type: i,
                                    itemKey: i,
                                    height: 50
                                }))
                            }
                            return t && (t.read.length > 0 || t.playedRemaining > 0) && (a.push({
                                kind: "section",
                                type: l ? b.SECTIONS.SEEN_HEADER : b.SECTIONS.READ_HEADER,
                                itemKey: b.SECTIONS.READ_HEADER,
                                height: 50
                            }), a.push.apply(a, (0, r.default)(t.read.map((function(e) {
                                return {
                                    participant: e,
                                    kind: "row",
                                    itemKey: e.id.toString(),
                                    height: y.DEFAULT_ITEM_HEIGHT
                                }
                            })))), t.readRemaining > 0 && a.push({
                                kind: "section",
                                type: b.SECTIONS.READ_FOOTER,
                                itemKey: l ? b.SECTIONS.SEEN_FOOTER : b.SECTIONS.READ_FOOTER,
                                height: 50
                            })), t && (t.delivery.length > 0 || t.deliveryRemaining > 0) && (a.push({
                                kind: "section",
                                type: b.SECTIONS.DELIVERED_HEADER,
                                itemKey: b.SECTIONS.DELIVERED_HEADER,
                                height: 50
                            }), a.push.apply(a, (0, r.default)(t.delivery.map((function(e) {
                                return {
                                    participant: e,
                                    kind: "row",
                                    itemKey: e.id.toString(),
                                    height: y.DEFAULT_ITEM_HEIGHT
                                }
                            })))), t.deliveryRemaining > 0 && a.push({
                                kind: "section",
                                type: b.SECTIONS.DELIVERED_FOOTER,
                                itemKey: b.SECTIONS.DELIVERED_FOOTER,
                                height: 50
                            })), B.default.frequentlyForwardedMessages && e.numTimesForwarded > 0 && !e.isFrequentlyForwarded && a.push({
                                kind: "section",
                                type: b.SECTIONS.FORWARD_COUNT,
                                itemKey: b.SECTIONS.FORWARD_COUNT,
                                height: 60
                            }), a
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.props.msg,
                                a = this.state,
                                n = a.msgInfo,
                                l = a.unimplemented;
                            n || l || (e = c.default.createElement("div", {
                                className: T.default.spinner,
                                key: "spinner"
                            }, c.default.createElement(G.default, {
                                size: 50,
                                stroke: 4
                            })));
                            var r = this.getData(),
                                i = r.length ? c.default.createElement(y.default, {
                                    flatListController: this.flatListController,
                                    direction: "vertical",
                                    forceConsistentRenderCount: !1,
                                    data: r,
                                    renderItem: this.renderItem
                                }) : null,
                                o = null;
                            return t.labels && t.labels.length && (0, k.canDisplayLabel)() && (o = c.default.createElement(_.default, {
                                theme: "padding"
                            }, c.default.createElement(w.default, {
                                labels: t.labels
                            }))), c.default.createElement(v.default, {
                                key: "message-info-modal",
                                theme: "striped"
                            }, c.default.createElement(E.default, {
                                title: L.default.t(1054),
                                type: E.DRAWER_HEADER_TYPE.SMALL,
                                onCancel: this.handleClose
                            }), c.default.createElement(x.default, {
                                ref: this.setRefScrollable,
                                chatPreference: p.default.assertGet("defaultPreference")
                            }, c.default.createElement(z.default, {
                                msg: t,
                                ref: this._refWrapper,
                                displayType: h.default.DISP_TYPE.MSG_INFO,
                                isMsgVisible: this.isMsgVisible,
                                position: D.MsgPosition.END,
                                onProductClick: this.props.onProductClick
                            })), c.default.createElement(g.default, {
                                flatListControllers: [this.flatListController]
                            }, o, e, c.default.createElement("div", {
                                className: T.default.list
                            }, i)))
                        }
                    }]), a
                }(c.Component);
            K.CONCERNS = {
                msg: ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded"]
            }, K.displayName = "GroupMsgInfoDrawer";
            var Y = (0, P.default)((0, F.default)((0, O.default)((0, H.default)(K, K.CONCERNS))));
            t.default = Y
        },
        72222: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n, c = (0, s.default)(e.msgInfo, ["playedRemaining", "readRemaining", "deliveryRemaining"]);
                switch (e.section) {
                    case o.SECTIONS.PLAYED_FOOTER:
                    case o.SECTIONS.VIEWED_FOOTER:
                        t = c.playedRemaining, a = c.playedRemaining;
                        break;
                    case o.SECTIONS.READ_FOOTER:
                    case o.SECTIONS.SEEN_FOOTER:
                        t = c.readRemaining, a = c.readRemaining;
                        break;
                    case o.SECTIONS.DELIVERED_FOOTER:
                        t = c.deliveryRemaining, a = c.deliveryRemaining;
                        break;
                    default:
                        return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section footer`, null
                }
                n = null != t && 0 !== t ? {
                    count: t,
                    _plural: a
                } : {
                    _plural: a
                };
                var f = u.default.t(1061, n);
                return l.default.createElement("div", {
                    "data-a8n": r.default.key("msg-info-remaining"),
                    className: i.default.footer
                }, l.default.createElement(d.TextSpan, {
                    theme: "muted"
                }, f))
            };
            var l = n(a(67294)),
                r = n(a(97930)),
                i = n(a(67371)),
                o = a(4247),
                u = n(a(89115)),
                d = a(28770),
                s = n(a(33819))
        },
        4247: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.SECTIONS = void 0;
            var n = a(54302).Mirrored(["DELIVERED_FOOTER", "DELIVERED_HEADER", "FORWARD_COUNT", "PLAYED_FOOTER", "PLAYED_HEADER", "READ_FOOTER", "READ_HEADER", "SEEN_FOOTER", "SEEN_HEADER", "VIEWED_FOOTER", "VIEWED_HEADER"]);
            t.SECTIONS = n
        },
        44858: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = l(a(67294)),
                c = r(a(10598)),
                f = r(a(34263)),
                p = r(a(42575)),
                m = r(a(81997)),
                h = r(a(25259)),
                v = l(a(62647)),
                g = r(a(41769)),
                E = r(a(88430)),
                _ = r(a(4025)),
                C = r(a(89115)),
                y = r(a(55090)),
                S = r(a(14883)),
                k = r(a(99838)),
                M = r(a(42027)),
                T = r(a(40746)),
                I = r(a(75131)),
                b = r(a(79077)),
                P = r(a(38512)),
                w = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var l = arguments.length, r = new Array(l), o = 0; o < l; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            isBusy: !1,
                            inviteComment: C.default.t(847)
                        }, e.setRefParticipantList = function(t) {
                            e.refParticipantList = t
                        }, e.handleClose = function() {
                            (0, e.props.onClose)()
                        }, e._getGroupThumbBase64 = function() {
                            var t = e.props.gid,
                                a = k.default.get(t);
                            return new n((function(e) {
                                a && a.img ? (0, E.default)(a.img).then((function(t) {
                                    if (t.ok) return t.blob();
                                    e(void 0)
                                })).then((function(t) {
                                    if (t) {
                                        var a = new FileReader;
                                        a.onloadend = function() {
                                            var t = a.result;
                                            if (null != t) {
                                                var n = t.toString().split(",")[1];
                                                e(n)
                                            } else e(void 0)
                                        }, a.readAsDataURL(t)
                                    }
                                })).catch((function() {
                                    return e(void 0)
                                })) : e(void 0)
                            }))
                        }, e.handleSend = function() {
                            var t = e.props.onSend,
                                a = e.state.inviteComment;
                            e._getGroupThumbBase64().then((function(e) {
                                t(a, e)
                            }))
                        }, e._handleInviteCommentChange = function(t) {
                            e.setState({
                                inviteComment: t
                            })
                        }, e.setRefEmojiInput = function(t) {
                            e.refEmojiInput = t
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = s.default.createElement(T.default, {
                                    a8nText: "group-participants-btn",
                                    large: !0,
                                    onClick: this.handleSend
                                }, s.default.createElement(I.default, {
                                    name: "send",
                                    directional: !0
                                })),
                                t = s.default.createElement(p.default, {
                                    id: this.props.gid
                                }),
                                a = s.default.createElement(g.default, {
                                    text: this.props.subject
                                });
                            return s.default.createElement(y.default, {
                                type: "invite"
                            }, s.default.createElement(m.default, {
                                theme: "invite"
                            }, s.default.createElement(v.default, {
                                type: v.DRAWER_HEADER_TYPE.POPUP,
                                title: C.default.t(856),
                                onCancel: this.handleClose
                            }), s.default.createElement(h.default, null, s.default.createElement("div", {
                                className: _.default.search
                            }, s.default.createElement("div", {
                                "data-list-scroll-container": !0
                            }, s.default.createElement(S.default, {
                                ref: this.setRefParticipantList,
                                theme: "list-names",
                                contacts: this.props.participants.map((function(e) {
                                    return e.contact
                                }))
                            }))), s.default.createElement("div", {
                                className: _.default.commentInput
                            }, s.default.createElement(b.default, {
                                a8n: "groups-v4-invite-add-comment-input",
                                ref: this.setRefEmojiInput,
                                value: this.state.inviteComment,
                                showRemaining: !0,
                                maxLength: f.default.MAX_CAPTION_LENGTH,
                                onChange: this._handleInviteCommentChange,
                                theme: "v4-invite-caption",
                                supportsEmoji: !0
                            })), s.default.createElement(P.default, {
                                transitionName: "btn",
                                className: _.default.onSendInvite
                            }, e), s.default.createElement("div", {
                                className: _.default.groupInfo
                            }, s.default.createElement(c.default, {
                                idle: !0,
                                image: t,
                                primary: a,
                                secondary: C.default.t(851),
                                theme: "group_v4_invite"
                            })))))
                        }
                    }]), a
                }(s.Component);
            w.displayName = "GroupV4InviteAddComment";
            var L = (0, M.default)(w);
            t.default = L
        },
        88115: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = a(53615),
                c = r(a(96486)),
                f = l(a(67294)),
                p = l(a(72259)),
                m = a(67485),
                h = r(a(89115)),
                v = r(a(35027)),
                g = r(a(57818)),
                E = r(a(10560)),
                _ = function(e) {
                    (0, u.default)(l, e);
                    var t = (0, d.default)(l);

                    function l(e) {
                        var a;
                        return (0, i.default)(this, l), (a = t.call(this, e))._setRefEl = function(e) {
                            a._refEl = e
                        }, a.handleSelect = function(e, t) {
                            if (t instanceof p.Mode) {
                                var n = t.props.chat;
                                !0 === a.props.filter(n) && a.props.onGroup(t.props.chat)
                            }
                        }, a.handleSearch = c.default.debounce((function(e) {
                            a.setState({
                                searchText: e
                            })
                        }), 100), a.renderItem = function(e) {
                            var t, n, l = a.props,
                                r = l.onGroup,
                                i = (0, l.filter)(e.chat),
                                o = "boolean" != typeof i;
                            return o && (t = i, n = "group-modal"), f.default.createElement(p.default, {
                                chat: e.chat,
                                contact: e.chat.contact,
                                mode: p.Mode.INFO,
                                active: a.selection,
                                secondary: t,
                                noContext: !0,
                                theme: n,
                                onClick: o ? void 0 : r.bind(null, e.chat)
                            })
                        }, a.selection = new E.default, a.state = {
                            loading: !0,
                            searchText: void 0
                        }, a
                    }
                    return (0, o.default)(l, [{
                        key: "getElement",
                        value: function() {
                            this._refEl
                        }
                    }]), (0, o.default)(l, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props.chats;
                            (0, s.delayMs)(300).then((function() {
                                return n.all(c.default.map(c.default.filter(t, (function(e) {
                                    var t;
                                    return null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.stale
                                })), (function(e) {
                                    var t;
                                    return a(13361).default.update(null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.id).catch((function() {}))
                                })))
                            })).then((function() {
                                return e.setState({
                                    loading: !1
                                })
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.props,
                                t = e.chats,
                                a = e.filter,
                                n = this.state,
                                l = n.loading,
                                r = n.searchText;
                            if (l) return [];
                            var i = h.default.accentFold(r),
                                o = (0, g.default)(i),
                                u = t.filter((function(e) {
                                    return a(e) && (!i || i && e.contact.searchMatch(i, o))
                                }));
                            return this.selection.init(u.filter((function(e) {
                                return !0 === a(e)
                            })).map((function(e) {
                                return e.id
                            }))), u.map((function(e) {
                                return {
                                    chat: e,
                                    itemKey: e.id.toString()
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.onCancel,
                                t = this.state.loading ? f.default.createElement(m.Loading, null) : f.default.createElement(m.SearchGroups, null);
                            return f.default.createElement(v.default, {
                                title: h.default.t(1818),
                                data: this.getData(),
                                renderItem: this.renderItem,
                                emptyState: t,
                                selection: this.selection,
                                onCancel: e,
                                onSearch: this.handleSearch,
                                onSelect: this.handleSelect,
                                onRef: this._setRefEl,
                                searchPlaceholder: h.default.t(1363)
                            })
                        }
                    }]), l
                }(f.Component);
            t.default = _, _.defaultProps = {
                filter: function() {
                    return !0
                }
            }, _.displayName = "GroupsModal"
        },
        62887: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(9349)),
                c = n(a(81198)),
                f = l(a(34541)),
                p = l(a(79228)),
                m = l(a(81997)),
                h = l(a(25259)),
                v = l(a(10869)),
                g = n(a(62647)),
                E = a(19129),
                _ = a(92618),
                C = l(a(77798)),
                y = l(a(89115)),
                S = l(a(97065)),
                k = a(92144),
                M = l(a(8643)),
                T = a(178),
                I = l(a(73358)),
                b = l(a(2478)),
                P = {
                    id: "animated-doodle",
                    selectors: [`.${C.default.animation}`],
                    low: {
                        default: s.default
                    },
                    high: {
                        default: s.default
                    }
                },
                w = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).openTime = -1, e._actionsTaken = !1, e._handleTOS = function() {
                            e._actionsTaken = !0, (0, E.openExternalLink)((0, T.getTosUrl)())
                        }, e._handleHelpCenter = function() {
                            (0, E.openExternalLink)((0, _.getFaqUrl)()), e._logSessionEvent(M.default.CONTACT_US_EXIT_STATE.FAQ)
                        }, e._handleContactUs = function() {
                            f.default.openModal(d.default.createElement(p.default, {
                                onCancel: e.handleContactUsCancel,
                                onSend: e.handleContactUsSend
                            }))
                        }, e._handleLicenses = function() {
                            f.default.openModal(d.default.createElement(S.default, {
                                onOk: e._handleLicensesOk
                            }))
                        }, e.handleContactUsCancel = function() {
                            e._logSessionEvent(M.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)
                        }, e.handleContactUsSend = function(t) {
                            e._logSessionEvent(M.default.CONTACT_US_EXIT_STATE.EMAIL_SEND, t)
                        }, e._handleLicensesOk = function() {}, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.openTime = performance.now(), c.default.loadAsset(P, c.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._actionsTaken || this._logSessionEvent(M.default.CONTACT_US_EXIT_STATE.CANCELLED)
                        }
                    }, {
                        key: "_logSessionEvent",
                        value: function(e, t) {
                            (0, k.logSessionEvent)(e, this.openTime, t), this._actionsTaken = !0
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e;
                            return I.default.isElectron && (e = d.default.createElement(v.default, {
                                a8nText: "li-licenses",
                                onClick: this._handleLicenses
                            }, y.default.t(937))), d.default.createElement(m.default, null, d.default.createElement(g.default, {
                                a8n: "drawer-title-help",
                                title: y.default.t(883),
                                onBack: this.props.onClose,
                                type: g.DRAWER_HEADER_TYPE.LARGE
                            }), d.default.createElement(h.default, null, d.default.createElement("div", {
                                className: C.default.animation
                            }), d.default.createElement(b.default, {
                                className: C.default.versionInfo
                            }), d.default.createElement(v.default, {
                                a8nText: "li-faq",
                                onClick: this._handleHelpCenter
                            }, y.default.t(1932)), d.default.createElement(v.default, {
                                a8nText: "li-contact-us",
                                onClick: this._handleContactUs
                            }, y.default.t(1411)), e, d.default.createElement(v.default, {
                                a8nText: "li-tos",
                                onClick: this._handleTOS
                            }, y.default.t(1488)), undefined, undefined))
                        }
                    }]), a
                }(d.Component);
            t.default = w, w.displayName = "HelpDrawer"
        },
        76584: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = r(a(96486)),
                c = l(a(67294)),
                f = l(a(5081)),
                p = r(a(34541)),
                m = r(a(34263)),
                h = r(a(81997)),
                v = r(a(25259)),
                g = l(a(62647)),
                E = a(67485),
                _ = l(a(98569)),
                C = r(a(88430)),
                y = r(a(80413)),
                S = r(a(31722)),
                k = r(a(76568)),
                M = r(a(23227)),
                T = r(a(89115)),
                I = r(a(17381)),
                b = r(a(42027)),
                P = r(a(63278)),
                w = r(a(35997)),
                L = l(a(92631)),
                O = r(a(73358)),
                D = a(30564),
                N = r(a(23306)),
                R = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var l;
                        return (0, i.default)(this, a), (l = t.call(this, e)).setRefSearch = function(e) {
                            l.refSearch = e
                        }, l._setRefSearchHotkeys = function(e) {
                            l._refSearchHotkeys = e
                        }, l._setRefGallery = function(e) {
                            l._refGallery = e
                        }, l._search = function(e, t) {
                            l._hasPendingSearch = !1;
                            var a = f.search(e, t).cancellable().then((function(t) {
                                a === l._searchPromise && (l._addSearchResults(e, t), l.setState({
                                    isSearching: !1
                                }))
                            })).catchType(n.CancellationError, (function() {})).catch((function() {
                                __LOG__(3, !0)`Image search failed`, p.default.openToast(c.default.createElement(L.default, {
                                    msg: T.default.t(891),
                                    id: (0, L.genId)()
                                })), a === l._searchPromise && l.setState({
                                    isSearching: !1
                                })
                            })).finally((function() {
                                a === l._searchPromise && (l._searchPromise = null)
                            }));
                            l._searchPromise = a, l.setState({
                                isSearching: !0
                            })
                        }, l._handleUserInput = function(e) {
                            var t = (e || "").trim();
                            if (!t) return l._cancelSearch(), void l._resetState();
                            (0, D.numCodepoints)(t) < m.default.FTS_MIN_CHARS || t !== l.state.query && (l._cancelSearch(), l._resetState(), l._requestSearch(t))
                        }, l._handleRequestMoreImages = function() {
                            l._hasPendingSearch || l._searchPromise || !l.state.totalEstimatedMatches || l.state.nextOffset >= l.state.totalEstimatedMatches || l._requestSearch(l.state.query, l.state.nextOffset)
                        }, l._handleImageClick = function(e) {
                            var t = l.state.imageData[e];
                            if (t) {
                                var a = t.contentUrl;
                                (O.default.isElectron ? (0, P.default)((function() {
                                    return (0, C.default)(a)
                                })).then((function(e) {
                                    if (200 !== e.status) throw new _.ServerStatusError(null, a, e.status);
                                    return e.blob()
                                })) : N.default.downloadImage(a)).checkpoint(l.props.rejectOnUnmount()).then((function(e) {
                                    if (!(e instanceof Blob)) throw new _.ImageError("Server did not respond with image bytes", a);
                                    l.props.onImageSelected(e, t.hostPageUrl)
                                })).catchType(_.Unmount, (function() {})).catch((function() {
                                    __LOG__(3, !0)`Image search failed`, p.default.openToast(c.default.createElement(L.default, {
                                        msg: T.default.t(888),
                                        id: (0, L.genId)()
                                    }))
                                }))
                            }
                        }, l._focusSearch = function() {
                            y.default.shouldIndicateFocus(), S.default.focus(l.refSearch)
                        }, l._focusGallery = function(e) {
                            e.repeat || l._refGallery && l.refSearch && l.refSearch.cursorIsAtEnd() && (e.preventDefault(), e.stopPropagation(), y.default.shouldIndicateFocus(), null != l._refGallery && S.default.focus(l._refGallery))
                        }, l._handleSearchFocus = function() {
                            y.default.maybeIndicateFocus(l._refSearchHotkeys)
                        }, l.state = {
                            imageData: {},
                            isSearching: !1,
                            nextOffset: 0,
                            query: "",
                            thumbnails: [],
                            totalEstimatedMatches: 0
                        }, l._hasPendingSearch = !1, l._searchPromise = null, l._debouncedSearch = l.props.debounce(l._search, 750), l
                    }
                    return (0, o.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this._cancelSearch()
                        }
                    }, {
                        key: "_requestSearch",
                        value: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                            this._hasPendingSearch = !0, this._debouncedSearch(e, t)
                        }
                    }, {
                        key: "_cancelSearch",
                        value: function() {
                            this._hasPendingSearch && (this._debouncedSearch.cancel(), this._hasPendingSearch = !1), this._searchPromise && this._searchPromise.cancel()
                        }
                    }, {
                        key: "_resetState",
                        value: function() {
                            this.setState({
                                imageData: {},
                                isSearching: !1,
                                nextOffset: 0,
                                query: "",
                                thumbnails: [],
                                totalEstimatedMatches: 0
                            })
                        }
                    }, {
                        key: "_addSearchResults",
                        value: function(e, t) {
                            this.setState((function(a) {
                                var n = s.default.keyBy(t.value, (function(e) {
                                        return null == e ? void 0 : e.thumbnailUrl
                                    })),
                                    l = s.default.map(t.value, (function(e) {
                                        return {
                                            id: e.imageId,
                                            name: e.name,
                                            thumbUrl: e.thumbnailUrl
                                        }
                                    })),
                                    r = t.value.length,
                                    i = {};
                                return a.query === e ? (i.nextOffset = t.nextOffset ? t.nextOffset : a.nextOffset + r, i.thumbnails = s.default.concat(a.thumbnails, l), i.totalEstimatedMatches = t.totalEstimatedMatches, i.imageData = Object.assign(n, a.imageData)) : (i.imageData = n, i.nextOffset = t.nextOffset ? t.nextOffset : r, i.query = e, i.thumbnails = l, i.totalEstimatedMatches = t.totalEstimatedMatches), i
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = g.DRAWER_HEADER_TYPE.POPUP,
                                a = {
                                    down: this._focusGallery
                                };
                            return e = 0 === this.state.thumbnails.length ? this.state.isSearching ? c.default.createElement(E.SearchingImages, null) : this.state.query ? c.default.createElement(E.ImageSearchEmpty, null) : c.default.createElement(E.BeforeImageSearch, null) : c.default.createElement(M.default, {
                                ref: this._setRefGallery,
                                canLoadMore: this.state.nextOffset < this.state.totalEstimatedMatches,
                                isLoadingMore: this.state.isSearching,
                                thumbnails: this.state.thumbnails,
                                onFocusPrev: this._focusSearch,
                                onImageClick: this._handleImageClick,
                                onRequestMoreImages: this._handleRequestMoreImages
                            }), c.default.createElement(h.default, null, c.default.createElement(g.default, {
                                title: T.default.t(895),
                                type: t,
                                onBack: this.props.onBack,
                                onCancel: this.props.onCancel
                            }), c.default.createElement(v.default, null, c.default.createElement(k.default, {
                                onRef: this._setRefSearchHotkeys,
                                handlers: a,
                                onFocus: this._handleSearchFocus
                            }, c.default.createElement(I.default, {
                                ref: this.setRefSearch,
                                placeholder: T.default.t(892),
                                onSearch: this._handleUserInput,
                                loading: this.state.isSearching
                            })), e))
                        }
                    }]), a
                }(c.Component);
            R.displayName = "ImageSearchDrawer";
            var A = (0, w.default)((0, b.default)(R));
            t.default = A
        },
        39304: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (t = m.default.pttPlaybackSpeedEnabled ? v : [], [
                    [f.default.t(1125), o.default.TOGGLE_UNREAD],
                    [f.default.t(1176), o.default.TOGGLE_MUTE],
                    [f.default.t(1116), o.default.TOGGLE_ARCHIVE],
                    [f.default.t(1120), o.default.DELETE_OR_EXIT_CHAT],
                    [f.default.t(1179), o.default.TOGGLE_PIN],
                    [f.default.t(1147), o.default.SEARCH],
                    [f.default.t(1158), o.default.SEARCH_IN_CHAT],
                    [f.default.t(1177), o.default.OPEN_NEW_CHAT],
                    [f.default.t(1178), o.default.OPEN_NEW_GROUP],
                    [f.default.t(1180), o.default.OPEN_PROFILE]
                ].concat((0, r.default)(t), [
                    [f.default.t(1041), o.default.OPEN_SETTINGS],
                    [f.default.t(918), o.default.OPEN_EMOJI_PANEL],
                    [f.default.t(919), o.default.OPEN_GIF_PANEL],
                    [f.default.t(920), o.default.OPEN_STICKER_PANEL]
                ])).map((function(e, t) {
                    var a = (0, l.default)(e, 3),
                        n = a[0],
                        r = a[1],
                        o = a[2],
                        u = void 0 === o || o,
                        d = i.default.createElement(s.default, {
                            action: r,
                            addModifiers: u
                        });
                    if (d) return i.default.createElement("div", {
                        key: t,
                        className: c.default.section
                    }, i.default.createElement("div", {
                        className: c.default.action,
                        title: n
                    }, n), i.default.createElement("div", {
                        className: c.default.shortcut
                    }, d))
                }));
                var t;
                return i.default.createElement(d.default, {
                    onOK: function() {
                        u.default.closeModal()
                    },
                    okText: f.default.t(1865),
                    type: p.FlexModalType
                }, i.default.createElement("div", {
                    className: c.default.container
                }, i.default.createElement(h.TextSpan, {
                    theme: "popup-title"
                }, f.default.t(921)), i.default.createElement("div", {
                    className: c.default.list
                }, e)))
            };
            var l = n(a(63038)),
                r = n(a(319)),
                i = n(a(67294)),
                o = n(a(37311)),
                u = n(a(34541)),
                d = n(a(25960)),
                s = n(a(82554)),
                c = n(a(95694)),
                f = n(a(89115)),
                p = a(55090),
                m = n(a(63056)),
                h = a(28770),
                v = [
                    [f.default.t(903), o.default.INCREASE_PTT_SPEED, !1],
                    [f.default.t(600), o.default.DECREASE_PTT_SPEED, !1]
                ]
        },
        31024: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(81997)),
                p = l(a(25259)),
                m = n(a(62647)),
                h = l(a(89115)),
                v = a(17864),
                g = n(a(6705)),
                E = l(a(66995)),
                _ = l(a(87729)),
                C = l(a(75131)),
                y = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            hover: !1
                        }, e.handleClick = function() {
                            e.props.onUpdateColor({
                                id: e.props.labelId,
                                color: e.props.colorInt
                            }, g.LABEL_PROPERTIES.COLOR), e.props.onBack()
                        }, e._disableHover = function() {
                            e.state.hover && e.setState({
                                hover: !1
                            })
                        }, e._enableHover = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t = this.props.isSelected ? c.default.createElement(C.default, {
                                    name: "checkmark-medium"
                                }) : null,
                                a = (0, s.default)(E.default.wallpaperColorCanvas, (e = {}, (0, r.default)(e, E.default.canvasHover, this.state.hover), (0, r.default)(e, E.default.canvasActive, this.props.isSelected), e));
                            return c.default.createElement("span", {
                                className: a,
                                style: {
                                    backgroundColor: (0, v.intColorToHex)(this.props.colorInt)
                                },
                                onMouseOver: this._enableHover,
                                onMouseEnter: this._enableHover,
                                onMouseLeave: this._disableHover,
                                onClick: this.handleClick
                            }, t)
                        }
                    }]), a
                }(c.Component);

            function S(e) {
                for (var t = e.currentColor, a = e.colors.map((function(a) {
                        return c.default.createElement(y, {
                            onUpdateColor: e.onUpdateColor,
                            colorInt: a,
                            onBack: e.onBack,
                            labelId: e.labelId,
                            isSelected: t === a,
                            key: a
                        })
                    })), n = 0; n < 2; n++) a.push(c.default.createElement("div", {
                    key: "emptyEl" + n,
                    className: E.default.wallpaperColorEmpty
                }));
                return a
            }
            y.displayName = "ColorCanvas";
            var k = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    return (0, i.default)(this, a), (e = t.call(this))._getColorPromise = null, e.state = {
                        colors: g.default.labelColorPalette && g.default.labelColorPalette.colors
                    }, e
                }
                return (0, o.default)(a, [{
                    key: "componentWillUnmount",
                    value: function() {
                        this._getColorPromise && this._getColorPromise.cancel()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this,
                            t = c.default.createElement(_.default, {
                                stroke: 6,
                                size: 24
                            });
                        return this.state.colors ? t = c.default.createElement(S, {
                            labelId: this.props.labelId,
                            onBack: this.props.onClose,
                            onUpdateColor: this.props.onUpdateColor,
                            colors: this.state.colors,
                            currentColor: this.props.currentColor
                        }) : (this._getColorPromise = g.default.getLabelColorPalette(), this._getColorPromise.cancellable().then((function(t) {
                            e.setState({
                                colors: t
                            })
                        }))), c.default.createElement(f.default, null, c.default.createElement(m.default, {
                            theme: this.state.colors ? void 0 : "center-content",
                            title: h.default.t(924),
                            onBack: this.props.onClose,
                            type: m.DRAWER_HEADER_TYPE.LARGE
                        }), c.default.createElement(p.default, null, c.default.createElement("div", {
                            className: E.default.container
                        }, t)))
                    }
                }]), a
            }(c.Component);
            t.default = k, k.displayName = "LabelColorDrawer"
        },
        24616: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34541)),
                c = l(a(25960)),
                f = l(a(81997)),
                p = l(a(25259)),
                m = n(a(62647)),
                h = a(31230),
                v = l(a(89115)),
                g = l(a(35180)),
                E = a(64550),
                _ = l(a(68390)),
                C = l(a(8643)),
                y = l(a(42131)),
                S = l(a(25065)),
                k = l(a(11832)),
                M = l(a(40746)),
                T = l(a(75131)),
                I = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        return (0, r.default)(this, a), (e = t.call(this)).onMultiSelect = function() {
                            var t = e.multiSelection.getSelected().length;
                            e.setState({
                                selectedCount: t
                            })
                        }, e.shouldScrollIntoViewAndSelect = function() {
                            return {
                                shouldScrollIntoView: !0,
                                shouldSelect: !1
                            }
                        }, e.onDeleteLabel = function(t) {
                            s.default.closeModal(), e.multiSelection.unsetAll(), e.props.onDeleteLabel(t)
                        }, e._confirmDeleteSelectedLabels = function() {
                            var t = e.multiSelection.getSelected();
                            (0, E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW, t.length, C.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), s.default.openModal(d.default.createElement(c.default, {
                                okText: v.default.t(2e3),
                                cancelText: v.default.t(1860),
                                onCancel: function() {
                                    (0, E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, C.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), s.default.closeModal()
                                },
                                onOK: function() {
                                    (0, E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, C.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), e.onDeleteLabel(t)
                                }
                            }, v.default.t(613, {
                                _plural: t.length
                            })))
                        }, e.onCancelSelection = function() {
                            e.multiSelection.unsetAll(), e.setState({
                                selectedCount: 0
                            })
                        }, e.multiSelection = new k.default([], (function(e) {
                            return e.id
                        })), e.state = {
                            selectedCount: 0
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            (0, E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW, void 0, C.default.LABEL_TARGETS.LABELS_SCREEN)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = null;
                            e = this.state.selectedCount > 0 ? d.default.createElement(y.default, {
                                selectedModels: this.multiSelection,
                                onCancel: this.onCancelSelection,
                                onDelete: this._confirmDeleteSelectedLabels,
                                theme: "drawer-header"
                            }) : d.default.createElement(m.default, {
                                title: v.default.t(934),
                                onBack: this.props.onClose,
                                type: m.DRAWER_HEADER_TYPE.LARGE
                            });
                            var t = (0, h.canEditLabel)() && d.default.createElement("div", {
                                className: g.default.addLabelBtContainer
                            }, d.default.createElement(M.default, {
                                large: !0,
                                onClick: this.props.openAddLabel
                            }, d.default.createElement(T.default, {
                                name: "plus-large"
                            })));
                            return d.default.createElement(f.default, {
                                theme: "settings"
                            }, e, d.default.createElement(p.default, null, d.default.createElement(S.default, {
                                shouldScrollIntoViewAndSelect: this.shouldScrollIntoViewAndSelect,
                                selectedLabels: this.multiSelection,
                                renderContext: "label-list",
                                onMultiSelect: this.onMultiSelect,
                                onLabelClick: this.props.onLabelClick
                            })), t)
                        }
                    }]), a
                }(d.PureComponent);
            I.displayName = "LabelDrawer";
            var b = (0, _.default)(I);
            t.default = b
        },
        9362: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            t.Z = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(69912)),
                c = l(a(34541)),
                f = l(a(25960)),
                p = l(a(81997)),
                m = l(a(25259)),
                h = n(a(62647)),
                v = l(a(75300)),
                g = l(a(33079)),
                E = a(31230),
                _ = l(a(89115)),
                C = l(a(6705)),
                y = a(64550),
                S = l(a(85221)),
                k = l(a(68390)),
                M = a(53418),
                T = l(a(8643)),
                I = l(a(42131)),
                b = l(a(16551)),
                P = l(a(11832)),
                w = l(a(58695)),
                L = l(a(75131));

            function O(e) {
                var t = e.openColorPicker,
                    a = e.openEditLabel;
                return (0, E.canEditLabel)() ? d.default.createElement(M.MenuBarItem, {
                    a8nText: "starred-menu",
                    icon: d.default.createElement(L.default, {
                        name: "menu"
                    }),
                    title: _.default.t(1046)
                }, d.default.createElement(v.default, {
                    type: "dropdown_menu",
                    flipOnRTL: !0,
                    key: "labelChooseColor",
                    dirX: "LEFT"
                }, d.default.createElement(g.default, {
                    a8n: "menu-item",
                    action: t
                }, _.default.t(924)), d.default.createElement(g.default, {
                    a8n: "menu-item",
                    action: a
                }, _.default.t(658)))) : null
            }
            var D = function(e) {
                (0, o.default)(a, e);
                var t = (0, u.default)(a);

                function a() {
                    var e;
                    return (0, r.default)(this, a), (e = t.call(this))._openColorPicker = function() {
                        var t = e.props.labelId,
                            a = C.default.assertGet(t);
                        e.props.openLabelColorDrawer(e.props.labelId, a.color)
                    }, e._openEditLabel = function() {
                        e.props.onEditLabel && e.props.onEditLabel(e.props.labelId)
                    }, e.onCancelLabelSelection = function() {
                        e.multiSelection.unsetAll()
                    }, e.onRemoveLabel = function() {
                        var t = e.multiSelection.getSelected(),
                            a = e.props,
                            n = a.onRemoveLabel,
                            l = a.labelId;
                        if (n) {
                            var r = C.default.assertGet(l);
                            (0, y.logLabelOperationEvent)(T.default.LABEL_OPERATIONS.VIEW, t.length, T.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), c.default.openModal(d.default.createElement(f.default, {
                                title: _.default.t(1312, {
                                    count: t.length,
                                    labelName: r.name,
                                    _plural: t.length
                                }),
                                okText: _.default.t(1865),
                                cancelText: _.default.t(1694),
                                onCancel: e._closeModal,
                                onOK: e._onRemoveLabelConfirmed.bind(null, l, t)
                            }))
                        }
                    }, e._closeModal = function() {
                        var t = e.multiSelection.getSelected();
                        (0, y.logLabelOperationEvent)(T.default.LABEL_OPERATIONS.CLICK_NEGATIVE, t.length, T.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), c.default.closeModal()
                    }, e._onRemoveLabelConfirmed = function(t, a) {
                        c.default.closeModal(), e.onCancelLabelSelection(), e.props.onRemoveLabel(t, a), (0, y.logLabelOperationEvent)(T.default.LABEL_OPERATIONS.CLICK_POSITIVE, a.length, T.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)
                    }, e.multiSelection = new P.default([], (function(e) {
                        return e.id.toString()
                    })), e
                }
                return (0, i.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this;
                        this.props.listeners.add(this.multiSelection, "all", (function() {
                            return e.forceUpdate()
                        })), (0, y.logLabelOperationEvent)(T.default.LABEL_OPERATIONS.VIEW, void 0, T.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)
                    }
                }, {
                    key: "_hasMixedSelection",
                    value: function(e) {
                        for (var t, a, n = 0; n < e.length; n++) {
                            if (e[n] instanceof b.default ? a = !0 : t = !0, t && a) return !0
                        }
                        return !1
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.multiSelection.getSelected(),
                            t = this._hasMixedSelection(e),
                            a = this.multiSelection.getSelected().length > 0 ? d.default.createElement(I.default, {
                                labelEditEnabled: !t,
                                onRemoveLabel: this.onRemoveLabel,
                                selectedModels: this.multiSelection,
                                onCancel: this.onCancelLabelSelection,
                                theme: "drawer-header"
                            }) : d.default.createElement(h.default, {
                                onBack: this.props.onClose,
                                menu: d.default.createElement(O, {
                                    openColorPicker: this._openColorPicker,
                                    openEditLabel: this._openEditLabel
                                }),
                                type: h.DRAWER_HEADER_TYPE.LABELS
                            }, d.default.createElement(S.default, {
                                labels: [this.props.labelId],
                                renderAsCircle: !0,
                                showName: !0,
                                theme: "drawer-title"
                            }));
                        return d.default.createElement(p.default, {
                            theme: "settings"
                        }, a, d.default.createElement(m.default, null, d.default.createElement(s.default, {
                            hideMultiSelectBar: !0,
                            multiSelection: this.multiSelection,
                            labelFilter: this.props.labelId,
                            settings: w.default,
                            selectable: !0
                        })))
                    }
                }]), a
            }(d.PureComponent);
            D.displayName = "LabelItemDrawer";
            var N = (0, k.default)(D);
            t.Z = N
        },
        78865: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34541)),
                c = l(a(25960)),
                f = l(a(89115)),
                p = l(a(23918)),
                m = a(55090),
                h = l(a(87729)),
                v = a(28770),
                g = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, l = new Array(a), i = 0; i < a; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            licensesText: void 0
                        }, e.onOk = function() {
                            e.props.onOk && e.props.onOk(), s.default.closeModal()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            a.e(9223).then(a.bind(a, 88221)).catch((function() {
                                return null
                            })).then((function(t) {
                                e.setState({
                                    licensesText: null == t ? void 0 : t.default
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            return this.state.licensesText || (e = d.default.createElement("div", {
                                className: p.default.spinner,
                                key: "spinner"
                            }, d.default.createElement(h.default, {
                                size: 50,
                                stroke: 4
                            }))), this.state.licensesText && (t = d.default.createElement("div", {
                                className: p.default.textContainer
                            }, this.state.licensesText)), d.default.createElement(c.default, {
                                okText: f.default.t(1865),
                                onOK: this.onOk,
                                type: m.FlexModalType
                            }, d.default.createElement("div", {
                                className: p.default.container
                            }, d.default.createElement(v.TextSpan, {
                                theme: "popup-title"
                            }, f.default.t(937)), t, e))
                        }
                    }]), n
                }(d.Component);
            t.default = g, g.displayName = "LicensesPopup"
        },
        32725: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ID_SEPARATOR = void 0;
            var l = n(a(319)),
                r = n(a(34575)),
                i = n(a(93913)),
                o = n(a(35749)),
                u = a(37139);
            t.ID_SEPARATOR = ",";
            var d = function() {
                function e() {
                    var t = this;
                    (0, r.default)(this, e), this.participants = new o.default;
                    for (var a = arguments.length, n = new Array(a), l = 0; l < a; l++) n[l] = arguments[l];
                    n.forEach((function(e) {
                        return t.add(e)
                    }))
                }
                return (0, i.default)(e, [{
                    key: "add",
                    value: function(e) {
                        this.participants.add(e)
                    }
                }, {
                    key: "hasSingleParticipant",
                    value: function() {
                        return 1 === this.length
                    }
                }, {
                    key: "fits",
                    value: function(e, t, a) {
                        var n = this.center,
                            l = n.lat,
                            r = n.lng,
                            i = e.lat,
                            o = e.lng,
                            d = (0, u.getMetersBetweenLatLngs)(l, r, l, o),
                            s = (0, u.getMetersBetweenLatLngs)(l, r, i, r),
                            c = (0, u.getMetersPerPixel)(l, t);
                        return d / c <= a && s / c <= a
                    }
                }, {
                    key: "id",
                    get: function() {
                        return this.participants.map((function(e) {
                            return e.id.toString()
                        })).join(",")
                    }
                }, {
                    key: "center",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: (Math.min.apply(Math, (0, l.default)(e)) + Math.max.apply(Math, (0, l.default)(e))) / 2,
                            lng: (Math.min.apply(Math, (0, l.default)(t)) + Math.max.apply(Math, (0, l.default)(t))) / 2
                        }
                    }
                }, {
                    key: "lat",
                    get: function() {
                        return this.center.lat
                    }
                }, {
                    key: "lng",
                    get: function() {
                        return this.center.lng
                    }
                }, {
                    key: "length",
                    get: function() {
                        return this.participants.length
                    }
                }, {
                    key: "northeast",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.max.apply(Math, (0, l.default)(e)),
                            lng: Math.max.apply(Math, (0, l.default)(t))
                        }
                    }
                }, {
                    key: "southwest",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.min.apply(Math, (0, l.default)(e)),
                            lng: Math.min.apply(Math, (0, l.default)(t))
                        }
                    }
                }]), e
            }();
            t.default = d
        },
        32825: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(50521)),
                c = l(a(42575)),
                f = l(a(30854)),
                p = l(a(60482)),
                m = l(a(55959)),
                h = l(a(50842)),
                v = l(a(89115)),
                g = l(a(45706)),
                E = l(a(75131)),
                _ = l(a(63687)),
                C = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).flatListController = new h.default, e.renderListItem = function(t) {
                            var a = t.participant,
                                n = a.isMe ? d.default.createElement("div", {
                                    className: s.default.time
                                }, d.default.createElement(f.default, {
                                    reason: "live-location-time"
                                }, d.default.createElement(_.default, {
                                    participant: a
                                }))) : null;
                            return d.default.createElement("div", {
                                className: s.default.item,
                                onClick: function() {
                                    return e.props.onParticipantSelected(a.contact.id.toString())
                                }
                            }, d.default.createElement("div", {
                                className: s.default.left
                            }, d.default.createElement(c.default, {
                                id: a.contact.id,
                                size: 28
                            })), d.default.createElement("div", {
                                className: s.default.right
                            }, d.default.createElement("div", {
                                className: s.default.name
                            }, d.default.createElement(g.default, {
                                contact: a.contact,
                                titlify: !0,
                                ellipsify: !0,
                                you: !0
                            })), n))
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "getListData",
                        value: function() {
                            return this.props.participants.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    participant: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return d.default.createElement("div", {
                                className: s.default.container
                            }, d.default.createElement("div", {
                                className: s.default.header
                            }, d.default.createElement("div", {
                                className: s.default.left
                            }, d.default.createElement("span", {
                                className: s.default.close,
                                onClick: this.props.onClearSelected
                            }, d.default.createElement(E.default, {
                                name: "x"
                            }))), d.default.createElement("div", {
                                className: s.default.right
                            }, v.default.t(943, {
                                count: this.props.participants.length,
                                _plural: this.props.participants.length
                            }))), d.default.createElement(m.default, {
                                className: s.default.list,
                                flatListControllers: [this.flatListController]
                            }, d.default.createElement(p.default, {
                                data: this.getListData(),
                                flatListController: this.flatListController,
                                direction: "vertical",
                                defaultItemHeight: 48,
                                renderItem: this.renderListItem
                            })))
                        }
                    }]), a
                }(d.Component);
            t.default = C, C.displayName = "LiveLocationClusterList"
        },
        97440: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a, n) {
                var l = new Map;
                if (!e.length) return l;
                for (var o = e.filter((function(e) {
                        return e !== a
                    })).sort((function(e, t) {
                        return e.lat - t.lat
                    })), u = function(e) {
                        var a = o[e],
                            u = void 0;
                        if (l.forEach((function(e) {
                                !u && e.fits(a, t, n) && (u = e)
                            })), u) {
                            var d = u,
                                s = u.id;
                            l.delete(s), d.add(a)
                        } else u = new i.default(a);
                        l.set((0, r.default)(u, "clusterToAdd").id, (0, r.default)(u, "clusterToAdd"))
                    }, d = 0; d < o.length; d++) u(d);
                if (a && e.length !== o.length) {
                    var s = new i.default(a);
                    l.set(s.id, s)
                }
                return l
            }, t.participantInCluster = function(e, t) {
                return e.split(i.ID_SEPARATOR).includes(t.toString())
            }, t.singleParticipantClusterId = function(e) {
                return !e.includes(i.ID_SEPARATOR)
            }, t.findClusterForParticipant = function(e, t) {
                var a, n = e.values();
                for (;
                    (a = n.next()) && !a.done;) {
                    var l = a.value;
                    if (l.participants.get(t)) return l
                }
                return null
            };
            var r = l(a(91080)),
                i = n(a(32725))
        },
        27158: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getSmallestElapsedTime = r, t.isStale = function(e) {
                return r(e) >= 600
            }, t.MARKER_SIZE = t.AVATAR_SIZE = t.PIN_SIZE = t.GLOW_SIZE = t.IMAGE_BORDER_SIZE = t.IMAGE_SIZE = t.STALE_THRESHOLD = void 0;
            var l = n(a(319));
            t.STALE_THRESHOLD = 600;
            t.IMAGE_SIZE = 40;
            t.IMAGE_BORDER_SIZE = 2;
            t.GLOW_SIZE = 4;
            t.PIN_SIZE = 4;
            t.AVATAR_SIZE = 44;

            function r(e) {
                var t = e.participants.map((function(e) {
                    return e.elapsedTime()
                }));
                return Math.min.apply(Math, (0, l.default)(t))
            }
            t.MARKER_SIZE = 52
        },
        4945: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(79140)),
                c = l(a(81997)),
                f = l(a(25259)),
                p = n(a(62647)),
                m = l(a(17957)),
                h = l(a(94692)),
                v = l(a(89115)),
                g = l(a(68390)),
                E = l(a(41216)),
                _ = a(83024),
                C = l(a(33172)),
                y = l(a(67890)),
                S = l(a(44589)),
                k = l(a(75131)),
                M = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).onClose = function() {
                            n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                        }, n.onRoadmapSelected = function() {
                            n.setState({
                                mapType: _.MapType.ROADMAP
                            })
                        }, n.onSatelliteSelected = function() {
                            n.setState({
                                mapType: _.MapType.SATELLITE
                            })
                        }, n.onTerrainSelected = function() {
                            n.setState({
                                mapType: _.MapType.TERRAIN
                            })
                        }, n.onTrafficToggled = function() {
                            n.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, n.onMarkerSelected = function(e) {
                            n.setState({
                                markerSelected: e
                            })
                        }, n.state = {
                            mapType: _.MapType.ROADMAP,
                            showTraffic: !1,
                            markerSelected: !1,
                            online: y.default.online
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(y.default, "change:online", (function() {
                                e.setState({
                                    online: y.default.online
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n, l = d.default.createElement(C.default, {
                                    onRoadmapSelected: this.onRoadmapSelected,
                                    onSatelliteSelected: this.onSatelliteSelected,
                                    onTerrainSelected: this.onTerrainSelected,
                                    onTrafficToggled: this.onTrafficToggled,
                                    showTraffic: this.state.showTraffic
                                }),
                                r = this.props.msg,
                                i = r.finalLat,
                                o = r.finalLng,
                                u = r.finalTimeOffset,
                                m = r.lat,
                                g = r.lng,
                                _ = r.senderObj,
                                y = r.t,
                                S = this.state,
                                M = S.mapType,
                                T = S.showTraffic,
                                I = S.markerSelected;
                            return void 0 === i || void 0 === o || void 0 === u ? (e = m, t = g, a = y) : (e = i, t = o, a = y + u), n = S.online ? d.default.createElement("div", {
                                className: h.default.wrapper
                            }, d.default.createElement(E.default, {
                                contact: _,
                                lat: e,
                                lng: t,
                                mapType: M,
                                showTraffic: T,
                                markerSelected: I,
                                onMarkerSelected: this.onMarkerSelected
                            }), d.default.createElement("div", {
                                className: h.default.notification
                            }, d.default.createElement("div", {
                                className: h.default.ended
                            }, v.default.t(944)), d.default.createElement("div", {
                                className: h.default.lastUpdated
                            }, s.default.liveLocationLastUpdatedStr(a)))) : d.default.createElement("div", {
                                className: h.default.offline
                            }, d.default.createElement("div", null, d.default.createElement("div", {
                                className: h.default.circle
                            }, d.default.createElement(k.default, {
                                name: "live-location-disconnected"
                            })), d.default.createElement("div", {
                                className: h.default.text
                            }, v.default.t(991)))), d.default.createElement(c.default, null, d.default.createElement(p.default, {
                                title: v.default.t(945),
                                type: p.DRAWER_HEADER_TYPE.SMALL,
                                menu: l,
                                onCancel: this.onClose
                            }), d.default.createElement(f.default, null, n))
                        }
                    }]), a
                }(d.PureComponent);
            M.CONCERNS = {
                msg: ["finalLat", "finalLng", "finalTimeOffset", "lat", "lng", "senderObj", "t"]
            }, M.displayName = "ExpiredLocationDrawer";
            var T = (0, m.default)((0, g.default)((0, S.default)(M, M.CONCERNS)));
            t.default = T
        },
        41216: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = a(12035),
                s = n(a(67294)),
                c = a(33458),
                f = a(83024),
                p = l(a(94972)),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).setMap = function(e) {
                            return n.map = e
                        }, n.mapOnClick = function() {
                            n.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, n.markerOnClick = function() {
                            n.dismissMarkerTimer.isScheduled() && n.dismissMarkerTimer.cancel(), n.props.onMarkerSelected(!0)
                        }, n.getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, n.dismissMarkerTimer = new d.ShiftTimer((function() {
                            n.props.markerSelected && n.props.onMarkerSelected(!1)
                        })), n
                    }
                    return (0, i.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "getMapPaneName",
                        value: function() {
                            return c.OverlayView.OVERLAY_MOUSE_TARGET
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.lat,
                                n = t.lng,
                                l = t.contact,
                                r = t.markerSelected;
                            return s.default.createElement(p.default, {
                                marker: {
                                    isLive: !1,
                                    contact: l,
                                    lat: a,
                                    lng: n,
                                    selected: r,
                                    onClick: function(t) {
                                        return e.markerOnClick(t)
                                    }
                                }
                            })
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? s.default.createElement(c.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.lat,
                                a = e.lng;
                            return s.default.createElement(c.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: {
                                    lat: t,
                                    lng: a
                                },
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: f.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick
                            }, this.getMarkers(), this.getTrafficLayer())
                        }
                    }]), a
                }(s.Component);
            m.displayName = "ExpiredLocationMap";
            var h = (0, f.withConfig)((0, c.withScriptjs)((0, c.withGoogleMap)(m)));
            t.default = h
        },
        43365: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = l(a(96486)),
                f = n(a(67294)),
                p = l(a(32825)),
                m = n(a(97440)),
                h = l(a(34541)),
                v = a(27158),
                g = l(a(81997)),
                E = l(a(25259)),
                _ = n(a(62647)),
                C = l(a(17957)),
                y = l(a(26658)),
                S = l(a(89115)),
                k = l(a(68390)),
                M = l(a(71951)),
                T = l(a(67430)),
                I = a(83024),
                b = l(a(33172)),
                P = l(a(67890)),
                w = l(a(97856)),
                L = l(a(30440)),
                O = l(a(44589)),
                D = a(89305),
                N = l(a(75131)),
                R = l(a(35997)),
                A = n(a(92631)),
                x = l(a(12717)),
                F = a(75793),
                U = ["click", "mousedown", "mousemove", "scroll"],
                B = "ACTIVE",
                G = "INACTIVE",
                H = "OFFLINE",
                j = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._onParticipantAdd = function() {
                            var e = n.state,
                                t = e.zoomLevel,
                                a = e.selectedParticipantId;
                            n._updateMinZoomClusters(), n.setState({
                                clusters: n._getClusters(t, a)
                            })
                        }, n.onParticipantRemove = function(e) {
                            var t = n.state,
                                a = t.selectedClusterId,
                                l = t.selectedParticipantId,
                                r = t.zoomLevel;
                            n._updateMinZoomClusters();
                            var i = a,
                                o = l;
                            a && (0, m.participantInCluster)(a, e.id) && (i = null), x.default.equals(l, e.id) && (o = null), n.setState({
                                selectedClusterId: i,
                                selectedParticipantId: o,
                                clusters: n._getClusters(r, o)
                            })
                        }, n._onParticipantDisable = function(e) {
                            if (!e.isMe) {
                                var t = e.contact.formattedName;
                                h.default.openToast(f.default.createElement(A.default, {
                                    msg: S.default.t(968, {
                                        name: t
                                    }),
                                    id: (0, A.genId)()
                                }))
                            }
                        }, n.onLocationChanged = function() {
                            var e = n.state,
                                t = e.zoomLevel,
                                a = e.selectedParticipantId;
                            n._updateMinZoomClusters(), n.setState({
                                clusters: n._getClusters(t, a)
                            })
                        }, n.onIdle = function() {
                            var e = n.props.chat.liveLocation;
                            e && (e.stopViewingMap(), n.setState({
                                status: G
                            }))
                        }, n.onActivity = c.default.throttle((function() {
                            n._removeIdleTimeout(), n._addIdleTimeout()
                        }), 250), n._onRefresh = function() {
                            var e = n.props.chat.liveLocation;
                            e && (e.startViewingMap(), n.setState({
                                status: B
                            }))
                        }, n.onClose = function() {
                            n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                        }, n.onMarkerSelected = function(e) {
                            e ? (0, m.singleParticipantClusterId)(e) ? n.onParticipantSelected(e) : n._onClusterSelected(e) : n.onClearSelected()
                        }, n.onClearSelected = function() {
                            var e = n.state,
                                t = e.selectedParticipantId,
                                a = e.selectedClusterId,
                                l = e.zoomLevel;
                            (t || a) && n.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                clusters: n._getClusters(l)
                            })
                        }, n._onClusterSelected = function(e) {
                            n.state.selectedClusterId !== e && n.setState({
                                selectedParticipantId: null,
                                selectedClusterId: e
                            })
                        }, n.onParticipantSelected = function(e) {
                            var t = n.state,
                                a = t.selectedParticipantId,
                                l = t.zoomLevel,
                                r = (0, F.createWid)(e);
                            x.default.equals(a, r) || n.setState({
                                selectedParticipantId: r,
                                selectedClusterId: null,
                                clusters: n._getClusters(l, r)
                            })
                        }, n.onStopSharing = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = n.props.chat;
                            h.default.openModal(f.default.createElement(M.default, {
                                chat: t
                            }))
                        }, n.onRoadmapSelected = function() {
                            n.setState({
                                mapType: I.MapType.ROADMAP
                            })
                        }, n.onSatelliteSelected = function() {
                            n.setState({
                                mapType: I.MapType.SATELLITE
                            })
                        }, n.onTerrainSelected = function() {
                            n.setState({
                                mapType: I.MapType.TERRAIN
                            })
                        }, n.onTrafficToggled = function() {
                            n.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, n._onBackToCenter = function() {
                            n.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                atCenter: !0,
                                clusters: n._getClusters(n.state.zoomLevel)
                            })
                        }, n.onMapMoved = function(e, t) {
                            n.setState((function(a) {
                                var l = {};
                                if (a.zoomLevel !== e) {
                                    var r = n._getClusters(e, a.selectedParticipantId);
                                    Object.assign(l, {
                                        zoomLevel: e,
                                        clusters: r
                                    })
                                }
                                return n._hasValidParticipants() && a.atCenter !== t && Object.assign(l, {
                                    atCenter: t
                                }), c.default.isEmpty(l) ? null : l
                            }))
                        }, n._updateMinZoomClusters(), n.state = {
                            clusters: n._getClusters(I.INITIAL_ZOOM),
                            selectedClusterId: null,
                            selectedParticipantId: null,
                            mapType: I.MapType.ROADMAP,
                            showTraffic: !1,
                            zoomLevel: I.INITIAL_ZOOM,
                            atCenter: !0,
                            status: P.default.online ? B : H
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._listenToModelChange(), this._listenToNetworkChange(), this._startCheckingForIdle();
                            var e = this.props.chat.liveLocation;
                            e && (e.startViewingMap(), this._addParticipantListeners(e))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.onActivity.cancel();
                            var e = this.props.chat.liveLocation;
                            e && e.stopViewingMap()
                        }
                    }, {
                        key: "_addParticipantListeners",
                        value: function(e) {
                            this.props.listeners.add(e.participants, "add", this._onParticipantAdd), this.props.listeners.add(e.participants, "remove", this.onParticipantRemove), this.props.listeners.add(e.participants, "change:disabled", this._onParticipantDisable), this.props.listeners.add(e.participants, "change:valid", this.onLocationChanged)
                        }
                    }, {
                        key: "_removeParticipantListeners",
                        value: function(e) {
                            this.props.listeners.remove(e.participants, "add", this._onParticipantAdd), this.props.listeners.remove(e.participants, "remove", this.onParticipantRemove), this.props.listeners.remove(e.participants, "change:disabled", this._onParticipantDisable), this.props.listeners.remove(e.participants, "change:valid", this.onLocationChanged)
                        }
                    }, {
                        key: "_listenToModelChange",
                        value: function() {
                            var e = this,
                                t = this.props.chat;
                            this.props.listeners.add((0, D.unproxy)(t), "change:liveLocation", (function() {
                                var a = t.liveLocation;
                                a && (e._removeParticipantListeners(a), e._addParticipantListeners(a));
                                var n = e.state.zoomLevel;
                                e.setState({
                                    clusters: e._getClusters(n)
                                })
                            }))
                        }
                    }, {
                        key: "_listenToNetworkChange",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(P.default, "change:online", (function() {
                                P.default.online || e._stopCheckingForIdle(), e.setState({
                                    status: P.default.online ? B : H
                                })
                            }))
                        }
                    }, {
                        key: "_startCheckingForIdle",
                        value: function() {
                            this._addIdleTimeout(), this._addActivityListeners()
                        }
                    }, {
                        key: "_stopCheckingForIdle",
                        value: function() {
                            this._removeIdleTimeout(), this._removeActivityListeners()
                        }
                    }, {
                        key: "_addIdleTimeout",
                        value: function() {
                            this._idleTimeoutId = this.props.setTimeout(this.onIdle, 18e4)
                        }
                    }, {
                        key: "_removeIdleTimeout",
                        value: function() {
                            null != this._idleTimeoutId && this.props.clearTimeout(this._idleTimeoutId), this._idleTimeoutId = null
                        }
                    }, {
                        key: "_addActivityListeners",
                        value: function() {
                            var e = this;
                            U.forEach((function(t) {
                                e.props.listeners.add(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_removeActivityListeners",
                        value: function() {
                            var e = this;
                            U.forEach((function(t) {
                                e.props.listeners.remove(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_updateMinZoomClusters",
                        value: function() {
                            var e = this.getParticipants(),
                                t = e ? e.validLocations() : [];
                            this._minZoomClusters = (0, m.default)(t, I.MIN_ZOOM, null, v.MARKER_SIZE)
                        }
                    }, {
                        key: "getParticipants",
                        value: function() {
                            var e = this.props.chat.liveLocation;
                            return e ? e.participants : null
                        }
                    }, {
                        key: "_hasValidParticipants",
                        value: function() {
                            var e = this.getParticipants();
                            return !!e && !!e.validLocations().length
                        }
                    }, {
                        key: "_getOpenFromCluster",
                        value: function() {
                            var e = this.getParticipants();
                            if (!e || 0 === e.length) return null;
                            var t = this.props.openFrom,
                                a = null;
                            if (t) a = t;
                            else {
                                var n = e.at(0);
                                n && (a = n.id)
                            }
                            return a ? (0, m.findClusterForParticipant)(this._minZoomClusters, a) : null
                        }
                    }, {
                        key: "_getClusters",
                        value: function(e, t) {
                            var a = this.getParticipants(),
                                n = null,
                                l = [];
                            a && (t && (n = a.get(t)), l = a.validLocations());
                            var r = l,
                                i = [];
                            if (this._minZoomClusters.size > 1) {
                                var o = this._getOpenFromCluster();
                                if (o) {
                                    var u = o.participants;
                                    r = u.validLocations(), i = l.filter((function(e) {
                                        var t = e.id;
                                        return !u.get(t)
                                    }))
                                }
                            }
                            return {
                                primary: (0, m.default)(r, e, n, v.MARKER_SIZE),
                                secondary: (0, m.default)(i, e, n, v.MARKER_SIZE)
                            }
                        }
                    }, {
                        key: "_getList",
                        value: function() {
                            var e, t = this.state,
                                a = t.clusters,
                                n = t.selectedClusterId,
                                l = this.getParticipants();
                            if (l && l.length) {
                                if (n) {
                                    var r = a.primary.get(n) || a.secondary.get(n);
                                    if (r) {
                                        var i = r.participants;
                                        e = f.default.createElement(p.default, {
                                            participants: i,
                                            onParticipantSelected: this.onParticipantSelected,
                                            onClearSelected: this.onClearSelected
                                        })
                                    }
                                }
                                e || (e = f.default.createElement(w.default, {
                                    participants: l,
                                    onParticipantSelected: this.onParticipantSelected,
                                    onStopSharing: this.onStopSharing
                                }))
                            }
                            return e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            this.props.isFirstLevel ? e = this.onClose : t = this.onClose;
                            var a, n, l = this.state,
                                i = l.selectedParticipantId,
                                o = l.selectedClusterId,
                                u = l.mapType,
                                d = l.showTraffic,
                                c = l.atCenter,
                                p = l.status,
                                m = p === B ? f.default.createElement(b.default, {
                                    onRoadmapSelected: this.onRoadmapSelected,
                                    onSatelliteSelected: this.onSatelliteSelected,
                                    onTerrainSelected: this.onTerrainSelected,
                                    onTrafficToggled: this.onTrafficToggled,
                                    showTraffic: d
                                }) : null;
                            if (p === B || p === G) {
                                var h = i && i.toString() || o;
                                a = f.default.createElement("div", {
                                    className: y.default.wrapper
                                }, f.default.createElement("div", {
                                    className: (0, s.default)(y.default.backToCenter, (0, r.default)({}, y.default.visible, !c)),
                                    onClick: this._onBackToCenter
                                }, f.default.createElement(N.default, {
                                    name: "return"
                                })), f.default.createElement(T.default, {
                                    clusters: this.state.clusters.primary,
                                    secondaryClusters: this.state.clusters.secondary,
                                    selectedMarkerId: h,
                                    openFrom: this.props.openFrom,
                                    mapType: u,
                                    showTraffic: d,
                                    atCenter: c,
                                    onMarkerSelected: this.onMarkerSelected,
                                    onClearSelected: this.onClearSelected,
                                    onLocationChanged: this.onLocationChanged,
                                    onMapMoved: this.onMapMoved
                                }), this._getList())
                            }
                            if (p === G || p === H) {
                                var v = p === G,
                                    C = v ? "live-location-refresh" : "live-location-disconnected",
                                    k = v ? S.default.t(956) : S.default.t(991);
                                n = f.default.createElement(L.default, {
                                    inactive: v,
                                    svgName: C,
                                    text: k,
                                    onClick: v ? this._onRefresh : void 0
                                })
                            }
                            return f.default.createElement(g.default, null, f.default.createElement(_.default, {
                                title: S.default.t(969),
                                type: _.DRAWER_HEADER_TYPE.SMALL,
                                menu: m,
                                onBack: t,
                                onCancel: e
                            }), f.default.createElement(E.default, null, a, n))
                        }
                    }]), a
                }(f.PureComponent);
            j.CONCERNS = {
                chat: ["id", "liveLocation"]
            }, j.displayName = "LiveLocationDrawer";
            var V = (0, C.default)((0, R.default)((0, k.default)((0, O.default)(j, j.CONCERNS))));
            t.default = V
        },
        67430: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(63038)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = a(12035),
                c = l(a(96486)),
                f = n(a(67294)),
                p = a(33458),
                m = a(83024),
                h = l(a(94972)),
                v = a(37139),
                g = 1e-4,
                E = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).setMap = function(e) {
                            return n.map = e
                        }, n.handleLocationChanged = function(e) {
                            var t = n.props,
                                a = t.clusters,
                                l = t.atCenter,
                                r = t.selectedMarkerId;
                            if (n.props.onLocationChanged(), !r && l) n._viewAllClusters();
                            else if (r && r === e) {
                                var i = a.get(r);
                                i && n._viewSingleCluster(i)
                            }
                        }, n.handleIdle = c.default.debounce((function() {
                            var e = n.map;
                            if (e) {
                                var t = e.getZoom();
                                if (n._zoomingToAllClusters) {
                                    n._defaultZoomLevel = t, n._zoomingToAllClusters = !1;
                                    var a = n._zoomHistory;
                                    if (a.prev.preZoom === a.curr.postZoom && a.prev.postZoom === a.curr.preZoom) return
                                }
                                n.props.onMapMoved(t, n.atCenter())
                            }
                        }), 100), n.handleDragStart = function() {
                            var e = n.map;
                            if (e) {
                                var t = e.getZoom();
                                n.props.onMapMoved(t, !1)
                            }
                        }, n.handleResize = c.default.debounce((function() {
                            n._setMapLatLngDiff()
                        }), 250), n.mapOnClick = function() {
                            n.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, n.markerOnClick = function(e, t) {
                            n.dismissMarkerTimer.isScheduled() && n.dismissMarkerTimer.cancel(), n.props.onMarkerSelected(t)
                        }, n.dismissMarkerTimer = new s.ShiftTimer((function() {
                            n.props.selectedMarkerId && n.props.onClearSelected()
                        })), n._defaultLatDiff = n._defaultLngDiff = .01, n._defaultZoomLevel = -1, n._zoomingToAllClusters = !1, n._zoomHistory = {
                            prev: {
                                preZoom: -1,
                                postZoom: -1
                            },
                            curr: {
                                preZoom: -1,
                                postZoom: -1
                            }
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.handleIdle.cancel(), this.handleResize.cancel(), window.removeEventListener("resize", this.handleResize), this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            window.addEventListener("resize", this.handleResize), this._setMapLatLngDiff(), this._viewAllClusters()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e) {
                            var t = this.props,
                                a = t.clusters,
                                n = t.secondaryClusters,
                                l = t.selectedMarkerId,
                                r = t.atCenter,
                                i = e.selectedMarkerId;
                            if (this._setMapLatLngDiff(), a.size && (!i || l || r))
                                if (l && i !== l) {
                                    var o = a.get(l) || n.get(l);
                                    o && this._viewSingleCluster(o)
                                } else !l && r && this._viewAllClusters()
                        }
                    }, {
                        key: "_viewAllClusters",
                        value: function() {
                            var e = this.props.clusters;
                            0 === e.size || this.atCenter() || (this._zoomToFitAllClusters(e), this._centerAllClusters(e))
                        }
                    }, {
                        key: "_viewSingleCluster",
                        value: function(e) {
                            this._zoomToFitSingleCluster(e), this._centerSingleCluster(e)
                        }
                    }, {
                        key: "_zoomToFitAllClusters",
                        value: function(e) {
                            var t = this.map;
                            if (t) {
                                this._zoomingToAllClusters = !0, this._zoomHistory.prev.preZoom = this._zoomHistory.curr.preZoom, this._zoomHistory.curr.preZoom = t.getZoom();
                                var a = this.getBounds(e),
                                    n = e.entries().next();
                                if (1 !== e.size || n.done) this._boundsTooSmall(a) ? t.fitBounds(this._getDefaultBounds(a.getCenter())) : t.fitBounds(a);
                                else {
                                    var l = (0, r.default)(n.value, 2)[1];
                                    this._zoomToFitSingleCluster(l, !1)
                                }
                                this._zoomHistory.prev.postZoom = this._zoomHistory.curr.postZoom, this._zoomHistory.curr.postZoom = t.getZoom()
                            }
                        }
                    }, {
                        key: "_zoomToFitSingleCluster",
                        value: function(e) {
                            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                                a = this.map;
                            if (a && (!t || !this._boundsTooSmall(a.getBounds()))) {
                                var n = e.northeast,
                                    l = e.southwest,
                                    r = new google.maps.LatLng(n.lat, n.lng),
                                    i = new google.maps.LatLng(l.lat, l.lng),
                                    o = new google.maps.LatLngBounds(i, r);
                                this._boundsTooSmall(o) ? a.fitBounds(this._getDefaultBounds(o.getCenter())) : a.fitBounds(o)
                            }
                        }
                    }, {
                        key: "_centerAllClusters",
                        value: function(e) {
                            var t = this.getBounds(e).getCenter();
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerSingleCluster",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.center);
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerMap",
                        value: function(e) {
                            var t = this.map;
                            t && (t.getCenter().equals(e) || t.panTo(e))
                        }
                    }, {
                        key: "_getInitialCenter",
                        value: function() {
                            return this.getBounds(this.props.clusters).getCenter()
                        }
                    }, {
                        key: "getBounds",
                        value: function(e) {
                            var t = new google.maps.LatLngBounds;
                            return e.forEach((function(e) {
                                t.extend({
                                    lat: e.lat,
                                    lng: e.lng
                                })
                            })), t
                        }
                    }, {
                        key: "_boundsTooSmall",
                        value: function(e) {
                            var t = e.getNorthEast(),
                                a = e.getSouthWest(),
                                n = t.lat() - a.lat(),
                                l = t.lng() - a.lng(),
                                r = Math.abs(n) < this._defaultLatDiff,
                                i = Math.abs(l) < this._defaultLngDiff;
                            return r || i
                        }
                    }, {
                        key: "_getDefaultBounds",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.lat() - this._defaultLatDiff / 2, e.lng() - this._defaultLngDiff / 2),
                                a = new google.maps.LatLng(e.lat() + this._defaultLatDiff / 2, e.lng() + this._defaultLngDiff / 2);
                            return new google.maps.LatLngBounds(t, a)
                        }
                    }, {
                        key: "atCenter",
                        value: function() {
                            var e = this.map;
                            if (!e) return !0;
                            var t = e.getCenter(),
                                a = this._getInitialCenter(),
                                n = t.lat() - a.lat(),
                                l = t.lng() - a.lng();
                            return Math.abs(n) < g && Math.abs(l) < g && this._defaultZoomLevel === e.getZoom()
                        }
                    }, {
                        key: "_setMapLatLngDiff",
                        value: function() {
                            var e = this.map;
                            if (e) {
                                var t = e.getCenter(),
                                    a = e.getDiv(),
                                    n = (0, v.getMetersPerPixel)(t.lat(), m.INITIAL_ZOOM),
                                    l = a.offsetWidth * n,
                                    r = a.offsetHeight * n;
                                this._defaultLatDiff = (0, v.getLatDiff)(r), this._defaultLngDiff = (0, v.getLngDiff)(l, t.lat())
                            }
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.clusters,
                                n = t.secondaryClusters,
                                l = t.selectedMarkerId,
                                r = [],
                                i = function(t, a) {
                                    r.push(f.default.createElement(h.default, {
                                        key: a,
                                        marker: {
                                            isLive: !0,
                                            cluster: t,
                                            onLocationChanged: function() {
                                                return e.handleLocationChanged(a)
                                            },
                                            selected: l === a,
                                            onClick: function(t) {
                                                return e.markerOnClick(t, a)
                                            }
                                        }
                                    }))
                                };
                            return a.forEach(i), n.forEach(i), r
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? f.default.createElement(p.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return f.default.createElement(p.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: this._getInitialCenter(),
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: m.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                onDragStart: this.handleDragStart,
                                onIdle: this.handleIdle
                            }, this.getMarkers(), this.getTrafficLayer())
                        }
                    }]), a
                }(f.Component);
            E.displayName = "LiveLocationMap";
            var _ = (0, m.withConfig)((0, p.withScriptjs)((0, p.withGoogleMap)(E)));
            t.default = _
        },
        83024: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.withConfig = function(e) {
                return function(t) {
                    (0, u.default)(n, t);
                    var a = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var t = arguments.length, l = new Array(t), r = 0; r < t; r++) l[r] = arguments[r];
                        return (e = a.call.apply(a, [this].concat(l))).state = {
                            authFailed: !0 === window.gm_authFailed
                        }, e._onAuthFailed = function() {
                            window.gm_authFailed = !0, e.setState({
                                authFailed: !0
                            });
                            var t = e._getUrl(),
                                a = String(p.default.googleMapsDoNotAuth),
                                n = String(p.default.googleMapsKeyless);
                            __LOG__(4, void 0, new Error, !0)`url: ${t}\ntarget: ${"electron-renderer"}\nprops; ${a} & ${n}`, SEND_LOGS("google-map-auth-failed")
                        }, e
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            window.gm_authFailure = this._onAuthFailed
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            window.gm_authFailure = void 0
                        }
                    }, {
                        key: "_getUrl",
                        value: function() {
                            var e = {
                                client: "gme-whatsappinc",
                                v: "3",
                                libraries: "geometry,drawing,places",
                                t: Math.floor(Date.now() / 864e5)
                            };
                            return h.default.build("https://maps.googleapis.com/maps/api/js", e)
                        }
                    }, {
                        key: "getMapOptions",
                        value: function() {
                            return {
                                clickableIcons: !1,
                                fullscreenControl: !1,
                                keyboardShortcuts: !1,
                                mapTypeControl: !1,
                                minZoom: 3,
                                streetViewControl: !1,
                                zoomControl: !0,
                                zoomControlOptions: {
                                    position: google.maps.ControlPosition.TOP_RIGHT
                                }
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            if (this.state.authFailed) return s.default.createElement("div", {
                                className: f.default.authFailed
                            }, c.default.t(803));
                            var t = this._getUrl(),
                                a = s.default.createElement("div", {
                                    className: f.default.loading
                                }, s.default.createElement(m.default, {
                                    color: "highlight"
                                })),
                                n = s.default.createElement("div", {
                                    className: f.default.container
                                }),
                                l = s.default.createElement("div", {
                                    className: f.default.map
                                });
                            return s.default.createElement(e, (0, r.default)({
                                googleMapURL: t,
                                loadingElement: a,
                                containerElement: n,
                                mapElement: l,
                                getMapOptions: this.getMapOptions
                            }, this.props))
                        }
                    }]), n
                }(s.Component)
            }, t.MIN_ZOOM = t.INITIAL_ZOOM = t.MapType = void 0;
            var r = l(a(67154)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = n(a(67294)),
                c = l(a(89115)),
                f = l(a(89332)),
                p = l(a(63056)),
                m = l(a(87729)),
                h = l(a(69267)),
                v = a(54302)({
                    ROADMAP: "roadmap",
                    SATELLITE: "satellite",
                    TERRAIN: "terrain"
                });
            t.MapType = v;
            t.INITIAL_ZOOM = 15;
            t.MIN_ZOOM = 3
        },
        94972: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = a(33458),
                p = l(a(58692)),
                m = a(27158),
                h = l(a(68390)),
                v = l(a(92018)),
                g = l(a(13084)),
                E = l(a(35997)),
                _ = l(a(3609)),
                C = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._setOverlay = function(e) {
                            n.overlay = e
                        }, n.handleLocationChanged = function() {
                            n.props.marker.isLive && n.props.marker.onLocationChanged()
                        }, n._handleLastUpdatedTimeChanged = function() {
                            if (n.props.marker.isLive) {
                                null != n.timeoutId && (n.props.clearTimeout(n.timeoutId), n.timeoutId = null);
                                var e = (0, m.isStale)(n.props.marker.cluster);
                                n.state.stale !== e && n.setState({
                                    stale: e
                                }), e || n._setStaleTimeout()
                            }
                        }, n._getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, n.state = {
                            stale: !e.marker.isLive || (0, m.isStale)(e.marker.cluster)
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster;
                                (0, m.isStale)(t) || this._setStaleTimeout(), t.participants.forEach((function(t) {
                                    e.props.listeners.add(t, "change:lat change:lng", e.handleLocationChanged), e.props.listeners.add(t, "change:lastUpdated", e._handleLastUpdatedTimeChanged)
                                }))
                            }
                        }
                    }, {
                        key: "_setStaleTimeout",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster,
                                    a = m.STALE_THRESHOLD - (0, m.getSmallestElapsedTime)(t);
                                a <= 0 || (this.timeoutId = this.props.setTimeout((function() {
                                    return e.setState({
                                        stale: !0
                                    })
                                }), 1e3 * a))
                            }
                        }
                    }, {
                        key: "_getMapPaneName",
                        value: function() {
                            return this.props.marker.onClick ? f.OverlayView.OVERLAY_MOUSE_TARGET : f.OverlayView.OVERLAY_LAYER
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n, l, i = this.props.marker,
                                o = i.onClick,
                                u = i.selected,
                                d = this.state.stale;
                            if (this.props.marker.isLive) {
                                var h = this.props.marker.cluster;
                                t = h.lat, a = h.lng, n = h.participants.map((function(e) {
                                    return e.id
                                }))
                            } else t = this.props.marker.lat, a = this.props.marker.lng, n = [this.props.marker.contact.id];
                            if (u) {
                                var E, C, y;
                                if (this.props.marker.isLive) {
                                    var S = this.props.marker.cluster,
                                        k = S.participants,
                                        M = S.hasSingleParticipant() ? k.at(0) : null;
                                    M && (E = M.id, C = M.accuracy, y = M.isMe)
                                } else {
                                    var T = this.props.marker.contact;
                                    E = T.id, y = T.isMe
                                }
                                E && (l = c.default.createElement(g.default, {
                                    id: E,
                                    lat: t,
                                    lng: a,
                                    accuracy: C,
                                    isMe: y || !1,
                                    markerSize: m.MARKER_SIZE
                                }))
                            }
                            return c.default.createElement(f.OverlayView, {
                                ref: this._setOverlay,
                                position: {
                                    lat: t,
                                    lng: a
                                },
                                mapPaneName: this._getMapPaneName(),
                                getPixelPositionOffset: this._getPixelPositionOffset
                            }, c.default.createElement(_.default.Provider, {
                                value: this.context
                            }, c.default.createElement("div", {
                                className: (0, s.default)(v.default.container, (0, r.default)({}, v.default.selected, u)),
                                onClick: o
                            }, l, c.default.createElement("div", {
                                className: (0, s.default)(v.default.glow, (e = {}, (0, r.default)(e, v.default.stale, d), (0, r.default)(e, v.default.expired, !this.props.marker.isLive), e)),
                                style: {
                                    height: m.AVATAR_SIZE,
                                    width: m.AVATAR_SIZE,
                                    padding: m.GLOW_SIZE
                                }
                            }, c.default.createElement("div", null, c.default.createElement(p.default, {
                                ids: n,
                                size: m.IMAGE_SIZE,
                                border: !0,
                                showCount: !0
                            }))), c.default.createElement("div", {
                                className: (0, s.default)(v.default.pin, (0, r.default)({}, v.default.selected, u)),
                                style: {
                                    height: m.PIN_SIZE,
                                    width: m.PIN_SIZE,
                                    marginLeft: (m.MARKER_SIZE - m.PIN_SIZE) / 2
                                }
                            }))))
                        }
                    }]), a
                }(c.Component);
            C.contextType = _.default, C.displayName = "LiveLocationMarker";
            var y = (0, E.default)((0, h.default)(C));
            t.default = y
        },
        33172: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return r.default.createElement(d.MenuBarItem, {
                    a8nText: "live-location-map-menu",
                    icon: r.default.createElement(s.default, {
                        name: "menu"
                    }),
                    title: u.default.t(1046)
                }, r.default.createElement(i.default, {
                    type: "dropdown_menu",
                    flipOnRTL: !0,
                    dirX: i.DirX.LEFT,
                    dirY: i.DirY.BOTTOM
                }, r.default.createElement(o.default, {
                    a8n: "mi-roadmap-view menu-item",
                    action: e.onRoadmapSelected
                }, u.default.t(951)), r.default.createElement(o.default, {
                    a8n: "mi-satellite-view menu-item",
                    action: e.onSatelliteSelected
                }, u.default.t(952)), r.default.createElement(o.default, {
                    a8n: "mi-terrain-view menu-item",
                    action: e.onTerrainSelected
                }, u.default.t(953)), r.default.createElement(o.default, {
                    a8n: "mi-traffic menu-item",
                    action: e.onTrafficToggled
                }, e.showTraffic ? u.default.t(954) : u.default.t(955))))
            };
            var r = l(a(67294)),
                i = n(a(75300)),
                o = l(a(33079)),
                u = l(a(89115)),
                d = a(53418),
                s = l(a(75131))
        },
        97856: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(63637)),
                c = l(a(30854)),
                f = l(a(60482)),
                p = l(a(55959)),
                m = l(a(50842)),
                h = l(a(89115)),
                v = l(a(6304)),
                g = l(a(63687)),
                E = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).flatListController = new m.default, e.renderListItem = function(t) {
                            var a = t.participant,
                                n = a.valid ? d.default.createElement(c.default, {
                                    reason: "live-location-time"
                                }, d.default.createElement(g.default, {
                                    participant: a
                                })) : h.default.t(977),
                                l = a.valid ? function() {
                                    return e.props.onParticipantSelected(a.contact.id.toString())
                                } : null,
                                r = a.isMe ? d.default.createElement("div", {
                                    onClick: e.props.onStopSharing,
                                    className: v.default.stopSharingButton
                                }, h.default.t(967)) : null;
                            return d.default.createElement(s.default, {
                                contact: a.contact,
                                secondary: n,
                                onClick: l,
                                detail: r
                            })
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "getListData",
                        value: function() {
                            return this.props.participants.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    contentKey: e.valid ? "valid" : "invalid",
                                    participant: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.getListData();
                            return d.default.createElement(p.default, {
                                className: v.default.list,
                                flatListControllers: [this.flatListController]
                            }, d.default.createElement(f.default, {
                                data: e,
                                renderItem: this.renderListItem,
                                flatListController: this.flatListController,
                                direction: "vertical"
                            }))
                        }
                    }]), a
                }(d.Component);
            E.displayName = "LiveLocationParticipants";
            var _ = E;
            t.default = _
        },
        13084: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(26671)),
                p = l(a(34541)),
                m = l(a(4990)),
                h = l(a(48629)),
                v = l(a(33079)),
                g = a(19129),
                E = l(a(89115)),
                _ = a(76064),
                C = l(a(45706)),
                y = l(a(22828)),
                S = l(a(75131)),
                k = l(a(4268)),
                M = l(a(88117)),
                T = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).mouseEnter = function() {
                            n.state.hover || n.setState({
                                hover: !0
                            })
                        }, n.mouseLeave = function() {
                            n.state.hover && n.setState({
                                hover: !1
                            })
                        }, n._handleDirection = function() {
                            var e = n.props,
                                t = e.lat,
                                a = e.lng;
                            (0, g.openExternalLink)((0, _.getDirectionUrl)(t, a))
                        }, n.handleMessage = function() {
                            var e = n.props.id;
                            f.default.find(e).then((function(e) {
                                e.active && p.default.existsDrawerRight((function(e) {
                                    e && 2 === m.default.column && p.default.closeDrawerRight()
                                })), p.default.openChatFromUnread(e).then((function(t) {
                                    t && p.default.focusChatTextInput(e)
                                }))
                            }))
                        }, n._handleContextOpen = function(e) {
                            var t = e && e.target;
                            n.setState({
                                contextMenu: {
                                    menu: n._getContextMenu(),
                                    anchor: t
                                }
                            })
                        }, n.handleContextClose = function() {
                            n.setState({
                                contextMenu: !1
                            })
                        }, n.state = {
                            hover: !1,
                            contextMenu: !1
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "_getContextMenu",
                        value: function() {
                            var e = [];
                            return e.push(c.default.createElement(v.default, {
                                key: "direction",
                                a8n: "get-directions",
                                action: this._handleDirection
                            }, E.default.t(777))), e.push(c.default.createElement(v.default, {
                                key: "message",
                                a8n: "send-message",
                                action: this.handleMessage
                            }, E.default.t(1047))), e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.id,
                                a = e.accuracy,
                                n = e.isMe,
                                l = e.markerSize,
                                i = h.default.assertGet(t),
                                o = c.default.createElement("div", {
                                    className: y.default.name
                                }, c.default.createElement(C.default, {
                                    ellipsify: !0,
                                    you: !0,
                                    contact: i
                                })),
                                u = null != a ? c.default.createElement("div", {
                                    className: y.default.status
                                }, E.default.t(942, {
                                    accuracy: a,
                                    _plural: a
                                })) : null,
                                d = n ? null : c.default.createElement("div", {
                                    onClick: this._handleContextOpen,
                                    className: y.default.menuButton
                                }, c.default.createElement(S.default, {
                                    name: "down"
                                })),
                                f = c.default.createElement("div", {
                                    className: y.default.triangle
                                }),
                                p = !n && this.state.contextMenu ? c.default.createElement(k.default, {
                                    displayName: "LiveLocationPopupContextMenu",
                                    escapable: !0,
                                    popable: !0,
                                    requestDismiss: this.handleContextClose
                                }, c.default.createElement(M.default, {
                                    contextMenu: this.state.contextMenu
                                })) : null;
                            return c.default.createElement("div", {
                                className: (0, s.default)(y.default.container, (0, r.default)({}, y.default.twoLines, !!u)),
                                style: {
                                    transform: `translateX(calc(-50% + ${l/2}px))`
                                }
                            }, c.default.createElement("div", {
                                className: y.default.popup,
                                onMouseOver: this.mouseEnter,
                                onMouseEnter: this.mouseEnter,
                                onMouseDown: this.mouseLeave,
                                onMouseUp: this.mouseEnter,
                                onMouseLeave: this.mouseLeave
                            }, o, u, d), f, p)
                        }
                    }]), a
                }(c.Component);
            t.default = T, T.displayName = "LiveLocationPopup"
        },
        30440: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return l.default.createElement("div", {
                    className: e.inactive ? r.default.inactive : r.default.offline,
                    onClick: e.onClick
                }, l.default.createElement("div", null, l.default.createElement("div", {
                    className: r.default.circle
                }, l.default.createElement(i.default, {
                    name: e.svgName
                })), l.default.createElement("div", {
                    className: r.default.text
                }, e.text)))
            };
            var l = n(a(67294)),
                r = n(a(26658)),
                i = n(a(75131))
        },
        63687: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(63038)),
                i = n(a(67294)),
                o = l(a(89115)),
                u = l(a(20662)),
                d = a(19247),
                s = a(94768),
                c = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        a = e;
                    t && (a += 59);
                    var n = 3600,
                        l = Math.floor(a / n),
                        r = a % n,
                        i = Math.floor(r / 60);
                    return {
                        hours: l,
                        minutes: i
                    }
                },
                f = function(e) {
                    var t, a, n, l;
                    return e.isMe ? (t = e.remainingTime(), a = c(t, !0), n = a.hours, l = a.minutes, n > 0 ? l > 0 ? o.default.t(958, {
                        hours: n,
                        minutes: l
                    }) : o.default.t(957, {
                        hours: n,
                        _plural: n
                    }) : o.default.t(959, {
                        minutes: l,
                        _plural: l
                    })) : function(e) {
                        var t = c(e),
                            a = t.hours,
                            n = t.minutes;
                        return a > 0 ? n > 0 ? o.default.t(971, {
                            hours: a,
                            minutes: n
                        }) : o.default.t(970, {
                            hours: a,
                            _plural: a
                        }) : n > 0 ? o.default.t(973, {
                            minutes: n,
                            _plural: n
                        }) : o.default.t(972)
                    }(e.elapsedTime())
                },
                p = function(e) {
                    var t = e.participant,
                        a = (0, i.useState)((function() {
                            return f(t)
                        })),
                        n = (0, r.default)(a, 2),
                        l = n[0],
                        o = n[1];
                    (0, d.useListener)(t, t.isMe ? "change:expiration" : "change:lastUpdated", (function(e) {
                        return o(f(e))
                    }));
                    var c = (0, u.default)((function() {
                            return o(f(t))
                        }), 6e4),
                        p = (0, r.default)(c, 2),
                        m = p[0],
                        h = p[1],
                        v = (0, s.useManualTimeout)((function() {
                            o(f(t)), m()
                        })),
                        g = (0, r.default)(v, 1)[0],
                        E = t.expiration,
                        _ = t.lastUpdated;
                    return (0, i.useEffect)((function() {
                        var e = function(e) {
                            return e.isMe ? e.remainingTime() : e.elapsedTime()
                        }(t) % 60;
                        h(), g(1e3 * e)
                    }), [E, _]), i.default.createElement("span", null, l)
                };
            t.default = p
        },
        37139: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getMetersBetweenLatLngs = function(e, t, l, r) {
                var i = n(l - e),
                    o = n(r - t),
                    u = Math.sin(i / 2) * Math.sin(i / 2) + Math.cos(n(e)) * Math.cos(n(l)) * Math.sin(o / 2) * Math.sin(o / 2),
                    d = 2 * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u));
                return a * d
            }, t.getMetersPerPixel = function(e, t) {
                var a = Math.cos(e * Math.PI / 180),
                    n = 1 / Math.pow(2, t);
                return 156543.03392 * a * n
            }, t.getLatDiff = function(e) {
                return l(e / a)
            }, t.getLngDiff = function(e, t) {
                var r = a * Math.cos(n(t));
                return l(e / r)
            };
            var a = 6371e3;

            function n(e) {
                return e * (Math.PI / 180)
            }

            function l(e) {
                return e * (180 / Math.PI)
            }
        },
        17187: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = l(a(16973)),
                f = l(a(81997)),
                p = l(a(25259)),
                m = n(a(62647)),
                h = a(31230),
                v = l(a(89115)),
                g = l(a(6705)),
                E = a(64550),
                _ = l(a(68390)),
                C = l(a(94831)),
                y = l(a(8643)),
                S = n(a(55090)),
                k = l(a(25065)),
                M = l(a(11832)),
                T = a(89305),
                I = l(a(75131)),
                b = 0,
                P = 1,
                w = 2,
                L = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        (0, r.default)(this, a), (n = t.call(this, e)).selectedLabels = new M.default([], (function(e) {
                            return e.id
                        })), n._changeSet = new Set, n.handleMultiSelect = function(e) {
                            e && (n._initialLabelState[e] === w ? n._changeSet.add("{labelId}_changed") : n._changeSet.has(e) ? n._changeSet.delete(e) : n._changeSet.add(e), n.forceUpdate())
                        }, n._constructLabelCountMap = function() {
                            var e = {};
                            return n.props.modelsToUpdate.forEach((function(t) {
                                var a = (0, T.unproxy)(t);
                                a.labels && a.labels.forEach((function(t) {
                                    e[t] = e[t] ? ++e[t] : 1
                                }))
                            })), e
                        }, n._handleUpdateLabelsOK = function() {
                            (0, E.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_POSITIVE, n.props.modelsToUpdate.length, y.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);
                            var e = n.selectedLabels.list,
                                t = n.selectedLabels.selected,
                                a = e.map((function(e, a) {
                                    return {
                                        id: e.id,
                                        type: t[a] ? "add" : "remove"
                                    }
                                }));
                            g.default.addOrRemoveLabels(a, n.props.modelsToUpdate), n.props.onLabelUpdateComplete && n.props.onLabelUpdateComplete()
                        };
                        var l = n.props.modelsToUpdate,
                            i = n._constructLabelCountMap();
                        return n._initialLabelState = d.default.mapValues(i, (function(e) {
                            return e === l.length ? P : e > 0 ? w : b
                        })), n
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = s.default.createElement(c.default, {
                                    a8nText: "popup-controls-ok",
                                    type: "primary",
                                    disabled: 0 === this._changeSet.size,
                                    onClick: this._handleUpdateLabelsOK,
                                    key: 1
                                }, v.default.t(1358)),
                                t = s.default.createElement(c.default, {
                                    a8nText: "popup-controls-cancel",
                                    type: "secondary",
                                    onClick: this.props.onCancel,
                                    key: 0
                                }, v.default.t(1694)),
                                a = (0, h.canEditLabel)() && s.default.createElement("div", {
                                    className: C.default.newLabelBtn
                                }, s.default.createElement(c.default, {
                                    a8nText: "popup-controls-cancel",
                                    type: "simplified",
                                    onClick: this.props.onAddNewLabel,
                                    key: 2
                                }, s.default.createElement(I.default, {
                                    name: "plus-large",
                                    className: C.default.plus,
                                    display: "inline"
                                }), v.default.t(220)));
                            return s.default.createElement(S.default, {
                                type: S.TowerModalType
                            }, s.default.createElement(f.default, {
                                key: "mange_label_modal",
                                theme: "labels"
                            }, s.default.createElement(m.default, {
                                title: v.default.t(926),
                                type: m.DRAWER_HEADER_TYPE.POPUP,
                                onCancel: this.props.onCancel
                            }), s.default.createElement(p.default, {
                                "data-list-scroll-container": !0,
                                theme: "padding"
                            }, s.default.createElement(k.default, {
                                shouldScrollIntoViewAndSelect: this.props.shouldScrollIntoViewAndSelect,
                                initialLabelState: this._initialLabelState,
                                selectedLabels: this.selectedLabels,
                                renderContext: "label-selection",
                                onLabelClick: this.props.onLabelClick,
                                onMultiSelect: this.handleMultiSelect
                            })), a, s.default.createElement("div", {
                                className: C.default.actionBtns
                            }, t, e)))
                        }
                    }]), a
                }(s.Component);
            L.displayName = "ManageLabelModal";
            var O = (0, _.default)(L);
            t.default = O
        },
        38857: (e, t, a) => {
            "use strict";
            var n = a(95318),
                l = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(67294)),
                i = n(a(61386)),
                o = n(a(81997)),
                u = n(a(25259)),
                d = l(a(62647)),
                s = n(a(89115)),
                c = (0, r.forwardRef)((function(e, t) {
                    return r.default.createElement(o.default, {
                        ref: t
                    }, r.default.createElement(d.default, {
                        a8n: "drawer-title-auto-download",
                        title: s.default.t(255),
                        onBack: e.onClose,
                        type: d.DRAWER_HEADER_TYPE.LARGE
                    }), r.default.createElement(u.default, null, r.default.createElement(i.default, {
                        key: "auto-download"
                    })))
                }));
            t.default = c
        },
        83149: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(319)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = a(76304),
                c = n(a(67294)),
                f = l(a(93388)),
                p = l(a(69052)),
                m = l(a(41673)),
                h = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._initCanvas = function() {
                            var e = n.props.editedMedia.originalImage;
                            e.complete ? n.handleImageLoad() : e.onload = n.handleImageLoad
                        }, n.handleImageLoad = function() {
                            var e = n.props.editedMedia.editData;
                            n.props.editedMedia.editedImage = null;
                            var t = n.props.editedMedia.originalImage;
                            if (e.width || e.height || (e.width = t.naturalWidth, e.height = t.naturalHeight), !e.baseItem) {
                                var a = new s.Easel.Bitmap(t);
                                e.baseItem = a
                            }
                            n.drawCanvas(!0)
                        }, n._maybeInitStage = function(e) {
                            var t;
                            return n.state.stage ? t = n.state.stage : (t = new s.Easel.Stage(e)).enableMouseOver(), n.props.mediaEditController.stage = t, t
                        }, n.drawCanvas = function(e, t) {
                            if (n._refStaticCanvas && n._refStaticCanvas.refCanvas) {
                                var a = n._refStaticCanvas.refCanvas;
                                t && n.props.mediaPickerStatsLogger && n.props.mediaPickerStatsLogger.logChange(n.props.activeMediaId || -1, t);
                                var l = n.props.editedMedia,
                                    i = l.editData,
                                    o = n._maybeInitStage(a);
                                e && (a.width = i.width, a.height = i.height), o.removeAllChildren(), null != i.baseItem && o.addChild(i.baseItem), i.items && o.addChild.apply(o, (0, r.default)(i.items));
                                var u = l.originalImage.naturalWidth,
                                    d = l.originalImage.naturalHeight;
                                o.regX = u / 2, o.regY = d / 2, o.rotation = i.rotation, i.width && i.height && (o.x = i.width / 2 + i.scale * i.offsetX, o.y = i.height / 2 + i.scale * i.offsetY), o.scaleX = i.scale, o.scaleY = i.scale, o.update(), n.setState({
                                    canvasSize: {
                                        width: a.width,
                                        height: a.height
                                    },
                                    stage: o
                                })
                            }
                        }, n.saveCanvas = function() {
                            n.drawCanvas(!0);
                            var e = n._refStaticCanvas && n._refStaticCanvas.refCanvas;
                            e && n.props.editedMedia.saveEditsFromCanvas(e)
                        }, n.clearStage = function(e) {
                            e && (e.children.forEach((function(e) {
                                e.removeAllEventListeners()
                            })), e.removeAllEventListeners(), e.removeAllChildren(), e.enableMouseOver(0), e.clear())
                        }, n._setRefStaticCanvas = function(e) {
                            n._refStaticCanvas = e
                        }, n._setRefMediaContainer = function(e) {
                            n._refMediaContainer = e
                        }, n._setRefCropOverlay = function(e) {
                            n._refCropOverlay = e
                        }, n.updateCanvasSize = function(e, t) {
                            n.setState({
                                canvasSize: {
                                    width: e,
                                    height: t
                                }
                            })
                        }, n.state = {
                            canvasSize: {
                                height: 1,
                                width: 1
                            },
                            stage: null,
                            mediaContainer: null
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._initCanvas(), this.setState({
                                mediaContainer: this._refMediaContainer
                            }), this.cropOverlay = new s.Easel.Stage(this._refCropOverlay), this.cropOverlay.autoClear = !1, this.cropOverlay.enableMouseOver(), this._refMediaContainer && (this.props.mediaEditController.mediaContainer = this._refMediaContainer), this.props.mediaEditController.cropOverlay = this.cropOverlay
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e = this.props.editedMedia.originalImage;
                            e.complete || (e.onload = void 0), this.saveCanvas(), this.clearStage(this.state.stage), this.clearStage(this.cropOverlay)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = c.default.createElement("canvas", {
                                ref: this._setRefCropOverlay,
                                className: f.default.cropOverlay
                            });
                            return c.default.createElement("div", {
                                className: this.props.className,
                                ref: this._setRefMediaContainer
                            }, c.default.createElement(p.default, {
                                type: this.props.fitType || "scaleDown",
                                size: this.state.canvasSize
                            }, e, c.default.createElement(m.default, {
                                ref: this._setRefStaticCanvas,
                                className: f.default.mediaViewerImg
                            })))
                        }
                    }]), a
                }(c.Component);
            t.default = h, h.displayName = "MediaEditCanvas"
        },
        84369: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(56727)),
                s = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).stage = (0, d.prop)(), e.cropOverlay = (0, d.prop)(), e.mediaContainer = (0, d.prop)(), e.isInitialized = (0, d.derived)(e._isInitialized, ["stage", "cropOverlay", "mediaContainer"]), e
                    }
                    return (0, i.default)(a, [{
                        key: "_isInitialized",
                        value: function() {
                            return !!this.stage && !!this.cropOverlay && !!this.mediaContainer
                        }
                    }, {
                        key: "clearStage",
                        value: function(e) {
                            e && (e.children.forEach((function(e) {
                                e.removeAllEventListeners()
                            })), e.removeAllEventListeners(), e.removeAllChildren(), e.clear())
                        }
                    }]), a
                }(d.default),
                c = (0, d.defineModel)(s);
            t.default = c
        },
        20465: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = l(a(97930)),
                f = a(35315),
                p = l(a(81997)),
                m = l(a(25259)),
                h = n(a(62647)),
                v = l(a(42715)),
                g = l(a(89115)),
                E = l(a(25850)),
                _ = l(a(84520)),
                C = l(a(32874)),
                y = l(a(40746)),
                S = l(a(75131)),
                k = l(a(79077)),
                M = l(a(38512)),
                T = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).handleImageSet = function(e, t) {
                            n.setState({
                                thumb: e,
                                full: t
                            })
                        }, n.handleContinue = function() {
                            var e = (0, v.default)(n.state.text.trim());
                            (0, f.createGroup)(e, n.state.thumb, n.state.full, n.props.participants, n.state.dogfoodingGroupsInternalOnly), n.props.onContinue()
                        }, n.handleSubjectChange = function(e) {
                            n.setState({
                                text: e
                            })
                        }, n.setRefEmojiInput = function(e) {
                            n.refEmojiInput = e
                        }, n._handleDogfoodingGroupChange = function() {
                            var e = !n.state.dogfoodingGroupsInternalOnly;
                            n.setState({
                                dogfoodingGroupsInternalOnly: e
                            })
                        }, n.state = {
                            text: e.subject || "",
                            thumb: e.thumb,
                            full: e.full,
                            dogfoodingGroupsInternalOnly: !1
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.refEmojiInput && this.refEmojiInput.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.text.trim().length > 0,
                                t = e ? s.default.createElement("div", {
                                    className: E.default.nextButton
                                }, s.default.createElement(y.default, {
                                    a8nText: "create-group-btn",
                                    onClick: d.default.once(this.handleContinue)
                                }, s.default.createElement(S.default, {
                                    name: "checkmark-medium"
                                }))) : null;
                            return s.default.createElement(p.default, null, s.default.createElement(h.default, {
                                title: g.default.t(1189),
                                type: h.DRAWER_HEADER_TYPE.LARGE,
                                onBack: this.props.onBack
                            }), s.default.createElement(m.default, null, s.default.createElement("div", {
                                className: E.default.section
                            }, s.default.createElement(_.default, {
                                type: C.default.GROUP,
                                attachToChat: !1,
                                startImage: this.state.full,
                                onImageSet: this.handleImageSet
                            })), s.default.createElement("div", {
                                "data-a8n": c.default.key("group-subject"),
                                className: E.default.section
                            }, s.default.createElement(k.default, {
                                ref: this.setRefEmojiInput,
                                value: this.state.text,
                                maxLength: 25,
                                showRemaining: !0,
                                onChange: this.handleSubjectChange,
                                placeholder: g.default.t(846),
                                onEnter: e ? d.default.once(this.handleContinue) : function() {},
                                supportsEmoji: !0
                            })), null, s.default.createElement(M.default, {
                                transitionName: "btn"
                            }, t)))
                        }
                    }]), a
                }(s.Component);
            t.default = T, T.displayName = "NewGroupDrawer"
        },
        35370: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(94184)),
                s = l(a(96486)),
                c = n(a(67294)),
                f = l(a(97930)),
                p = a(99703),
                m = l(a(34541)),
                h = l(a(25960)),
                v = l(a(48629)),
                g = l(a(68815)),
                E = l(a(81997)),
                _ = l(a(25259)),
                C = n(a(62647)),
                y = a(67485),
                S = n(a(98569)),
                k = l(a(55959)),
                M = l(a(50842)),
                T = l(a(80413)),
                I = l(a(31722)),
                b = l(a(76568)),
                P = l(a(89115)),
                w = l(a(48566)),
                L = l(a(57818)),
                O = l(a(14883)),
                D = l(a(42027)),
                N = l(a(40746)),
                R = a(36474),
                A = l(a(63056)),
                x = l(a(87729)),
                F = l(a(75131)),
                U = n(a(92631)),
                B = l(a(38512)),
                G = (0, U.genId)("max_participant_toast"),
                H = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            searchText: "",
                            participants: e.props.participants,
                            shouldFocus: !0,
                            isBusy: !1
                        }, e.flatListController = new M.default, e.setRefParticipantList = function(t) {
                            e.refParticipantList = t
                        }, e.setRefList = function(t) {
                            e.refList = t
                        }, e.handleKeyDown = function(t) {
                            if ("Backspace" === t.key && !e.state.searchText && !s.default.isEmpty(e.state.participants)) {
                                t.preventDefault();
                                var a = e.state.participants;
                                e.setState({
                                    participants: a.slice(0, a.length - 1),
                                    shouldFocus: !0
                                })
                            }
                        }, e.handleInput = function(t) {
                            e.setState({
                                searchText: t.target.value
                            })
                        }, e.handleReset = function() {
                            e.setState({
                                searchText: "",
                                shouldFocus: !0
                            })
                        }, e.focus = function() {
                            I.default.focus(e.refInput)
                        }, e.handleBack = function() {
                            e.props.onBack()
                        }, e.handleContinue = function() {
                            e.props.onContinue(e.state.participants)
                        }, e.handleDelete = function(t, a) {
                            var n = s.default.filter(e.state.participants, (function(e) {
                                return !e.id.equals(a.id)
                            }));
                            e.setState({
                                participants: n,
                                shouldFocus: !n.length
                            })
                        }, e.handleContactClick = function(t, a) {
                            e.state.participants.find((function(e) {
                                return e.id.equals(a.id)
                            })) ? e._removeContact(a) : a.isBlocked() ? m.default.openModal(c.default.createElement(h.default, {
                                title: P.default.t(211),
                                onOK: function() {
                                    e._unblockAndAddContact(a), m.default.closeModal()
                                },
                                onCancel: function() {
                                    return m.default.closeModal()
                                },
                                okText: P.default.t(2e3),
                                cancelText: P.default.t(1860)
                            }, P.default.t(209))) : e.addContact(a)
                        }, e.handleFocusList = function(t) {
                            e.refList && (t.preventDefault(), t.stopPropagation(), T.default.shouldIndicateFocus(), e.refList && e.refList.focusFirst())
                        }, e._handleFocusParticipants = function(t) {
                            t.repeat || e.refInput && 0 !== e.refInput.selectionStart || e.refParticipantList && (t.preventDefault(), t.stopPropagation(), b.default.flashFocus = 0, e.refParticipantList && e.refParticipantList.focusLast())
                        }, e.handleSelectFirst = function(t) {
                            t.preventDefault(), t.stopPropagation();
                            var a = e.getFilteredContacts()[0];
                            a && e.handleContactClick(t, a)
                        }, e.handleFocusSearch = function() {
                            T.default.shouldIndicateFocus(), I.default.focus(e.refInput)
                        }, e.setRefInput = function(t) {
                            e.refInput = t
                        }, e._setRefSizer = function(t) {
                            e._refSizer = t
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._adjustInput()
                        }
                    }, {
                        key: "getFilteredContacts",
                        value: function() {
                            var e = s.default.difference(v.default.getFilteredContacts(), this.state.participants),
                                t = this.state.searchText;
                            if (!t) return e;
                            t = P.default.accentFold(t);
                            var a = (0, L.default)(t);
                            return e.filter((function(e) {
                                return e.searchMatch(t, a)
                            }))
                        }
                    }, {
                        key: "_adjustInput",
                        value: function() {
                            if (this.refInput) {
                                var e, t = this.refInput.offsetParent.offsetWidth - 10,
                                    a = this._refSizer.offsetWidth,
                                    n = a > t ? t : a;
                                this.refInput.style.width = n + "px", e = t - this.refInput.offsetLeft - n > 0 ? t - this.refInput.offsetLeft : t, this.refInput.style.width = e + "px", this.state.shouldFocus && this.focus()
                            }
                        }
                    }, {
                        key: "addContact",
                        value: function(e) {
                            var t = this.state.participants;
                            if (t.length >= A.default.maxParticipants) {
                                var a = P.default.t(100, {
                                    max: A.default.maxParticipants
                                });
                                m.default.openToast(c.default.createElement(U.default, {
                                    msg: a,
                                    id: G
                                }))
                            } else this.setState({
                                participants: t.concat(e),
                                searchText: "",
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_removeContact",
                        value: function(e) {
                            var t = this.state.participants;
                            this.setState({
                                participants: s.default.filter(t, (function(t) {
                                    return !e.id.equals(t.id)
                                })),
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_unblockAndAddContact",
                        value: function(e) {
                            var t = this;
                            this.setState({
                                isBusy: !0
                            }), (0, p.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then((function() {
                                t.addContact(e), t.setState({
                                    isBusy: !1
                                })
                            })).catchType(S.Unmount, (function() {})).catch((function() {
                                t.setState({
                                    isBusy: !1
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e;
                            this.state.isBusy ? e = c.default.createElement("div", {
                                className: w.default.spinner
                            }, c.default.createElement(x.default, {
                                stroke: 6,
                                size: 24
                            })) : this.state.participants && this.state.participants.length && (e = c.default.createElement(N.default, {
                                a8nText: "group-participants-btn",
                                onClick: this.handleContinue
                            }, c.default.createElement(F.default, {
                                name: "arrow-forward",
                                directional: !0
                            })));
                            var t = this.state.participants && this.state.participants.length ? " " : P.default.t(833),
                                a = {
                                    down: this.handleFocusList,
                                    enter: this.state.searchText ? this.handleSelectFirst : this.state.participants && this.state.participants.length ? this.handleContinue : function() {},
                                    up: this._handleFocusParticipants
                                };
                            a[P.default.LR("left", "right")] = this._handleFocusParticipants;
                            var n, l = this.getFilteredContacts();
                            return n = 0 === l.length ? c.default.createElement(y.SearchContacts, null) : c.default.createElement(g.default, {
                                ref: this.setRefList,
                                flatListController: this.flatListController,
                                contacts: l,
                                onClick: this.handleContactClick,
                                onFocusSearch: this.handleFocusSearch,
                                showPersonGroupDivisionHeader: !1
                            }), c.default.createElement(E.default, null, c.default.createElement(C.default, {
                                title: P.default.t(218),
                                type: C.DRAWER_HEADER_TYPE.LARGE,
                                onBack: this.handleBack
                            }), c.default.createElement(_.default, null, c.default.createElement("div", {
                                className: w.default.search
                            }, c.default.createElement("div", null, c.default.createElement(b.default, {
                                handlers: a,
                                className: w.default.inputLine
                            }, c.default.createElement("div", {
                                "data-list-scroll-container": !0
                            }, c.default.createElement(O.default, {
                                ref: this.setRefParticipantList,
                                theme: "list-names",
                                contacts: this.state.participants,
                                onDelete: this.handleDelete,
                                onFocusSearch: this.handleFocusSearch
                            })), c.default.createElement("input", {
                                "data-a8n": f.default.key("inputarea"),
                                className: (0, d.default)(w.default.inputarea, R.SELECTABLE_INPUT_CSS_CLASS),
                                ref: this.setRefInput,
                                placeholder: t,
                                onKeyDown: this.handleKeyDown,
                                onChange: this.handleInput,
                                value: this.state.searchText,
                                type: "text"
                            }), c.default.createElement("span", {
                                className: w.default.inputareaSizer,
                                ref: this._setRefSizer
                            }, this.state.searchText)))), c.default.createElement(k.default, {
                                className: w.default.contacts,
                                flatListControllers: [this.flatListController]
                            }, n), c.default.createElement(B.default, {
                                transitionName: "btn",
                                className: w.default.drawerSection
                            }, e)))
                        }
                    }]), a
                }(c.Component);
            H.defaultProps = {
                participants: []
            }, H.displayName = "NewGroupParticipantsDrawer";
            var j = (0, D.default)(H);
            t.default = j
        },
        94289: (e, t, a) => {
            "use strict";
            var n = a(95318),
                l = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(67294)),
                i = n(a(56017)),
                o = n(a(81997)),
                u = n(a(25259)),
                d = l(a(62647)),
                s = n(a(89115)),
                c = n(a(30608)),
                f = (0, r.forwardRef)((function(e, t) {
                    return r.default.createElement(o.default, {
                        ref: t
                    }, r.default.createElement(d.default, {
                        a8n: "drawer-title-notifications",
                        title: s.default.t(1207),
                        onBack: e.onClose,
                        type: d.DRAWER_HEADER_TYPE.LARGE
                    }), r.default.createElement(u.default, null, r.default.createElement(i.default, {
                        key: "notifications",
                        mute: c.default.globalMute()
                    })))
                }));
            t.default = f
        },
        79820: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(97930)),
                c = a(79984),
                f = l(a(10725)),
                p = l(a(51934)),
                m = a(23472),
                h = l(a(34541)),
                v = l(a(25960)),
                g = l(a(93743)),
                E = l(a(34263)),
                _ = l(a(47322)),
                C = l(a(81997)),
                y = l(a(25259)),
                S = l(a(66015)),
                k = n(a(62647)),
                M = l(a(51376)),
                T = l(a(31981)),
                I = l(a(42715)),
                b = n(a(98569)),
                P = a(71701),
                w = a(31230),
                L = l(a(17957)),
                O = l(a(54882)),
                D = l(a(89115)),
                N = l(a(8643)),
                R = a(79164),
                A = l(a(73626)),
                x = l(a(35456)),
                F = l(a(42315)),
                U = l(a(42027)),
                B = l(a(63056)),
                G = a(59465),
                H = l(a(57478)),
                j = l(a(44589)),
                V = a(96303),
                W = a(28770),
                z = l(a(79077)),
                K = l(a(78422)),
                Y = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).handleBack = function() {
                            n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                        }, n._validateStatus = function(e) {
                            return !!(e || "").trim()
                        }, n._handleStatusBegin = function() {
                            n._isEditingStatus = !0
                        }, n._handleSetStatusError = function() {
                            h.default.openModal(d.default.createElement(v.default, {
                                onOK: function() {
                                    return h.default.closeModal()
                                },
                                okText: D.default.t(1865)
                            }, D.default.t(199)))
                        }, n._handleSetStatus = function() {
                            if (null != n.state.status) {
                                n._isEditingStatus = !1;
                                var e = n.props.status.status,
                                    t = (0, I.default)(n.state.status);
                                if (t === e) return n.setState({
                                    status: t
                                });
                                n.setState({
                                    pendingStatus: !0
                                }), (0, V.setMyStatus)((0, I.default)(n.state.status)).checkpoint(n.props.rejectOnUnmount()).then((function() {
                                    n.setState({
                                        pendingStatus: !1
                                    })
                                })).catchType(b.Unmount, (function() {}))
                            } else n._handleCancelStatus()
                        }, n.handleStatusChange = function(e) {
                            n.setState({
                                status: e
                            })
                        }, n._handleCancelStatus = function() {
                            n._isEditingStatus = !1, n.setState({
                                status: n.props.status.status
                            })
                        }, n._handlePushnameBegin = function() {
                            n._isEditingPushname = !0
                        }, n._validatePushname = function() {
                            var e, t = n.state.pushname;
                            return (t = (t || "").trim()) ? /[\u2714\u2705\u2611]/g.test(t) && (e = D.default.t(194)) : e = D.default.t(191), !e || (n._handleSetPushnameError(e), !1)
                        }, n._handleSetPushname = function() {
                            if (n._isEditingPushname = !1, g.default.canSetMyPushname()) {
                                var e = n.state.pushname;
                                if ((e = (0, I.default)((e || "").trim())) === n.props.conn.pushname) return n.setState({
                                    pushname: e
                                });
                                n.setState({
                                    pendingPushname: !0
                                }), (0, G.setPushname)(e).checkpoint(n.props.rejectOnUnmount()).then((function() {
                                    n.setState({
                                        pendingPushname: !1
                                    })
                                })).catchType(b.Unmount, (function() {}))
                            }
                        }, n._handleSetPushnameError = function(e) {
                            h.default.openModal(d.default.createElement(v.default, {
                                onOK: function() {
                                    return h.default.closeModal()
                                },
                                okText: D.default.t(1865)
                            }, e))
                        }, n._handlePushnameChange = function(e) {
                            n.setState({
                                pushname: e
                            })
                        }, n._handleCancelPushname = function() {
                            n._isEditingPushname = !1, n.setState({
                                pushname: n.props.conn.pushname
                            })
                        }, n._openCatalog = function() {
                            (0, m.openCatalogManagementFlow)(null, N.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)
                        }, n.state = {
                            pushname: e.conn.pushname,
                            status: e.status.status,
                            pendingPushname: !1,
                            pendingStatus: !1,
                            catalog: null
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            g.default.isSMB && (0, w.canEditBizProfile)() && f.default.findCarouselCatalog((0, P.getMeUser)()).then((function(t) {
                                var a = Array.isArray(t) ? t[0] : t;
                                e.setState({
                                    catalog: a
                                })
                            })).catch((function() {})), (0, R.getProductCatalogContext)(this.context).session.isAccidental() && h.default.setDrawerContext("left", (0, R.buildProductCatalogContext)(new A.default, N.default.BIZ_PLATFORM.SMB, N.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS))
                        }
                    }, {
                        key: "renderProductCatalogSection",
                        value: function() {
                            return (0, R.getProductCatalogContext)(this.context).session.isAccidental() ? null : (0, c.hasShop)(this.props.contact.businessProfile) ? B.default.shopsProductGrid ? d.default.createElement(H.default, {
                                isEditMode: !0,
                                subtitle: D.default.t(993),
                                businessProfile: this.props.contact.businessProfile,
                                catalog: this.state.catalog,
                                productsToShow: 3
                            }) : null : d.default.createElement(p.default, {
                                catalog: this.state.catalog,
                                onProductDetail: this._openCatalog,
                                onProductCatalog: this._openCatalog,
                                productsToShow: 3,
                                catalogEntryLabel: null == this.state.catalog ? D.default.t(212) : D.default.t(1579),
                                showProductPlaceholders: !0,
                                seeMoreOverlay: !0,
                                sectionTheme: "refresh"
                            })
                        }
                    }, {
                        key: "_renderAboutInput",
                        value: function() {
                            var e = this.props.status,
                                t = this._isEditingStatus || this.state.pendingStatus ? this.state.status : e.status;
                            return d.default.createElement(z.default, {
                                a8n: "col-main-profile-input",
                                value: t,
                                editable: !0,
                                pending: this.state.pendingStatus,
                                showRemaining: !0,
                                validate: this._validateStatus,
                                maxLength: E.default.MAX_STATUS_LENGTH,
                                onBeginEdit: this._handleStatusBegin,
                                onChange: this.handleStatusChange,
                                onSave: this._handleSetStatus,
                                onError: this._handleSetStatusError,
                                onCancel: this._handleCancelStatus,
                                theme: "text-input",
                                supportsEmoji: !0,
                                lockable: !0,
                                lowProfile: !0
                            })
                        }
                    }, {
                        key: "_renderStandardEditSection",
                        value: function() {
                            var e = this.props.conn,
                                t = this._isEditingPushname || this.state.pendingPushname ? this.state.pushname : e.pushname,
                                a = g.default.isSMB ? D.default.t(378) : D.default.t(1306),
                                n = d.default.createElement(M.default, {
                                    a8nText: "col-main-profile",
                                    title: D.default.t(1945),
                                    theme: "padding"
                                }, this._renderAboutInput());
                            return d.default.createElement(d.default.Fragment, null, d.default.createElement(M.default, {
                                a8nText: "col-main-profile",
                                title: D.default.t(1305),
                                theme: "padding"
                            }, d.default.createElement(z.default, {
                                a8n: "col-main-profile-input",
                                value: t,
                                editable: g.default.canSetMyPushname(),
                                pending: this.state.pendingPushname,
                                showRemaining: !0,
                                validate: this._validatePushname,
                                maxLength: E.default.MAX_PUSHNAME_LENGTH,
                                onBeginEdit: this._handlePushnameBegin,
                                onChange: this._handlePushnameChange,
                                onSave: this._handleSetPushname,
                                onCancel: this._handleCancelPushname,
                                supportsEmoji: !0,
                                lockable: !0,
                                lowProfile: !0
                            })), d.default.createElement("div", {
                                "data-a8n": s.default.key("pushname-description"),
                                className: x.default.nameWrapper
                            }, d.default.createElement(W.TextSpan, {
                                theme: "muted"
                            }, a)), n)
                        }
                    }, {
                        key: "_renderSection",
                        value: function(e) {
                            return d.default.createElement(O.default, e)
                        }
                    }, {
                        key: "_renderAboutSection",
                        value: function() {
                            var e = this._renderSection({
                                    icon: "info",
                                    content: this._renderAboutInput()
                                }),
                                t = this._renderSection({
                                    icon: "call-phone",
                                    iconClass: x.default.phoneIcon,
                                    content: d.default.createElement("div", null, d.default.createElement("div", {
                                        className: x.default.phoneField
                                    }, (0, K.default)((0, P.assertGetMe)())), d.default.createElement("div", {
                                        className: x.default.infoText
                                    }, D.default.t(398)))
                                });
                            return d.default.createElement(M.default, {
                                title: D.default.t(388),
                                theme: "refresh"
                            }, e, t)
                        }
                    }, {
                        key: "_renderEditBizProfileEditSection",
                        value: function() {
                            return d.default.createElement("div", null, d.default.createElement(T.default, null), this.renderProductCatalogSection(), this._renderAboutSection())
                        }
                    }, {
                        key: "_renderCoverPhoto",
                        value: function() {
                            return d.default.createElement(M.default, {
                                theme: "padding-no-margin"
                            }, d.default.createElement(_.default, {
                                contact: this.props.contact,
                                editable: !0,
                                profilePicThumb: this.props.profilePicThumb,
                                hideStatusV3: !0
                            }))
                        }
                    }, {
                        key: "_renderProfilePicture",
                        value: function() {
                            return d.default.createElement("div", {
                                className: x.default.photoPickerWrapper
                            }, d.default.createElement(F.default, {
                                profilePicThumb: this.props.profilePicThumb
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = (0, w.canSeeBizProfileV3)() && g.default.isSMB ? this._renderCoverPhoto() : this._renderProfilePicture(),
                                t = (0, w.canEditBizProfile)() ? this._renderEditBizProfileEditSection() : this._renderStandardEditSection(),
                                a = D.default.t(1038);
                            return d.default.createElement(C.default, null, d.default.createElement(k.default, {
                                a8n: "drawer-title-profile",
                                title: a,
                                onBack: this.handleBack,
                                type: k.DRAWER_HEADER_TYPE.LARGE
                            }), d.default.createElement(y.default, null, e, t))
                        }
                    }]), a
                }(d.Component);
            Y.contextType = S.default, Y.CONCERNS = {
                contact: ["businessProfile", "id", "statusMute"],
                profilePicThumb: ["imgFull", "id"],
                status: ["status"],
                conn: ["pushname"]
            }, Y.displayName = "ProfileDrawer";
            var q = (0, L.default)((0, U.default)((0, j.default)(Y, Y.CONCERNS)));
            t.default = q
        },
        9782: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return l.default.createElement(r.default, {
                    primary: e.choiceText,
                    onClick: e.onChoose,
                    theme: "radio-button-row",
                    image: l.default.createElement(i.default, {
                        checked: e.isChosen,
                        hover: !1,
                        radio: !0,
                        onChange: e.onChoose,
                        systemUncheckedColor: !0
                    })
                })
            };
            var l = n(a(67294)),
                r = n(a(10598)),
                i = n(a(72210))
        },
        37485: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(26015)),
                c = l(a(81997)),
                f = l(a(25259)),
                p = n(a(62647)),
                m = l(a(51376)),
                h = l(a(19129)),
                v = a(92618),
                g = a(32002),
                E = a(71701),
                _ = l(a(89115)),
                C = l(a(83968)),
                y = l(a(63056)),
                S = a(28900),
                k = l(a(75131)),
                M = a(28770),
                T = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._onSecurityNotificationChange = function() {
                            var e = !n.state.securityNotificationEnabled;
                            (0, E.setGlobalSecurityNotifications)(e), n.setState({
                                securityNotificationEnabled: e
                            })
                        }, n.state = {
                            securityNotificationEnabled: (0, E.getGlobalSecurityNotifications)()
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = y.default.bspSystemMessageEnabled;
                            return d.default.createElement(c.default, null, d.default.createElement(p.default, {
                                a8n: "drawer-title-security",
                                title: _.default.t(1388),
                                onBack: this.props.onClose,
                                type: p.DRAWER_HEADER_TYPE.LARGE
                            }), d.default.createElement(f.default, null, d.default.createElement(m.default, {
                                theme: "padding-large",
                                animation: !1
                            }, d.default.createElement(g.FlexColumn, {
                                className: C.default.icon,
                                align: "center",
                                justify: "center"
                            }, d.default.createElement(g.FlexItem, null, d.default.createElement(k.default, {
                                name: "security-shield"
                            })), d.default.createElement(g.FlexColumn, {
                                className: C.default.iconLock,
                                align: "center",
                                justify: "center"
                            }, d.default.createElement(g.FlexItem, null, d.default.createElement(k.default, {
                                name: "security-lock"
                            })))), d.default.createElement("div", {
                                className: C.default.text
                            }, e ? _.default.t(1387) : _.default.t(1386), " ", d.default.createElement(h.default, {
                                href: (0, S.securityUrl)()
                            }, _.default.t(936))), d.default.createElement(g.FlexRow, {
                                className: C.default.controls
                            }, d.default.createElement("div", {
                                className: C.default.checkbox
                            }, d.default.createElement(s.default, {
                                onChange: this._onSecurityNotificationChange,
                                checked: this.state.securityNotificationEnabled
                            })), d.default.createElement(g.FlexItem, null, d.default.createElement("div", {
                                className: C.default.header
                            }, d.default.createElement(M.TextSpan, {
                                theme: "title"
                            }, _.default.t(1385))), d.default.createElement(M.TextDiv, {
                                theme: "muted"
                            }, e ? _.default.t(1383) : _.default.t(1382), " ", d.default.createElement(h.default, {
                                href: (0, v.getCodeChangeFaqUrl)()
                            }, _.default.t(936))))))))
                        }
                    }]), a
                }(d.PureComponent);
            t.default = T, T.displayName = "SecurityDrawer"
        },
        95739: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOK,
                    a = e.name || u.default.t(576),
                    n = u.default.t(1418, {
                        name: a
                    });
                return l.default.createElement(i.default, {
                    onOK: function() {
                        r.default.closeModal(), t()
                    },
                    okText: u.default.t(1865)
                }, l.default.createElement("div", null, l.default.createElement(o.default, {
                    text: n
                })))
            };
            var l = n(a(67294)),
                r = n(a(34541)),
                i = n(a(25960)),
                o = n(a(41769)),
                u = n(a(89115))
        },
        6089: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return i.default.createElement("div", {
                    className: d.default.container
                }, e.children)
            }, t.SettingsCheckListSection = s, t.SettingsCheckListItem = function(e) {
                return i.default.createElement(s, {
                    disabled: e.disabled
                }, i.default.createElement("div", {
                    "data-a8n": o.default.key(e.a8nText),
                    className: d.default.control
                }, i.default.createElement(u.default, {
                    id: e.id,
                    onChange: e.onChange,
                    checked: e.checked,
                    disabled: e.disabled
                })), i.default.createElement("label", {
                    className: d.default.label,
                    htmlFor: e.id
                }, e.children))
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(97930)),
                u = n(a(26015)),
                d = n(a(50717));

            function s(e) {
                return i.default.createElement("div", {
                    className: (0, r.default)(d.default.section, (0, l.default)({}, d.default.disabled, e.disabled))
                }, e.children)
            }
        },
        48277: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n, l, y, S = (0, _.default)(e.settings, ["archive"]),
                    k = r.default.createElement(g.default, {
                        id: e.profileId
                    }),
                    M = r.default.createElement(u.default, {
                        id: (0, m.getMaybeMeUser)(),
                        size: 82,
                        quality: u.DETAIL_IMAGE_QUALITY.HIGH
                    }),
                    T = r.default.createElement(p.default, {
                        text: o.default.pushname,
                        ellipsify: !0,
                        titlify: !0
                    });
                (0, h.archiveV2Supported)() && S.archive.enabled && (l = r.default.createElement(c.default, {
                    icon: r.default.createElement(E.default, {
                        name: "archived"
                    }),
                    onClick: e.onArchiveSettings
                }, v.default.t(234)));
                C.default.supportsFeature(C.default.F.MD_BACKEND) && (n = r.default.createElement(c.default, {
                    a8nText: "li-security",
                    icon: r.default.createElement(E.default, {
                        name: "settings-security"
                    }),
                    onClick: e.onSecurity
                }, v.default.t(1040)));
                (0, h.webMediaAutoDownloadEnabled)() && (y = r.default.createElement(c.default, {
                    a8nText: "li-media-auto-download",
                    icon: r.default.createElement(E.default, {
                        name: "media-download"
                    }),
                    onClick: e.onMediaAutoDownload
                }, v.default.t(1035)));
                process.mas || process.windowsStore || (t = r.default.createElement(c.default, {
                    a8nText: "li-desktop",
                    icon: r.default.createElement(E.default, {
                        name: "settings-desktop"
                    }),
                    onClick: e.onDesktopSettings
                }, v.default.t(1030)));
                return a = r.default.createElement(c.default, {
                    a8nText: "li-keyboard-shortcuts",
                    icon: r.default.createElement(E.default, {
                        name: "settings-keyboard"
                    }),
                    onClick: e.onKeyboardShortcuts
                }, v.default.t(921)), r.default.createElement(d.default, {
                    theme: "settings"
                }, r.default.createElement(f.default, {
                    title: v.default.t(1422),
                    onBack: e.onClose,
                    type: f.DRAWER_HEADER_TYPE.LARGE
                }), r.default.createElement(s.default, null, r.default.createElement(i.default, {
                    onClick: e.onProfile,
                    image: M,
                    primary: T,
                    theme: "identity",
                    secondary: k
                }), r.default.createElement(c.default, {
                    a8nText: "li-notifications",
                    icon: r.default.createElement(E.default, {
                        name: "settings-notifications"
                    }),
                    onClick: e.onNotifications
                }, v.default.t(1036)), n, r.default.createElement(c.default, {
                    icon: r.default.createElement(E.default, {
                        name: "settings-theme"
                    }),
                    onClick: e.onThemeSettings
                }, v.default.t(1043)), r.default.createElement(c.default, {
                    icon: r.default.createElement(E.default, {
                        name: "settings-wallpaper"
                    }),
                    onClick: e.onWallpaper
                }, v.default.t(1044)), l, r.default.createElement(c.default, {
                    a8nText: "li-blocked",
                    icon: r.default.createElement(E.default, {
                        name: "settings-blocked"
                    }),
                    onClick: e.onBlocked
                }, v.default.t(1029)), y, t, a, r.default.createElement(c.default, {
                    a8nText: "li-help",
                    icon: r.default.createElement(E.default, {
                        name: "settings-help"
                    }),
                    onClick: e.onHelp
                }, v.default.t(1031)), undefined, undefined, undefined, undefined, undefined))
            };
            var r = l(a(67294)),
                i = l(a(10598)),
                o = l(a(93743)),
                u = n(a(42575)),
                d = l(a(81997)),
                s = l(a(25259)),
                c = l(a(10869)),
                f = n(a(62647)),
                p = l(a(41769)),
                m = a(71701),
                h = a(31230),
                v = l(a(89115)),
                g = l(a(56830)),
                E = l(a(75131)),
                _ = l(a(33819)),
                C = l(a(22021))
        },
        80784: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = a(54654),
                f = l(a(79140)),
                p = l(a(34541)),
                m = l(a(34263)),
                h = l(a(42905)),
                v = l(a(81997)),
                g = l(a(25259)),
                E = n(a(62647)),
                _ = a(67485),
                C = n(a(98569)),
                y = l(a(31722)),
                S = a(71701),
                k = l(a(22021)),
                M = l(a(17957)),
                T = l(a(76568)),
                I = l(a(89115)),
                b = l(a(68390)),
                P = a(53418),
                w = l(a(42027)),
                L = l(a(4371)),
                O = l(a(10560)),
                D = l(a(87729)),
                N = l(a(78350)),
                R = l(a(10597)),
                A = l(a(52558)),
                x = l(a(75131)),
                F = l(a(38512));
            var U = function(e) {
                (0, o.default)(a, e);
                var t = (0, u.default)(a);

                function a(e) {
                    var n;
                    return (0, r.default)(this, a), (n = t.call(this, e))._msgRefs = {}, n._setRefHotKeys = function(e) {
                        n._refHotKeys = e
                    }, n._refScrollContainer = (0, s.createRef)(), n._getInitialState = function() {
                        var e = n.props.starredMsgs;
                        return {
                            cursor: L.default.create({
                                msgCollection: e,
                                type: m.default.RENDER_CURSOR.STARRED_DRAWER
                            }).loadAfter(e, {
                                count: m.default.MSG_PRELOAD_THRESHOLD
                            })
                        }
                    }, n._handleStarChange = function() {
                        n._initSelectionObjects(), n.forceUpdate()
                    }, n._initSelectionObjects = function() {
                        var e = n.props.starredMsgs.toArray();
                        n._currSelection.init(e, !0), n._activeSelection.init(e)
                    }, n.setRefMsgComponent = function(e, t) {
                        t ? n._msgRefs[e.id.toString()] = t : delete n._msgRefs[e.id.toString()]
                    }, n.loadEarlierMsgs = function() {
                        var e = n.state.cursor,
                            t = n.props.chat && n.props.chat.id,
                            a = n.props.starredMsgs,
                            l = a.models;
                        if (e.getEnd(a) < l.length) n.setState({
                            cursor: e.loadAfter(a)
                        });
                        else {
                            if (a.isSynced) return;
                            n.props.starredMsgs.sync(t).checkpoint(n.props.rejectOnUnmount()).then((function() {
                                e.hasAfter(a) && n.setState({
                                    cursor: e.loadAfter(a)
                                })
                            })).catchType(C.Unmount, (function() {})).catch((function(e) {
                                __LOG__(2)`StarredDrawer:loadEarlierMsgs failed\n${e}`
                            }))
                        }
                    }, n.handleClose = function() {
                        n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                    }, n.focus = function() {
                        n._refHotKeys && y.default.focus(n._refHotKeys)
                    }, n.handleFocusGain = function(e) {
                        n._refHotKeys && ((e ? e.target : document.activeElement) === n._refHotKeys && (n._currSelection.index < 0 ? n._currSelection.setFirst(!0) : n._currSelection.reset(!1)))
                    }, n._handleNextMsg = function(e) {
                        e && (e.preventDefault(), e.stopPropagation());
                        var t = n._currSelection.next();
                        n._currSelection.index !== t && n._currSelection.setNext(!0)
                    }, n._handlePrevMsg = function(e) {
                        e && (e.stopPropagation(), e.preventDefault()), n._currSelection.prev() > -1 && n._currSelection.setPrev(!0)
                    }, n.onScroll = function(e) {
                        n.handleScroll(e.currentTarget)
                    }, n._handleScroll = function(e) {
                        n.updateMsgListInfo(),
                            function(e) {
                                return e.scrollTop + m.default.SCROLL_FUDGE > e.scrollHeight - e.clientHeight
                            }(e) && n.loadEarlierMsgs()
                    }, n._selectMsg = function(e) {
                        n._currSelection.setVal(e), n._activeSelection.setVal(e), p.default.openChatAt(e.chat, e.chat.getSearchContext(e)), p.default.focusShowMsg(e.id)
                    }, n._getMsgList = function() {
                        var e = n.state.cursor,
                            t = n.props.starredMsgs,
                            a = t.toArray(),
                            l = t.isSynced ? e.getEnd(t) : Math.min(e.getEnd(t), a.length);
                        return a = a.slice(e.getStart(t), l), n.length = a.length, a
                    }, n.getMsgVisibility = function(e) {
                        if (!e) return m.default.VISIBILITY.BELOW;
                        var t = n._refScrollContainer.current;
                        if (t) {
                            var a = t.previousSibling;
                            if (a && a instanceof HTMLElement) {
                                var l = a.clientHeight,
                                    r = t.scrollTop + l,
                                    i = r + t.clientHeight,
                                    o = e.getContainerElement();
                                return o ? o.offsetTop + o.clientHeight <= r ? m.default.VISIBILITY.ABOVE : o.offsetTop >= i ? m.default.VISIBILITY.BELOW : m.default.VISIBILITY.VISIBLE : m.default.VISIBILITY.BELOW
                            }
                        }
                    }, n.isMsgVisible = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return !!n._msgListInfo.visibleMsgs[e.toString()] && (!!t || n.getMsgComponent(e))
                    }, n.getMsgComponent = function(e) {
                        var t = n._msgRefs[e.toString()];
                        if (t) {
                            var a = t.getWrapperRef();
                            return a && "function" == typeof a.getMsgComponentRef ? a.getMsgComponentRef() : void 0
                        }
                    }, n._updateMsgListInfo = function() {
                        for (var e = n._getMsgList(), t = {}, a = 0, l = n.length - 1; a < l;) {
                            var r = Math.floor((a + l) / 2),
                                i = n._msgRefs[e[r].id.toString()];
                            n.getMsgVisibility(i) === m.default.VISIBILITY.ABOVE ? a = r + 1 : l = r
                        }
                        for (var o = a; o < e.length; o++) {
                            var u = n._msgRefs[e[o].id.toString()];
                            if (n.getMsgVisibility(u) !== m.default.VISIBILITY.VISIBLE) break;
                            t[e[o].id.toString()] = !0
                        }
                        n.pauseHiddenGifs(n._msgListInfo.visibleMsgs, t), n._msgListInfo.visibleMsgs = t
                    }, n.pauseHiddenGifs = function(e, t) {
                        for (var a in e)
                            if (!t[a]) {
                                var l = n.props.starredMsgs.get(a);
                                if (l && l.isGif) {
                                    var r = n.getMsgComponent(a);
                                    r && r.getPlayCount() && r.pause()
                                }
                            }
                    }, n.handleScroll = d.default.throttle(n._handleScroll, 100), n.updateMsgListInfo = d.default.throttle(n._updateMsgListInfo, 100), n._msgListInfo = {
                        visibleMsgs: {}
                    }, n.state = n._getInitialState(), n._currSelection = new O.default([], (function(e) {
                        return e.id.toString()
                    })), n._activeSelection = new O.default([], (function(e) {
                        return e.id.toString()
                    })), n._initSelectionObjects(), n
                }
                return (0, i.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this;
                        this.focus(), this.props.listeners.add(window, "resize", this.updateMsgListInfo), !this.props.starredMsgs.isSynced && this.props.starredMsgs.length < m.default.PAGE_SIZE && this.props.listeners.uiIdle(this.loadEarlierMsgs), this.props.listeners.add(this.props.starredMsgs, "reset sync", (function() {
                            e._initSelectionObjects(), e.forceUpdate()
                        })), this.props.listeners.add(this.props.starredMsgs, "add remove", this._handleStarChange), this.handleFocusGain(), this.props.listeners.add(this.props.starredMsgs, "reset", (function() {
                            e._msgListInfo = {
                                visibleMsgs: {}
                            }, e.setState(e._getInitialState()), e.loadEarlierMsgs()
                        }))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        this.handleScroll.cancel(), this.updateMsgListInfo.cancel()
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function() {
                        this.updateMsgListInfo()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e, t, a = this,
                            n = this._getMsgList(),
                            l = this.state.cursor,
                            r = this.props.starredMsgs,
                            i = this.props.chat || null;
                        if (t = r.isSynced && l.getEnd(r) >= n.length ? null : this.props.starredMsgs.syncPromise ? s.default.createElement("div", {
                                className: N.default.more,
                                title: I.default.t(978)
                            }, s.default.createElement(D.default, {
                                stroke: 6,
                                size: 24
                            })) : s.default.createElement("div", {
                                className: N.default.more
                            }, s.default.createElement("div", {
                                title: I.default.t(975),
                                onClick: this.loadEarlierMsgs
                            }, s.default.createElement(x.default, {
                                name: "refresh"
                            }))), n.length > 0) {
                            var o = n.map((function(e) {
                                var t = e.type === m.default.MSG_TYPE.IMAGE || e.type === m.default.MSG_TYPE.VIDEO || e.type === m.default.MSG_TYPE.AUDIO;
                                return s.default.createElement(A.default, {
                                    key: e.id.toString(),
                                    ref: function(t) {
                                        a.setRefMsgComponent(e, t)
                                    },
                                    msg: e,
                                    isMsgVisible: t ? a.isMsgVisible : function() {},
                                    currSelection: a._currSelection,
                                    activeSelection: a._activeSelection,
                                    onClickMsg: a._selectMsg
                                })
                            }));
                            e = s.default.createElement(F.default, {
                                transitionName: "slide"
                            }, o)
                        } else this.props.starredMsgs.isSynced ? e = s.default.createElement(_.StarredMsgs, null) : (e = s.default.createElement(_.Loading, null), t = null);
                        var u, d = {
                                down: this._handleNextMsg,
                                up: this._handlePrevMsg
                            },
                            p = n.length > 0 ? s.default.createElement(P.MenuBarItem, {
                                a8nText: "starred-menu",
                                icon: s.default.createElement(x.default, {
                                    name: "menu"
                                }),
                                title: I.default.t(1046)
                            }, s.default.createElement(R.default, {
                                chat: i,
                                msgs: n
                            })) : null;
                        if (k.default.supportsFeature(k.default.F.MD_BACKEND) && (!i || i && i.endOfHistoryTransferType === c.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY)) {
                            var C = f.default.relativeDateStr((0, S.getHistorySyncEarliestDate)());
                            u = s.default.createElement(h.default, {
                                icon: s.default.createElement(x.default, {
                                    name: "content-chat"
                                }),
                                theme: "list",
                                secondary: I.default.t(594, {
                                    date: C
                                })
                            }, I.default.t(592))
                        }
                        return s.default.createElement(v.default, {
                            theme: "gallery"
                        }, s.default.createElement(T.default, {
                            className: N.default.hotKeyWraper,
                            handlers: d,
                            onFocus: this.handleFocusGain,
                            "data-tab": m.default.TAB_ORDERS.CHAT_STARRED_DRAWER,
                            onRef: this._setRefHotKeys
                        }, s.default.createElement(E.default, {
                            title: I.default.t(1434),
                            onBack: this.handleClose,
                            type: E.DRAWER_HEADER_TYPE.LARGE,
                            menu: p
                        }), s.default.createElement(g.default, {
                            onScroll: this.onScroll,
                            ref: this._refScrollContainer
                        }, e, t, u)))
                    }
                }]), a
            }(s.Component);
            U.displayName = "StarredDrawer";
            var B = (0, M.default)((0, w.default)((0, b.default)(U)));
            t.default = B
        },
        10597: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34541)),
                c = l(a(75300)),
                f = l(a(33079)),
                p = l(a(89115)),
                m = l(a(21068)),
                h = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).sendUnstarAll = function() {
                            s.default.openModal(d.default.createElement(m.default, {
                                msgs: e.props.msgs,
                                chat: e.props.chat
                            }))
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "getElement",
                        value: function() {
                            return this._refDropdown
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props.msgs;
                            return d.default.createElement(c.default, {
                                onRef: function(t) {
                                    e._refDropdown = t
                                },
                                type: "dropdown_menu",
                                flipOnRTL: !0,
                                key: "StarredDrawerHeader",
                                dirX: "LEFT"
                            }, d.default.createElement(f.default, {
                                a8n: "mi-unstar-all menu-item",
                                action: this.sendUnstarAll,
                                disabled: 0 === t.length
                            }, p.default.t(1508)))
                        }
                    }]), a
                }(d.Component);
            t.default = h, h.displayName = "StarredHeaderDropdown"
        },
        41673: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l)))._setRefCanvas = function(t) {
                            e.refCanvas = t
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "shouldComponentUpdate",
                        value: function() {
                            return !1
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return d.default.createElement("canvas", {
                                className: this.props.className,
                                ref: this._setRefCanvas
                            })
                        }
                    }]), a
                }(d.Component);
            t.default = s, s.displayName = "StaticCanvas"
        },
        17432: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(319)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(91080)),
                c = n(a(67294)),
                f = l(a(97930)),
                p = l(a(79140)),
                m = l(a(48629)),
                h = l(a(42575)),
                v = a(67485),
                g = n(a(60482)),
                E = l(a(55959)),
                _ = l(a(50842)),
                C = a(71701),
                y = l(a(22021)),
                S = l(a(89115)),
                k = l(a(68390)),
                M = l(a(35032)),
                T = l(a(66005)),
                I = l(a(93326)),
                b = l(a(37703)),
                P = l(a(75131)),
                w = "SEC_UNREAD",
                L = "SEC_READ",
                O = "SEC_MUTED",
                D = "ROW_STATUS",
                N = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a), (e = t.apply(this, arguments)).flatListController = new _.default, e.handleStatusChange = function() {
                            var t = e._getUnreadStatusList(),
                                a = e._getReadStatusList(),
                                n = [].concat((0, r.default)(t), (0, r.default)(a)).filter((function(e) {
                                    return e.contact.statusMute
                                }));
                            e.setState({
                                unreadStatusList: t.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                readStatusList: a.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                mutedStatusList: n,
                                myStatus: T.default.getMyStatus()
                            })
                        }, e._handleContactMuteChange = function() {
                            var t = e._getUnreadStatusList(),
                                a = e._getReadStatusList(),
                                n = [].concat((0, r.default)(t), (0, r.default)(a)).filter((function(e) {
                                    return e.contact.statusMute
                                }));
                            e.setState({
                                unreadStatusList: t.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                readStatusList: a.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                mutedStatusList: n,
                                myStatus: T.default.getMyStatus()
                            })
                        }, e._toggleMuted = function() {
                            e.setState((function(e) {
                                return {
                                    isMutedExpanded: !e.isMutedExpanded
                                }
                            }))
                        }, e.renderItem = function(t) {
                            switch (t.type) {
                                case w:
                                    return c.default.createElement("div", {
                                        className: I.default.listSectionSep
                                    }, c.default.createElement("hr", null), c.default.createElement("div", {
                                        className: I.default.listSectionText
                                    }, c.default.createElement("span", null, S.default.t(1445))));
                                case L:
                                    return c.default.createElement("div", {
                                        className: I.default.listSectionSep
                                    }, c.default.createElement("hr", null), c.default.createElement("div", {
                                        className: I.default.listSectionText
                                    }, c.default.createElement("span", null, S.default.t(1452))));
                                case O:
                                    return c.default.createElement("div", {
                                        className: I.default.listSectionSep
                                    }, c.default.createElement("hr", null), c.default.createElement("div", {
                                        className: I.default.listSectionText
                                    }, c.default.createElement("span", null, S.default.t(1441)), c.default.createElement("button", {
                                        className: I.default.listSectionAction,
                                        onClick: e._toggleMuted
                                    }, t.expanded ? S.default.t(1438) : S.default.t(1439))));
                                case D:
                                    return c.default.createElement(M.default, {
                                        statusV3: t.status,
                                        onClick: function() {
                                            return e.props.onOpenStatus(t.status, void 0, t.index)
                                        },
                                        contact: t.status.contact
                                    });
                                default:
                                    throw new g.UnknownDataError(t)
                            }
                        };
                        var n = e._getUnreadStatusList(),
                            l = e._getReadStatusList(),
                            o = [].concat((0, r.default)(n), (0, r.default)(l)).filter((function(e) {
                                return e.contact.statusMute
                            }));
                        return e.state = {
                            unreadStatusList: n.filter((function(e) {
                                return !e.contact.statusMute
                            })),
                            readStatusList: l.filter((function(e) {
                                return !e.contact.statusMute
                            })),
                            mutedStatusList: o,
                            myStatus: T.default.getMyStatus(),
                            isMutedExpanded: !1
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(T.default, "add remove bulk_add sort change:msgsChanged change:hasUnread", this.handleStatusChange), this.props.listeners.add(m.default, "change:statusMute", this._handleContactMuteChange), this.props.listeners.add(T.default, "sync", (function() {
                                e.forceUpdate()
                            }))
                        }
                    }, {
                        key: "_getUnreadStatusList",
                        value: function() {
                            return T.default.getUnexpired(!0)
                        }
                    }, {
                        key: "_getReadStatusList",
                        value: function() {
                            return T.default.getUnexpired(!1)
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.state,
                                t = e.unreadStatusList,
                                a = e.readStatusList,
                                n = e.mutedStatusList,
                                l = [];
                            return t.length > 0 && (l.push({
                                type: w,
                                itemKey: "section-unread",
                                height: 48
                            }), l.push.apply(l, (0, r.default)(t.map((function(e, t) {
                                return {
                                    type: D,
                                    itemKey: e.id.toString(),
                                    height: 64,
                                    status: e,
                                    index: t
                                }
                            }))))), a.length > 0 && (l.push({
                                type: L,
                                itemKey: "section-read",
                                height: 48
                            }), l.push.apply(l, (0, r.default)(a.map((function(e, t) {
                                return {
                                    type: D,
                                    itemKey: e.id.toString(),
                                    height: 64,
                                    status: e,
                                    index: t
                                }
                            }))))), n.length > 0 && (l.push({
                                type: O,
                                itemKey: "section-muted",
                                height: 48,
                                expanded: this.state.isMutedExpanded
                            }), this.state.isMutedExpanded && l.push.apply(l, (0, r.default)(n.map((function(e, t) {
                                return {
                                    type: D,
                                    itemKey: e.id.toString(),
                                    height: 64,
                                    status: e,
                                    index: t
                                }
                            }))))), l
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.getData();
                            return e = T.default.hasSynced() && t.length > 0 ? c.default.createElement(g.default, {
                                className: "statusList",
                                itemEnterAnimationsEnabled: !0,
                                flatListController: this.flatListController,
                                direction: "vertical",
                                data: t,
                                renderItem: this.renderItem
                            }) : c.default.createElement(v.ListStatus, null), c.default.createElement("div", {
                                className: I.default.listPanel
                            }, c.default.createElement(R, {
                                statusV3: this.state.myStatus,
                                onOpenStatus: this.props.onOpenStatus
                            }), c.default.createElement(E.default, {
                                className: I.default.listBody,
                                flatListControllers: [this.flatListController]
                            }, e))
                        }
                    }]), a
                }(c.Component);

            function R(e) {
                var t, a, n, l = e.statusV3;
                l && (n = l.msgs);
                var r, i, o, u, d = function() {
                    var t = l && l.msgs;
                    l && t && t.length && e.onOpenStatus(l, t.head(), 0)
                };
                if (l && n && n.length) {
                    t = c.default.createElement(b.default, {
                        statusV3: l,
                        contact: l.contact,
                        onClick: d
                    });
                    var m = (0, s.default)(n.last(), "myMsgs.last()").t;
                    a = c.default.createElement("span", {
                        className: I.default.secondaryHeaderText
                    }, p.default.relativeDateAndTimeStr(m)), i = {
                        cursor: "pointer"
                    }, r = d
                } else t = c.default.createElement(h.default, {
                    id: (0, C.getMaybeMeUser)(),
                    theme: "status_v3",
                    size: 40
                }), a = c.default.createElement("span", {
                    "data-a8n": f.default.key("status-no-updates"),
                    className: I.default.secondaryHeaderText
                }, S.default.t(1443));
                y.default.supportsFeature(y.default.F.STATUS_V3_UI_SENDING) && (o = c.default.createElement(P.default, {
                    name: "menu"
                }), u = c.default.createElement(P.default, {
                    name: "status-v3-create"
                }));
                var v = c.default.createElement("span", {
                    "data-a8n": f.default.key("my-status"),
                    className: I.default.primaryHeaderText
                }, S.default.t(1442));
                return c.default.createElement("div", {
                    className: I.default.panelHeader,
                    style: i,
                    onClick: r
                }, c.default.createElement("div", {
                    className: I.default.headerButtonsPrimary
                }, t), c.default.createElement("div", {
                    className: I.default.headerText
                }, v, a), c.default.createElement("div", {
                    className: I.default.headerButtonsSecondary
                }, u, o))
            }
            N.displayName = "StatusV3ListPanel";
            var A = (0, k.default)(N);
            t.default = A
        },
        12393: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(94184)),
                s = n(a(67294)),
                c = l(a(34541)),
                f = a(71701),
                p = l(a(68390)),
                m = l(a(66005)),
                h = l(a(17432)),
                v = l(a(64133)),
                g = l(a(60050)),
                E = l(a(75131)),
                _ = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._handleStatusAddRemove = function() {
                            n.setState({
                                status: m.default.getMyStatus()
                            })
                        }, n.state = {
                            status: m.default.getMyStatus()
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "shouldComponentUpdate",
                        value: function(e, t) {
                            return t.status !== this.state.status
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.sessionId,
                                n = t.listeners;
                            (0, f.setLastStatusUsage)(), n.add(m.default, "add remove", this._handleStatusAddRemove), n.add(c.default, "dismiss_status_v3_viewer", (function() {
                                e.props.closeStatusViewer(!0)
                            })), null != a && m.default.logMetrics({
                                type: "session",
                                sessionId: a
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props.onOpenStatus,
                                a = (0, d.default)(v.default.v3_x, {});
                            return s.default.createElement("div", {
                                className: v.default.modalBackground,
                                "data-animate-status-v3-modal-background": !0
                            }, s.default.createElement("div", {
                                className: v.default.mainWrapper
                            }, s.default.createElement(h.default, {
                                onOpenStatus: t
                            }), s.default.createElement(g.default, {
                                status: this.state.status,
                                onOpenStatus: t
                            }), s.default.createElement("button", {
                                className: a,
                                onClick: function() {
                                    return e.props.closeStatusViewer(!0)
                                }
                            }, s.default.createElement(E.default, {
                                name: "x-viewer"
                            }))))
                        }
                    }]), a
                }(s.Component);
            _.displayName = "StatusV3Main";
            var C = (0, p.default)(_);
            t.default = C
        },
        60050: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = d.default.createElement(T, {
                    statusV3: e.status,
                    onOpenStatus: e.onOpenStatus
                });
                h.default.supportsFeature(h.default.F.STATUS_V3_UI_SENDING) && (t = d.default.createElement("div", {
                    className: C.default.updateWrapper
                }, d.default.createElement("div", {
                    className: C.default.updateTitle
                }, v.default.t(1448)), d.default.createElement("div", {
                    className: C.default.uploadButtons
                }, d.default.createElement("div", {
                    className: C.default.buttonContainer
                }, d.default.createElement(k.default, {
                    name: "status-v3-upload",
                    className: C.default.buttonIcon
                }), v.default.t(1449)), d.default.createElement("div", {
                    className: C.default.buttonContainer
                }, d.default.createElement(k.default, {
                    name: "status-v3-camera",
                    className: C.default.buttonIcon
                }), v.default.t(1437)))), a = d.default.createElement("hr", null));
                return d.default.createElement("div", {
                    className: C.default.outStatusPanel
                }, t, a, n)
            };
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(97930)),
                c = l(a(79140)),
                f = l(a(42575)),
                p = a(14650),
                m = n(a(98569)),
                h = l(a(22021)),
                v = l(a(89115)),
                g = l(a(68390)),
                E = l(a(44982)),
                _ = l(a(42027)),
                C = l(a(39310)),
                y = l(a(71267)),
                S = l(a(37703)),
                k = l(a(75131));
            var M = function(e) {
                (0, o.default)(a, e);
                var t = (0, u.default)(a);

                function a() {
                    var e;
                    (0, r.default)(this, a);
                    for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(l))).rerender = function() {
                        e.forceUpdate()
                    }, e
                }
                return (0, i.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this.props,
                            t = e.statusV3,
                            a = e.listeners;
                        t && (a.add(t, "change:msgsChanged", this.rerender), t.loadMore(t.totalCount).catch((function(e) {
                            __LOG__(3)`error while loading all out status: ${String(e)}`
                        })))
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function(e) {
                        var t = this.props,
                            a = t.listeners,
                            n = t.statusV3,
                            l = e.statusV3;
                        l !== n && (l && a.remove(l, "change:msgsChanged", this.rerender), n && a.add(n, "change:msgsChanged", this.rerender))
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this,
                            t = this.props.statusV3;
                        if (t && t.msgs.length > 0) {
                            var a = t.msgs.map((function(a) {
                                return d.default.createElement(b, {
                                    key: a.id.toString(),
                                    msg: a,
                                    status: t,
                                    onOpenStatus: e.props.onOpenStatus
                                })
                            }));
                            return d.default.createElement("div", {
                                className: C.default.viewWrapper
                            }, d.default.createElement("div", {
                                className: C.default.viewTitle
                            }, v.default.t(1451)), d.default.createElement("div", {
                                className: C.default.viewUpdates
                            }, a))
                        }
                        return d.default.createElement("div", {
                            className: C.default.viewWrapper
                        }, d.default.createElement("div", {
                            className: C.default.placeholderIcon
                        }, d.default.createElement(k.default, {
                            name: "status-v3-placeholder"
                        })), d.default.createElement("div", {
                            "data-a8n": s.default.key("status-placeholder"),
                            className: C.default.placeholderText
                        }, v.default.t(1444)))
                    }
                }]), a
            }(d.Component);
            M.displayName = "StatusV3OutViewerImpl";
            var T = (0, g.default)(M),
                I = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        return (0, r.default)(this, a), (e = t.apply(this, arguments)).state = {}, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            E.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.props.listeners.add(t.read, "add remove", (function() {
                                    e.setState({
                                        seenCount: t.read.length
                                    })
                                })), e.setState({
                                    seenCount: t.read.length
                                })
                            })).catchType(m.Unmount, (function() {})).catchType(p.EphemeralDrop, (function() {}))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.msg,
                                n = t.status,
                                l = d.default.createElement(f.default, {
                                    id: a.sender,
                                    theme: "status_v3",
                                    size: 80
                                });
                            return d.default.createElement("div", {
                                className: C.default.outDetail
                            }, d.default.createElement(S.default, {
                                statusV3: n,
                                msg: a,
                                onClick: function() {
                                    return e.props.onOpenStatus(n, a)
                                },
                                contact: n.contact,
                                role: "button",
                                theme: "status-panel",
                                thumbnailPlaceholder: l
                            }), d.default.createElement("div", {
                                className: C.default.seen
                            }, d.default.createElement(y.default, {
                                seenCount: this.state.seenCount
                            })), d.default.createElement("div", {
                                className: C.default.timestamp
                            }, c.default.relativeDateAndTimeStr(a.t)))
                        }
                    }]), a
                }(d.Component);
            I.displayName = "StatusV3OutDetailImpl";
            var b = (0, _.default)((0, g.default)(I))
        },
        31446: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(34541)),
                c = l(a(25960)),
                f = l(a(89115)),
                p = l(a(37388)),
                m = l(a(61198)),
                h = l(a(34970)),
                v = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            theme: "system"
                        }, e._handleThemeChange = function(t) {
                            var a = t.target.value;
                            "light" !== a && "dark" !== a && "system" !== a || e.setState({
                                theme: a
                            })
                        }, e._handleOk = function() {
                            var t = e.state.theme;
                            "system" === t ? (e.context.setSystemThemeMode(!0), e.context.setTheme(m.default.currentTheme)) : (e.context.setSystemThemeMode(!1), e.context.setTheme(t)), s.default.closeModal()
                        }, e._handleCancel = function() {
                            s.default.closeModal()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.setState({
                                theme: this.context.systemThemeMode ? "system" : this.context.theme
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.theme;
                            return d.default.createElement(c.default, {
                                title: f.default.t(1491),
                                onOK: this._handleOk,
                                onCancel: this._handleCancel
                            }, d.default.createElement("form", null, d.default.createElement("ol", null, d.default.createElement("li", {
                                key: "light"
                            }, d.default.createElement("label", {
                                className: p.default.label
                            }, d.default.createElement("input", {
                                type: "radio",
                                name: "theme",
                                value: "light",
                                className: p.default.input,
                                checked: "light" === e,
                                onChange: this._handleThemeChange
                            }), f.default.t(1490))), d.default.createElement("li", {
                                key: "dark"
                            }, d.default.createElement("label", {
                                className: p.default.label
                            }, d.default.createElement("input", {
                                type: "radio",
                                name: "theme",
                                value: "dark",
                                className: p.default.input,
                                checked: "dark" === e,
                                onChange: this._handleThemeChange
                            }), f.default.t(1489))), d.default.createElement("li", {
                                key: "system"
                            }, d.default.createElement("label", {
                                className: p.default.label
                            }, d.default.createElement("input", {
                                type: "radio",
                                name: "theme",
                                value: "system",
                                className: p.default.input,
                                checked: "system" === e,
                                onChange: this._handleThemeChange
                            }), f.default.t(1492))))))
                        }
                    }]), a
                }(d.PureComponent);
            t.default = v, v.contextType = h.default, v.displayName = "ThemePopup"
        },
        21068: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.chat,
                    a = e.msgs;
                return l.default.createElement(o.default, {
                    onOK: function() {
                        t && t.pendingAction++, r.default.unstarAllMessages(a, t).finally((function() {
                            t && t.pendingAction--
                        })), i.default.closeModal()
                    },
                    okText: d.default.t(1509),
                    onCancel: function() {
                        i.default.closeModal()
                    }
                }, l.default.createElement("div", null, l.default.createElement(u.default, {
                    text: d.default.t(1510)
                })))
            };
            var l = n(a(67294)),
                r = n(a(26671)),
                i = n(a(34541)),
                o = n(a(25960)),
                u = n(a(41769)),
                d = n(a(89115))
        },
        9051: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.contactList,
                    n = e.onSend,
                    l = e.onBack,
                    g = e.chat;
                switch (g.kind) {
                    case i.CHAT_KIND.CHAT:
                        t = f.default.t(565, {
                            chat: g.title(),
                            count: f.default.n(a.length),
                            _plural: a.length
                        });
                        break;
                    case i.CHAT_KIND.GROUP:
                        t = f.default.t(566, {
                            chat: g.title(),
                            count: f.default.n(a.length),
                            _plural: a.length
                        });
                        break;
                    case i.CHAT_KIND.BROADCAST:
                        t = f.default.t(564, {
                            chat: g.title(),
                            count: f.default.n(a.length),
                            _plural: a.length
                        })
                }
                var C = t ? r.default.createElement(s.default, {
                    text: t,
                    direction: "auto",
                    titlify: !0,
                    ellipsify: !0
                }) : null;
                return r.default.createElement(p.default, {
                    type: p.BoxModalType
                }, r.default.createElement(o.default, null, r.default.createElement(d.default, {
                    type: d.DRAWER_HEADER_TYPE.POPUP,
                    onBack: l
                }, C), r.default.createElement(u.default, null, r.default.createElement(c.default, null, r.default.createElement("div", {
                    className: v.default.body
                }, a.map((function(e, t) {
                    return r.default.createElement(_, {
                        key: t.toString(),
                        contact: (0, E.vcardFromContactModel)(e)
                    })
                }))))), r.default.createElement("div", {
                    className: v.default.btnContainer
                }, r.default.createElement("div", {
                    className: v.default.btnPosition
                }, r.default.createElement(m.default, {
                    large: !0,
                    onClick: n
                }, r.default.createElement(h.default, {
                    name: "send",
                    directional: !0
                }))))))
            };
            var r = l(a(67294)),
                i = a(54654),
                o = l(a(81997)),
                u = l(a(25259)),
                d = n(a(62647)),
                s = l(a(41769)),
                c = l(a(76568)),
                f = l(a(89115)),
                p = n(a(55090)),
                m = l(a(40746)),
                h = l(a(75131)),
                v = l(a(55771)),
                g = l(a(51295)),
                E = a(38210);

            function _(e) {
                var t = e.contact,
                    a = (0, E.parseVcard)(t.vcard);
                return a ? r.default.createElement("div", {
                    className: v.default.vcardWrapper
                }, r.default.createElement(g.default, {
                    parsedVcard: a,
                    thumbnail: (0, E.vcardThumbnail)(a)
                })) : null
            }
        },
        67432: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                o = r(a(93913)),
                u = r(a(2205)),
                d = r(a(99842)),
                s = r(a(94184)),
                c = a(53939),
                f = r(a(31339)),
                p = l(a(67294)),
                m = r(a(11797)),
                h = r(a(16973)),
                v = r(a(34541)),
                g = r(a(34263)),
                E = r(a(48629)),
                _ = r(a(21376)),
                C = r(a(81997)),
                y = r(a(25259)),
                S = l(a(62647)),
                k = l(a(98569)),
                M = r(a(19129)),
                T = a(92618),
                I = a(62993),
                b = a(65802),
                P = a(71701),
                w = r(a(8695)),
                L = r(a(22021)),
                O = l(a(55119)),
                D = r(a(17957)),
                N = a(27454),
                R = r(a(89115)),
                A = r(a(68390)),
                x = l(a(39582)),
                F = r(a(42027)),
                U = r(a(31516)),
                B = a(36474),
                G = r(a(95739)),
                H = r(a(87729)),
                j = r(a(44589)),
                V = r(a(75131)),
                W = a(28770),
                z = r(a(35997)),
                K = r(a(42037)),
                Y = r(a(56059)),
                q = a(33874),
                Z = r(a(68744)),
                $ = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            hover: !1,
                            currentQRBinary: null,
                            currentQRData: null
                        }, e.handleMouseOver = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseEnter = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseLeave = function() {
                            e.state.hover && e.setState({
                                hover: !1
                            })
                        }, e._setRefQRCodeContainer = function(t) {
                            e._refQRCodeContainer = t
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.binary && this._generateQRCode()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._generateQRCode()
                        }
                    }, {
                        key: "shouldComponentUpdate",
                        value: function(e, t) {
                            return !(this._compareBinary(e.binary, this.props.binary) && this._compareBinary(t.currentQRBinary, this.state.currentQRBinary) && e.visible === this.props.visible && t.hover === this.state.hover && t.currentQRData === this.state.currentQRData)
                        }
                    }, {
                        key: "_fingerprintsMatched",
                        value: function(e, t) {
                            return !!e && !!t && pe(e.publicKey, t.publicKey) && pe(e.identifier, t.identifier)
                        }
                    }, {
                        key: "_compareBinary",
                        value: function(e, t) {
                            if (!e && !t) return !0;
                            var a = (0, c.decodeProto)(b.CombinedFingerprintSpec, e),
                                n = (0, c.decodeProto)(b.CombinedFingerprintSpec, t);
                            if (!a && !n) return !0;
                            if (!(null != a.version || null != n.version || a.localFingerprint || n.localFingerprint || a.remoteFingerprint || n.remoteFingerprint)) return !0;
                            if (a.version !== n.version) return !1;
                            var l = this._fingerprintsMatched(a.localFingerprint, n.localFingerprint),
                                r = this._fingerprintsMatched(a.remoteFingerprint, n.remoteFingerprint);
                            return l && r
                        }
                    }, {
                        key: "_generateQRCode",
                        value: function() {
                            var e = this._refQRCodeContainer,
                                t = this.props.binary;
                            if (e && t) {
                                if (!this._compareBinary(this.state.currentQRBinary, t)) {
                                    for (this.qr && delete this.qr; e.firstChild;) e.removeChild(e.firstChild);
                                    this.qr = new U.default(e, {
                                        text: t,
                                        width: g.default.QR_EDGE / 2,
                                        height: g.default.QR_EDGE / 2,
                                        correctLevel: U.default.CorrectLevel.L
                                    }), this.setState({
                                        currentQRBinary: t
                                    });
                                    var a = e.getElementsByTagName("canvas")[0];
                                    a ? this._storeQRData(a) : this.setState({
                                        currentQRData: null
                                    })
                                }
                            } else this.setState({
                                currentQRBinary: null,
                                currentQRData: null
                            })
                        }
                    }, {
                        key: "_storeQRData",
                        value: function(e) {
                            var t = this,
                                a = document.createElement("canvas");
                            a.width = e.width + 10, a.height = e.height + 10;
                            var n = a.getContext("2d");
                            n.fillStyle = "white", n.fillRect(0, 0, a.width, a.height), n.drawImage(e, 5, 5), a.toBlob((function(e) {
                                return t.setState({
                                    currentQRData: e
                                })
                            }), "image/png")
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = null;
                            if (this.props.visible) {
                                var t = null;
                                if (this.state.hover && this.state.currentQRData) {
                                    var a = this.props.contact.formattedUser || "",
                                        n = E.default.assertGet((0, P.getMaybeMeUser)()).formattedUser;
                                    t = p.default.createElement(_.default, {
                                        file: this.state.currentQRData,
                                        download: "Verification Code between " + n + " and " + a,
                                        extension: I.AllowedFileExtensions.PNG
                                    }, p.default.createElement(m.default, {
                                        text: R.default.t(1986)
                                    }))
                                }
                                e = p.default.createElement("div", {
                                    onMouseOver: this.handleMouseOver,
                                    onMouseEnter: this.handleMouseEnter,
                                    onMouseLeave: this.handleMouseLeave
                                }, t, p.default.createElement("div", {
                                    className: K.default.circle,
                                    ref: this._setRefQRCodeContainer
                                }))
                            }
                            return e
                        }
                    }]), a
                }(p.Component);

            function X(e) {
                var t = null;
                return e.visible && (t = p.default.createElement("div", {
                    className: K.default.circle
                }, p.default.createElement("div", {
                    className: K.default.spinner
                }, p.default.createElement(H.default, {
                    size: 52,
                    stroke: 4
                })))), t
            }

            function J(e) {
                var t = e.binary,
                    a = e.contact,
                    n = null;
                return e.visible && (n = p.default.createElement("div", {
                    className: (0, s.default)(K.default.container, K.default.circleContainer)
                }, p.default.createElement($, {
                    visible: !!t,
                    binary: t,
                    contact: a
                }), p.default.createElement(X, {
                    visible: !t
                }))), n
            }
            $.defaultProps = {
                binary: null
            }, $.displayName = "VerificationQRCode";
            var Q = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    return (0, i.default)(this, a), t.apply(this, arguments)
                }
                return (0, o.default)(a, [{
                    key: "shouldComponentUpdate",
                    value: function(e) {
                        return e.string !== this.props.string
                    }
                }, {
                    key: "_numDigitsInVerificationString",
                    value: function() {
                        return 60
                    }
                }, {
                    key: "render",
                    value: function() {
                        if (!this.props.string) return p.default.createElement("div", null, R.default.t(977));
                        var e = this.props.string;
                        if (e.length !== this._numDigitsInVerificationString()) return __LOG__(3)`verificationString:render this.props.stringshould be ${this._numDigitsInVerificationString()} characters long instead of ${e.length}.`, p.default.createElement("div", null, R.default.t(1992));
                        for (var t = [], a = 0; a < 3; a++) {
                            for (var n = [], l = 0; l < 4; l++) {
                                for (var r = [], i = 0; i < 5; i++) {
                                    var o = e.charAt(5 * a * 4 + 5 * l + i);
                                    r.push(p.default.createElement("span", {
                                        className: K.default.digit,
                                        key: i
                                    }, o))
                                }
                                n.push(p.default.createElement("span", {
                                    className: K.default.block,
                                    key: l
                                }, r))
                            }
                            t.push(p.default.createElement(B.SelectableDiv, {
                                className: K.default.row,
                                key: a,
                                selectable: !0
                            }, n))
                        }
                        return p.default.createElement(B.SelectableDiv, {
                            selectable: !0
                        }, t)
                    }
                }]), a
            }(p.Component);

            function ee(e) {
                var t = null;
                return e.visible && (t = p.default.createElement("div", {
                    className: (0, s.default)(K.default.container, K.default.checkmarkContainer)
                }, p.default.createElement("div", {
                    className: K.default.checkmark
                }, "✓ "))), t
            }

            function te(e) {
                var t = null;
                return e.visible && (t = p.default.createElement("div", {
                    className: (0, s.default)(K.default.container, K.default.errorContainer)
                }, p.default.createElement("div", {
                    className: K.default.error
                }, "!"))), t
            }

            function ae(e) {
                var t = e.children;
                return p.default.createElement("div", {
                    className: K.default.errorBanner
                }, t)
            }
            Q.defaultProps = {
                string: null
            }, Q.displayName = "VerificationString";
            var ne = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, i.default)(this, a);
                    for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                    return (e = t.call.apply(t, [this].concat(l)))._refVerificationVideo = (0, p.createRef)(), e.handleVideoLoaded = function() {
                        null == e._captureInterval && (e._adjustOverlayPosition(), e._captureInterval = e.props.setInterval(e.capture, 200))
                    }, e.capture = function() {
                        var t, a = null === (t = e._refVerificationVideo.current) || void 0 === t ? void 0 : t.underlyingVideo();
                        if (a) {
                            var n = document.createElement("canvas");
                            n.width = a.videoWidth / 2, n.height = a.videoHeight / 2, n.getContext("2d").drawImage(a, n.width / 2, n.height / 2, n.width, n.height, 0, 0, n.width, n.height), n.toBlob((function(t) {
                                var a = window.URL.createObjectURL(t);
                                __LOG__(2)`objectURL: ${a}`, e.props.onCapture(a)
                            }), "image/jpeg", 1)
                        }
                    }, e._adjustOverlayPosition = function() {
                        var t, a = null === (t = e._refVerificationVideo.current) || void 0 === t ? void 0 : t.underlyingVideo(),
                            n = e._refVerificationOverlay;
                        if (a && n) {
                            var l = a.offsetHeight,
                                r = a.offsetWidth,
                                i = r / 3,
                                o = i;
                            n.style.width = i + "px", n.style.height = o + "px", n.style.margin = (l - o) / 2 + "px " + (r - i) / 2 + "px"
                        }
                    }, e._setRefVerificationOverlay = function(t) {
                        e._refVerificationOverlay = t
                    }, e
                }
                return (0, o.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        this.props.listeners.add(window, "resize", this._adjustOverlayPosition), (0, x.isSrcObjectInVideoElement)() || (this._videoURL = window.URL.createObjectURL(this.props.stream))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        var e, t;
                        null != this._captureInterval && this.props.clearInterval(this._captureInterval), this.props.stream && (null === (e = (t = this.props).disposeStream) || void 0 === e || e.call(t), this._videoURL && window.URL.revokeObjectURL(this._videoURL))
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = null;
                        return this.props.stream && (e = p.default.createElement("div", {
                            className: K.default.webcam
                        }, p.default.createElement("div", {
                            className: K.default.webcamVideo
                        }, p.default.createElement(Y.default, {
                            autoPlay: !0,
                            ref: this._refVerificationVideo,
                            onPlay: this.handleVideoLoaded,
                            src: this._videoURL ? this._videoURL : void 0,
                            srcObject: this._videoURL ? void 0 : this.props.stream,
                            width: "100%"
                        })), p.default.createElement("div", {
                            className: K.default.overlay,
                            ref: this._setRefVerificationOverlay
                        }), p.default.createElement("button", {
                            onClick: this.props.onClose,
                            className: K.default.btnClose
                        }, p.default.createElement(V.default, {
                            name: "x-alt"
                        })))), e
                    }
                }]), a
            }(p.Component);
            ne.displayName = "VerificationWebcamComponent";
            var le = (0, A.default)((0, z.default)(ne)),
                re = 0,
                ie = 1,
                oe = 2,
                ue = 3,
                de = 4,
                se = 5,
                ce = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            circleVisible: !0,
                            checkmarkVisible: !1,
                            errorIconVisible: !1,
                            webcamVisible: !1,
                            bannerVisible: !1,
                            bannerText: null,
                            stream: null,
                            isDragging: !1,
                            binaryMD: null,
                            stringMD: null
                        }, e._handleIdentityKeyMissing = function() {
                            v.default.openModal(p.default.createElement(G.default, {
                                name: e.props.contact.formattedUser,
                                onOK: function() {
                                    e.props.onClose ? e.props.onClose() : e.props.uim.uie.requestDismiss()
                                }
                            }))
                        }, e.handleDragChange = function(t) {
                            e.setState({
                                isDragging: t
                            })
                        }, e.handleDrop = function(t) {
                            e.props.contact.verificationBinary && e.props.contact.verificationString && e._handleUploadSelect(t)
                        }, e._setIdentityState = function() {
                            (0, Z.default)(e.props.contact.id).checkpoint(e.props.rejectOnUnmount()).then((function(t) {
                                t ? (pe(e.state.binaryMD, t.binary) && !t.string !== e.state.stringMD || (null != e.state.binaryMD && v.default.openModal(p.default.createElement(q.E2EChangeModal, {
                                    contact: e.props.contact
                                })), e.setState({
                                    binaryMD: t.binary,
                                    stringMD: t.string
                                })), e._refreshTimer = e.props.setTimeout((function() {
                                    e._setIdentityState()
                                }), 1e3)) : (null != e._refreshTimer && e.props.clearTimeout(e._refreshTimer), e._handleIdentityKeyMissing())
                            })).catchType(k.Unmount, (function() {}))
                        }, e._showWebcamHint = function() {
                            e.state.webcamVisible && !e.state.bannerVisible && e._showBanner(R.default.t(1996))
                        }, e._handleWebcamOpen = function() {
                            var t = x.start("camera"),
                                a = t.asyncStream,
                                n = t.disposeStream;
                            e._disposeStream = n, a.then((function(t) {
                                return e._showWebcamStream(t)
                            })).catchType(k.GUM.NotAllowedError, (function() {
                                v.default.openModal(p.default.createElement(O.default, {
                                    messaging: O.Messaging.CAMERA_FAIL,
                                    type: O.default.TYPE.GUIDE_UNBLOCK
                                }))
                            })).catchType(k.GUM.GUMError, (function() {
                                v.default.openModal(p.default.createElement(O.default, {
                                    messaging: O.Messaging.CAMERA_MISSING,
                                    type: O.default.TYPE.GUIDE_NONE
                                }))
                            }))
                        }, e._handleWebcamClose = function() {
                            e.setState({
                                webcamVisible: !1,
                                bannerVisible: !1,
                                stream: null
                            }), e._disposeStream = null
                        }, e._handleWebcamCapture = function(t) {
                            e._verifyImage(t, !0)
                        }, e._handleUploadClick = function() {
                            var t = e._refVerificationFilePickerInput;
                            t && t.click()
                        }, e._handleUploadSelect = function(t) {
                            t.stopPropagation();
                            var a = t.target.files || t.dataTransfer.files;
                            if (a && a[0]) {
                                var n = a[0],
                                    l = URL.createObjectURL(n);
                                e._verifyImage(l, !1);
                                var r = e._refVerificationFilePickerForm;
                                r && r.reset()
                            }
                        }, e.handleClose = function() {
                            e.props.onClose ? e.props.onClose() : e.props.uim.uie.requestDismiss()
                        }, e._hideCheckmark = function() {
                            e.state.errorIconVisible || e.setState({
                                circleVisible: !0
                            }), e.setState({
                                checkmarkVisible: !1
                            })
                        }, e._hideError = function() {
                            e.state.checkmarkVisible || e.setState({
                                circleVisible: !0
                            }), e.setState({
                                errorIconVisible: !1
                            })
                        }, e._hideBanner = function() {
                            e.setState({
                                bannerVisible: !1
                            })
                        }, e._setRefVerificationFilePickerForm = function(t) {
                            e._refVerificationFilePickerForm = t
                        }, e._setRefVerificationFilePickerInput = function(t) {
                            e._refVerificationFilePickerInput = t
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            L.default.supportsFeature(L.default.F.MD_BACKEND) ? this._setIdentityState() : (0, N.queryIdentity)(this.props.contact)
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e) {
                            e.contact === this.props.contact || L.default.supportsFeature(L.default.F.MD_BACKEND) || (0, N.queryIdentity)(this.props.contact)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            null === (e = this._disposeStream) || void 0 === e || e.call(this)
                        }
                    }, {
                        key: "_showWebcamStream",
                        value: function(e) {
                            this.setState({
                                webcamVisible: !0,
                                circleVisible: !0,
                                checkmarkVisible: !1,
                                errorIconVisible: !1,
                                stream: e
                            }), null != this._hintTimer && (this.props.clearTimeout(this._hintTimer), delete this._hintTimer), this._hintTimer = this.props.setTimeout(this._showWebcamHint, 7e3)
                        }
                    }, {
                        key: "_getErrorBannerText",
                        value: function(e) {
                            var t, a = this.props.contact.formattedShortName;
                            switch (e) {
                                case oe:
                                    t = R.default.t(1990, {
                                        contact: a
                                    });
                                    break;
                                case ue:
                                case de:
                                    t = R.default.t(1989, {
                                        contact: a
                                    });
                                    break;
                                case se:
                                default:
                                    t = R.default.t(1988)
                            }
                            return t
                        }
                    }, {
                        key: "_showCheckmark",
                        value: function() {
                            this._handleWebcamClose(), this.setState({
                                circleVisible: !1,
                                checkmarkVisible: !0,
                                errorIconVisible: !1,
                                bannerVisible: !1
                            }), null != this._iconTimer && (this.props.clearTimeout(this._iconTimer), delete this._iconTimer), this._iconTimer = this.props.setTimeout(this._hideCheckmark, 3e3)
                        }
                    }, {
                        key: "_showErrorIcon",
                        value: function() {
                            this._handleWebcamClose(), this.setState({
                                circleVisible: !1,
                                checkmarkVisible: !1,
                                errorIconVisible: !0,
                                bannerVisible: !1
                            }), null != this._iconTimer && (this.props.clearTimeout(this._iconTimer), delete this._iconTimer), this._iconTimer = this.props.setTimeout(this._hideError, 3e3)
                        }
                    }, {
                        key: "_showErrorBanner",
                        value: function(e) {
                            var t = this._getErrorBannerText(e);
                            this._showBanner(t)
                        }
                    }, {
                        key: "_showBanner",
                        value: function(e) {
                            this.setState({
                                circleVisible: !0,
                                checkmarkVisible: !1,
                                errorIconVisible: !1,
                                bannerVisible: !0,
                                bannerText: e
                            }), null != this._bannerTimer && (this.props.clearTimeout(this._bannerTimer), delete this._bannerTimer), this._bannerTimer = this.props.setTimeout(this._hideBanner, 5e3)
                        }
                    }, {
                        key: "_validateFingerprint",
                        value: function(e) {
                            if (!e || 0 === !e.version || !e.localFingerprint || !e.remoteFingerprint) return se;
                            var t = new ArrayBuffer(0);
                            t = L.default.supportsFeature(L.default.F.MD_BACKEND) ? this.state.binaryMD : this.props.contact.verificationBinary;
                            var a = (0, c.decodeProto)(b.CombinedFingerprintSpec, t);
                            if (pe(e.localFingerprint && e.localFingerprint.identifier, a.localFingerprint && a.localFingerprint.identifier) && pe(e.remoteFingerprint && e.remoteFingerprint.identifier, a.remoteFingerprint && a.remoteFingerprint.identifier)) return re;
                            var n = pe(e.remoteFingerprint && e.remoteFingerprint.identifier, a.localFingerprint && a.localFingerprint.identifier),
                                l = pe(e.localFingerprint && e.localFingerprint.identifier, a.remoteFingerprint && a.remoteFingerprint.identifier);
                            if (!n && !l) return de;
                            if (!n) return oe;
                            if (!l) return ue;
                            var r = pe(e.remoteFingerprint && e.remoteFingerprint.publicKey, a.localFingerprint && a.localFingerprint.publicKey),
                                i = pe(e.localFingerprint && e.localFingerprint.publicKey, a.remoteFingerprint && a.remoteFingerprint.publicKey);
                            return r && i ? re : ie
                        }
                    }, {
                        key: "_decodeQRCode",
                        value: function(e) {
                            return new n((function(t, a) {
                                f.default.callback = function(e, n) {
                                    if (n) a(n);
                                    else if (e.length < 1) a("QR decoder did not return decoded binary");
                                    else {
                                        var l = new Uint8Array(e[0]);
                                        t(l)
                                    }
                                }, f.default.decode(e)
                            }))
                        }
                    }, {
                        key: "_verifyImage",
                        value: function(e, t) {
                            var a = this;
                            this._decodeQRCode(e).then((function(e) {
                                return (0, c.decodeProto)(b.CombinedFingerprintSpec, e)
                            })).then((function(e) {
                                var n = a._validateFingerprint(e);
                                n ? t && n === se || (a.setState({
                                    errorType: n
                                }), n === ie ? a._showErrorIcon() : a._showErrorBanner(n)) : a._showCheckmark()
                            })).catch((function() {
                                t || (a.setState({
                                    errorType: se
                                }), a._showErrorBanner(se))
                            })).finally((function() {
                                window.URL.revokeObjectURL(e)
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = null,
                                t = null,
                                a = null,
                                n = null,
                                l = null,
                                r = null,
                                i = new ArrayBuffer(0),
                                o = "";
                            return L.default.supportsFeature(L.default.F.MD_BACKEND) ? (i = this.state.binaryMD, o = this.state.stringMD, r = R.default.t(1841, {
                                contactName: this.props.contact.formattedShortName
                            })) : (i = this.props.contact.verificationBinary, o = this.props.contact.verificationString, r = R.default.t(1991)), i && (w.default && (e = p.default.createElement("div", {
                                className: K.default.section
                            }, p.default.createElement(h.default, {
                                type: "primary",
                                onClick: this.state.webcamVisible ? this._handleWebcamClose : this._handleWebcamOpen
                            }, this.state.webcamVisible ? R.default.t(1995) : R.default.t(1997)))), t = p.default.createElement("div", {
                                className: K.default.section
                            }, p.default.createElement(h.default, {
                                type: "primary",
                                onClick: this._handleUploadClick
                            }, R.default.t(1994)), p.default.createElement("p", {
                                className: K.default.dragAndDropExplanation
                            }, this.state.isDragging ? R.default.t(1987) : null)), a = p.default.createElement("form", {
                                ref: this._setRefVerificationFilePickerForm
                            }, p.default.createElement("input", {
                                ref: this._setRefVerificationFilePickerInput,
                                accept: "image/*",
                                type: "file",
                                style: {
                                    display: "none"
                                },
                                onChange: this._handleUploadSelect,
                                onClick: function(e) {
                                    return e.stopPropagation()
                                }
                            }))), this.state.webcamVisible && this.state.stream && (n = p.default.createElement(le, {
                                stream: this.state.stream,
                                disposeStream: this._disposeStream,
                                onCapture: this._handleWebcamCapture,
                                onClose: this._handleWebcamClose
                            })), this.state.bannerVisible && (l = p.default.createElement(ae, null, this.state.bannerText)), p.default.createElement(C.default, {
                                theme: "verification",
                                onDrop: this.handleDrop,
                                onDragChange: this.handleDragChange
                            }, p.default.createElement(S.default, {
                                type: S.DRAWER_HEADER_TYPE.SMALL,
                                onBack: this.handleClose
                            }, p.default.createElement(W.TextDiv, {
                                theme: "title"
                            }, R.default.t(1993)), p.default.createElement(W.TextDiv, {
                                theme: "small"
                            }, R.default.t(2003), ", ", this.props.contact.formattedUser)), n, l, p.default.createElement(y.default, null, p.default.createElement("div", {
                                className: K.default.form
                            }, p.default.createElement("div", {
                                className: K.default.photo
                            }, p.default.createElement(J, {
                                binary: i,
                                contact: this.props.contact,
                                visible: this.state.circleVisible
                            }), p.default.createElement(ee, {
                                visible: this.state.checkmarkVisible
                            }), p.default.createElement(te, {
                                visible: this.state.errorIconVisible
                            })), p.default.createElement("div", {
                                className: K.default.section
                            }, p.default.createElement("div", {
                                className: K.default.code
                            }, p.default.createElement(Q, {
                                string: o
                            }))), p.default.createElement("div", {
                                className: K.default.section
                            }, p.default.createElement("p", {
                                className: K.default.explanation
                            }, p.default.createElement("span", null, r, " "), p.default.createElement(M.default, {
                                href: (0, T.getE2EFaqUrl)()
                            }, R.default.t(936)))), e, t, a)))
                        }
                    }]), a
                }(p.Component);
            ce.CONCERNS = {
                contact: ["verificationBinary", "verificationString", "formattedUser", "formattedShortName", "id"]
            }, ce.displayName = "VerificationDrawer";
            var fe = (0, D.default)((0, F.default)((0, z.default)((0, j.default)(ce, ce.CONCERNS))));

            function pe(e, t) {
                if (!e || !t) return !1;
                var a = new Uint8Array(e),
                    n = new Uint8Array(t),
                    l = a.length;
                if (l !== n.length) return !1;
                for (var r = 0; r < l; r++)
                    if (a[r] !== n[r]) return !1;
                return !0
            }
            t.default = fe
        },
        27495: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = l(a(97930)),
                p = l(a(65179)),
                m = l(a(26015)),
                h = l(a(34541)),
                v = l(a(34263)),
                g = l(a(81997)),
                E = l(a(25259)),
                _ = n(a(62647)),
                C = l(a(89115)),
                y = l(a(63056)),
                S = l(a(44589)),
                k = a(28770),
                M = l(a(34970)),
                T = n(a(92631)),
                I = a(39858),
                b = l(a(98129)),
                P = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            hover: !1
                        }, e.handleClick = function() {
                            var t = e._encodeColor(),
                                a = p.default.get("defaultPreference");
                            a && t !== a.wallpaperColor && (a.set("wallpaperColor", t), h.default.openToast(c.default.createElement(T.default, {
                                msg: C.default.t(1671),
                                id: (0, T.genId)()
                            })))
                        }, e.handleMouseOver = function() {
                            e.state.hover || (e.setState({
                                hover: !0
                            }), p.default.trigger("wallpaper_color_preview", e._encodeColor()))
                        }, e.handleMouseEnter = function() {
                            e.state.hover || (e.setState({
                                hover: !0
                            }), p.default.trigger("wallpaper_color_preview", e._encodeColor()))
                        }, e.handleMouseLeave = function() {
                            e.state.hover && (e.setState({
                                hover: !1
                            }), p.default.trigger("wallpaper_color_preview"))
                        }, e._encodeColor = function() {
                            var t = e.props,
                                a = t.colorHex;
                            return t.isDefault ? v.default.DEFAULT_CHAT_WALLPAPER : a
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t = this.props.isDefault ? c.default.createElement("span", {
                                    className: b.default.wallpaperDefaultTitle,
                                    "data-a8n": f.default.key("wallpaper-default-title")
                                }, C.default.t(603)) : null,
                                a = (0, s.default)(b.default.wallpaperColorCanvas, (e = {}, (0, r.default)(e, b.default.canvasHover, this.state.hover), (0, r.default)(e, b.default.canvasActive, this.props.isSelected), (0, r.default)(e, b.default.canvasDefault, this.props.isDefault), e));
                            return c.default.createElement("span", {
                                className: a,
                                style: {
                                    backgroundColor: this.props.colorHex
                                },
                                onMouseOver: this.handleMouseOver,
                                onMouseEnter: this.handleMouseEnter,
                                onMouseLeave: this.handleMouseLeave,
                                onClick: this.handleClick,
                                title: this.props.isDefault ? C.default.t(603) : null
                            }, t)
                        }
                    }]), a
                }(c.Component);
            P.displayName = "ColorCanvas";
            var w = function(e) {
                (0, u.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, i.default)(this, a);
                    for (var n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                    return (e = t.call.apply(t, [this].concat(l)))._handleWallpaperDoodleChange = function() {
                        var t = e.props.chatPreference;
                        if (t) {
                            var a = !t.showDoodle;
                            t.set("showDoodle", a), h.default.openToast(c.default.createElement(T.default, {
                                msg: a ? C.default.t(1672) : C.default.t(1673),
                                id: (0, T.genId)()
                            }))
                        }
                    }, e
                }
                return (0, o.default)(a, [{
                    key: "render",
                    value: function() {
                        var e, t = this.props,
                            a = t.chatPreference,
                            n = t.colors,
                            l = a && a.wallpaperColor,
                            r = a && a.showDoodle,
                            i = n.map((function(e) {
                                return c.default.createElement(P, {
                                    colorHex: e,
                                    isSelected: l === e,
                                    isDefault: !1,
                                    key: e
                                })
                            })),
                            o = c.default.createElement(P, {
                                isSelected: l === v.default.DEFAULT_CHAT_WALLPAPER,
                                isDefault: !0,
                                key: v.default.DEFAULT_CHAT_WALLPAPER
                            });
                        i.unshift(o);
                        for (var u = 0; u < 2; u++) i.push(c.default.createElement("div", {
                            key: "emptyEl" + u,
                            className: b.default.wallpaperColorEmpty
                        }));
                        return y.default.wallpapersV2 && (e = c.default.createElement("div", {
                            className: b.default.wallpaperApplyDoodle
                        }, c.default.createElement(m.default, {
                            onChange: this._handleWallpaperDoodleChange,
                            checked: !!r
                        }), c.default.createElement(k.TextSpan, {
                            className: b.default.checkboxLabel,
                            theme: "small"
                        }, C.default.t(1670)))), c.default.createElement(c.default.Fragment, null, e, c.default.createElement("div", {
                            className: b.default.wallpaperColorGrid
                        }, i))
                    }
                }]), a
            }(c.Component);
            w.CONCERNS = {
                chatPreference: ["wallpaperColor", "showDoodle"]
            }, w.displayName = "ColorGridClass";
            var L = (0, S.default)(w, w.CONCERNS),
                O = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        return (0, i.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, o.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            p.default.trigger("wallpaper_color_preview"), y.default.wallpapersV2 && p.default.trigger("wallpaper_drawer_close")
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            y.default.wallpapersV2 && p.default.trigger("wallpaper_drawer_open")
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return c.default.createElement(g.default, null, c.default.createElement(_.default, {
                                title: C.default.t(1674),
                                onBack: this.props.onClose,
                                type: _.DRAWER_HEADER_TYPE.LARGE
                            }), c.default.createElement(E.default, null, c.default.createElement(L, {
                                colors: (0, I.getWallpaperColors)(this.context.theme),
                                chatPreference: p.default.get("defaultPreference")
                            })))
                        }
                    }]), a
                }(c.Component);
            t.default = O, O.contextType = M.default, O.displayName = "WallpaperDrawer"
        },
        45554: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(79140)),
                c = l(a(34541)),
                f = l(a(25960)),
                p = n(a(54442)),
                m = l(a(81997)),
                h = l(a(25259)),
                v = n(a(62647)),
                g = a(14650),
                E = l(a(19539)),
                _ = l(a(50842)),
                C = l(a(89115)),
                y = l(a(64616)),
                S = l(a(15805)),
                k = l(a(92212)),
                M = a(28770),
                T = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._orderFlatListController = new _.default, n.state = {
                            isLoading: !0,
                            fetchState: "PENDING",
                            order: null
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.orderId,
                                n = t.token,
                                l = t.sellerJid;
                            y.default.findOrder(a, l, n).then((function(t) {
                                e.setState({
                                    fetchState: "SUCCESS",
                                    isLoading: !1,
                                    order: t
                                })
                            })).catchType(g.E404, (function() {
                                e._showNotFoundErrorToast(), e.setState({
                                    fetchState: "ERROR",
                                    isLoading: !1
                                })
                            })).catch((function() {
                                e.setState({
                                    fetchState: "ERROR",
                                    isLoading: !1
                                }), __LOG__(4, !0, new Error, !0)`Catalog Order Display failed`, SEND_LOGS("OrderDetails: failed to display")
                            }))
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this.props.sellerJid,
                                t = this.state,
                                a = t.fetchState,
                                n = t.order;
                            if (this.state.isLoading || null == n) return d.default.createElement(E.default, {
                                fetchState: a
                            });
                            var l = "";
                            l = n.products.length > 0 ? C.default.t(925, {
                                count: n.totalItemCount || 0,
                                _plural: n.totalItemCount || 0
                            }) : C.default.t(1243);
                            var r = d.default.createElement(M.TextDiv, {
                                    theme: "title"
                                }, l),
                                i = null;
                            i = null != n.total && 0 !== n.total ? C.default.t(1240, {
                                subtotal: p.format(n.currency, n.total)
                            }) : C.default.t(1236);
                            var o = d.default.createElement(M.TextDiv, {
                                    theme: "muted-small"
                                }, i),
                                u = null;
                            if (null != n.createdAt) {
                                var c = s.default.timeStr(n.createdAt);
                                u = d.default.createElement(M.TextSpan, {
                                    theme: "muted-small"
                                }, `${c}`)
                            }
                            return d.default.createElement(d.default.Fragment, null, d.default.createElement(E.default, {
                                fetchState: a
                            }), d.default.createElement("div", {
                                className: S.default.info
                            }, r, o), d.default.createElement(k.default, {
                                flatListController: this._orderFlatListController,
                                onProductDetail: this.props.onProductDetail,
                                order: n,
                                sellerJid: e
                            }), d.default.createElement("div", {
                                className: S.default.date
                            }, u))
                        }
                    }, {
                        key: "_showNotFoundErrorToast",
                        value: function() {
                            c.default.openModal(d.default.createElement(f.default, {
                                onOK: function() {
                                    c.default.closeModal()
                                },
                                okText: C.default.t(1865)
                            }, C.default.t(1237)))
                        }
                    }, {
                        key: "handleClose",
                        value: function() {
                            c.default.closeDrawerRight()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.userIsCartOwner;
                            return d.default.createElement(m.default, {
                                theme: "striped",
                                onDrop: this.handleClose
                            }, d.default.createElement(v.default, {
                                title: e ? C.default.t(435) : C.default.t(434),
                                type: v.DRAWER_HEADER_TYPE.SMALL,
                                onBack: this.handleClose
                            }), d.default.createElement(h.default, {
                                flatListControllers: [this._orderFlatListController]
                            }, this._getDrawerContent()))
                        }
                    }]), a
                }(d.Component);
            t.default = T, T.displayName = "OrderDetailDrawer"
        },
        92212: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.order,
                    a = e.onProductDetail,
                    n = e.sellerJid,
                    f = function(e) {
                        var a = t.orderItemCollection.toArray();
                        return (0, d.logOrderListImpression)({
                            catalogContext: e,
                            orderId: t.id,
                            productCount: a.length,
                            catalogOwnerJid: n
                        }), a.map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        }))
                    };
                return l.default.createElement(i.default.Consumer, null, (function(t) {
                    var n = (0, c.getProductCatalogContext)(t);
                    return l.default.createElement(u.default, {
                        flatListControllers: [e.flatListController]
                    }, l.default.createElement(o.default, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: f(n),
                        renderItem: function(t) {
                            return function(t, n) {
                                var r = e.sellerJid,
                                    i = t.product,
                                    o = {
                                        productId: i.id,
                                        businessOwnerJid: r
                                    };
                                return l.default.createElement(s.default, {
                                    product: i,
                                    onClick: function() {
                                        (0, d.logOrderListItemClick)({
                                            catalogContext: n,
                                            orderId: e.order.id,
                                            catalogOwnerJid: r
                                        }), a(o)
                                    }
                                })
                            }(t, n)
                        },
                        defaultItemHeight: r.default.PRODUCT_LIST_ITEM_HEIGHT
                    }))
                }))
            };
            var l = n(a(67294)),
                r = n(a(34263)),
                i = n(a(66015)),
                o = n(a(60482)),
                u = n(a(55959)),
                d = a(74725),
                s = n(a(54125)),
                c = a(79164)
        },
        54125: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    a = e.onClick,
                    n = r.default.createElement(u.default, {
                        text: t.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    l = r.default.createElement(c.default, {
                        mediaData: t.mediaData,
                        theme: "list"
                    }),
                    p = d.default.t(1241, {
                        quantity: t.quantity.toString()
                    }),
                    m = null;
                t.quantity && (m = r.default.createElement(f.TextSpan, {
                    className: s.default.quantity
                }, p));
                var h = null;
                h = t.price && 0 !== t.price ? o.format(t.currency, t.price) : d.default.t(427);
                var v = r.default.createElement(f.TextSpan, {
                        className: s.default.price
                    }, h),
                    g = null;
                null != m && (g = r.default.createElement("span", {
                    className: s.default.separator
                }, "•"));
                var E = r.default.createElement("div", null, v, g, m);
                return r.default.createElement(i.default, {
                    key: t.id.toString(),
                    image: l,
                    customImage: !0,
                    primary: n,
                    secondary: E,
                    theme: "order-product",
                    onClick: a
                })
            };
            var r = l(a(67294)),
                i = l(a(10598)),
                o = n(a(54442)),
                u = l(a(41769)),
                d = l(a(89115)),
                s = l(a(16248)),
                c = l(a(5548)),
                f = a(28770)
        },
        42719: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.CatalogSettingsDrawer = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = a(14011),
                c = l(a(93250)),
                f = l(a(8371)),
                p = l(a(34541)),
                m = l(a(81997)),
                h = l(a(25259)),
                v = n(a(62647)),
                g = l(a(51376)),
                E = a(92618),
                _ = a(71701),
                C = l(a(89115)),
                y = l(a(68390)),
                S = l(a(42027)),
                k = l(a(9782)),
                M = l(a(87729)),
                T = a(28770),
                I = n(a(92631));

            function b(e) {
                var t = e.cartEnabled,
                    a = e.setCartEnabled,
                    n = function(e) {
                        a(e), (0, s.updateCartEnabled)(e).catch((function() {
                            __LOG__(4, !0, new Error, !0)`Failed to update cartEnabled value`, SEND_LOGS("updateCartEnabled: cartEnabled toggle error"), p.default.openToast(d.default.createElement(I.default, {
                                msg: C.default.t(2046),
                                duration: 6e3,
                                id: (0, I.genId)()
                            })), a(t)
                        }))
                    },
                    l = `\n    <a href="${(0,E.getCatalogCartOnOffFaqUrl)()}" target="_blank">\n      ${C.default.t(936)}\n    </a>`,
                    r = C.default.t(486, {
                        learn_more_link: l
                    });
                return d.default.createElement(d.default.Fragment, null, d.default.createElement(g.default, {
                    title: C.default.t(485),
                    theme: "title-larger",
                    animation: !1
                }, d.default.createElement(k.default, {
                    isChosen: t,
                    onChoose: function() {
                        n(!0)
                    },
                    choiceText: C.default.t(490)
                }), d.default.createElement(k.default, {
                    isChosen: !t,
                    onChoose: function() {
                        n(!1)
                    },
                    choiceText: C.default.t(489)
                })), d.default.createElement(T.TextDiv, {
                    theme: "plain",
                    className: f.default.descriptionText
                }, d.default.createElement("div", {
                    dangerouslySetInnerHTML: {
                        __html: r
                    }
                })))
            }
            var P = function(e) {
                (0, o.default)(a, e);
                var t = (0, u.default)(a);

                function a(e) {
                    var n;
                    return (0, r.default)(this, a), (n = t.call(this, e)).updateCartEnabled = function(e) {
                        n.setState({
                            cartEnabled: e
                        })
                    }, n.state = {
                        isLoading: !0,
                        cartEnabled: !1
                    }, n
                }
                return (0, i.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this;
                        c.default.fetchBizProfile((0, _.getMeUser)()).then((function(t) {
                            var a = t.profileOptions;
                            e.setState({
                                cartEnabled: null != a && a.cartEnabled,
                                isLoading: !1
                            })
                        })).catch((function() {
                            __LOG__(4, !0, new Error)`Error fetching the business profile.`, p.default.openToast(d.default.createElement(I.default, {
                                msg: C.default.t(487),
                                duration: 6e3,
                                id: (0, I.genId)()
                            })), e.props.onBack()
                        }))
                    }
                }, {
                    key: "_getDrawerContent",
                    value: function() {
                        return d.default.createElement(b, {
                            cartEnabled: this.state.cartEnabled,
                            setCartEnabled: this.updateCartEnabled
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        return d.default.createElement(m.default, {
                            theme: "catalog",
                            onDrop: this.props.onBack
                        }, d.default.createElement(v.default, {
                            title: C.default.t(488),
                            type: v.DRAWER_HEADER_TYPE.LARGE,
                            onBack: this.props.onBack
                        }), d.default.createElement(h.default, null, this.state.isLoading ? d.default.createElement("div", {
                            className: f.default.loadingSpinner
                        }, d.default.createElement(M.default, null)) : this._getDrawerContent()))
                    }
                }]), a
            }(d.Component);
            t.CatalogSettingsDrawer = P, P.displayName = "CatalogSettingsDrawer";
            var w = (0, S.default)((0, y.default)(P));
            t.default = w
        },
        5351: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selections,
                    a = e.active,
                    n = e.onSelectionChanged,
                    d = e.catalog,
                    s = function(e) {
                        ! function(e, l, r) {
                            t.setVal(e, l, r), a.setVal(e, r), n()
                        }(e, !t.isSelected(e), !1)
                    };
                return l.default.createElement(o.default, {
                    flatListControllers: [e.flatListController]
                }, l.default.createElement(i.default, {
                    flatListController: e.flatListController,
                    direction: "vertical",
                    forceConsistentRenderCount: !1,
                    data: d.productCollection.getProductModels(!0).map((function(e) {
                        return {
                            itemKey: e.id.toString(),
                            product: e
                        }
                    })),
                    renderItem: function(e) {
                        var n = e.product;
                        return l.default.createElement(u.default, {
                            key: n.id.toString(),
                            product: n,
                            selections: t,
                            onClick: function() {
                                return s(n)
                            },
                            active: a
                        })
                    },
                    defaultItemHeight: r.default.PRODUCT_LIST_ITEM_HEIGHT
                }))
            };
            var l = n(a(67294)),
                r = n(a(34263)),
                i = n(a(60482)),
                o = n(a(55959)),
                u = n(a(69454))
        },
        62762: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.EditCollectionContent = void 0;
            var r = l(a(59713)),
                i = l(a(87757)),
                o = l(a(48926)),
                u = l(a(34575)),
                d = l(a(93913)),
                s = l(a(2205)),
                c = l(a(99842)),
                f = l(a(94184)),
                p = l(a(96486)),
                m = n(a(67294)),
                h = a(16452),
                v = a(78271),
                g = l(a(5351)),
                E = l(a(34263)),
                _ = l(a(81997)),
                C = l(a(25259)),
                y = l(a(66015)),
                S = n(a(62647)),
                k = l(a(40198)),
                M = l(a(50842)),
                T = l(a(96658)),
                I = l(a(89115)),
                b = l(a(68390)),
                P = a(45184),
                w = l(a(11832)),
                L = a(79164),
                O = l(a(42027)),
                D = l(a(40746)),
                N = l(a(10560)),
                R = l(a(87729)),
                A = l(a(75131)),
                x = l(a(79077)),
                F = function(e) {
                    (0, s.default)(n, e);
                    var t, a = (0, c.default)(n);

                    function n(e) {
                        var t, l, r;
                        return (0, u.default)(this, n), (r = a.call(this, e)).active = new N.default([], (function(e) {
                            return e.id
                        })), r.selections = new w.default([], (function(e) {
                            return e.id.toString()
                        })), r._collectionFlatListController = new M.default, r.handleNameChange = function(e) {
                            var t = r.state.errorName;
                            t && e && (t = null), r.setState({
                                name: e,
                                errorName: t
                            })
                        }, r._handleScroll = function(e, t) {
                            var a, n;
                            (null === (a = r.state.scrollHelper) || void 0 === a ? void 0 : a.willLoadMore(t)) && r.setState({
                                loadingMore: !0
                            }), null === (n = r.state.scrollHelper) || void 0 === n || n.onScroll(e, t).then((function(e) {
                                e && r.setState({
                                    loadingMore: !1
                                })
                            })).catch((function(e) {
                                throw r.setState({
                                    loadingMore: !1
                                }), e
                            }))
                        }, r.handleScroll = p.default.throttle(r._handleScroll, 100), r.onScroll = function(e) {
                            r.handleScroll(e, e.currentTarget)
                        }, r.state = {
                            saveEnabled: !0,
                            dataSource: null,
                            scrollHelper: null,
                            name: null === (t = e.collection) || void 0 === t ? void 0 : t.name,
                            lastNameSaved: null === (l = e.collection) || void 0 === l ? void 0 : l.name,
                            errorName: null,
                            isUpdating: !1,
                            loadingMore: !0
                        }, r
                    }
                    return (0, d.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this._setupDataSource()
                        }
                    }, {
                        key: "_setupDataSource",
                        value: function() {
                            var e, t = this,
                                a = new v.CollectionsContentDataSource(this.props.catalog, E.default.PRODUCT_LIST_ITEM_HEIGHT, null === (e = this.props.collection) || void 0 === e ? void 0 : e.id),
                                n = new v.CatalogListItemScrollHelper(a);
                            this.setState({
                                dataSource: a,
                                scrollHelper: n
                            }, (function() {
                                a.loadInitialItems().then((function() {
                                    t.setState({
                                        loadingMore: !1
                                    }), t.forceUpdate()
                                }))
                            }))
                        }
                    }, {
                        key: "getNameEdit",
                        value: function() {
                            return m.default.createElement(x.default, {
                                editable: !0,
                                focusOnMount: !0,
                                showRemaining: !0,
                                value: this.state.name,
                                onChange: this.handleNameChange,
                                inputPlaceholder: I.default.t(443),
                                theme: "text-input",
                                error: this.state.errorName,
                                maxLength: 30
                            })
                        }
                    }, {
                        key: "getFooter",
                        value: function(e) {
                            var t, a = this,
                                n = this.syncSelection();
                            if (n > 0 || this.props.collection && this.state.name !== this.props.collection.name) {
                                var l = I.default.t(449, {
                                    updated: n,
                                    _plural: n
                                });
                                t = m.default.createElement("div", {
                                    className: k.default.footer
                                }, l, m.default.createElement("div", {
                                    className: k.default.saveButton
                                }, m.default.createElement(D.default, {
                                    large: !0,
                                    onClick: function() {
                                        a.save(e)
                                    }
                                }, m.default.createElement(A.default, {
                                    directional: !0,
                                    name: "checkmark-medium"
                                }))))
                            }
                            return t
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this,
                                t = this.state.isUpdating ? m.default.createElement("div", {
                                    className: k.default.spinner
                                }, m.default.createElement(R.default, {
                                    size: 50,
                                    stroke: 3
                                })) : null;
                            return m.default.createElement(y.default.Consumer, null, (function(a) {
                                var n = (0, L.getProductCatalogContext)(a);
                                return m.default.createElement(m.default.Fragment, null, t, m.default.createElement("div", {
                                    className: k.default.nameContainer
                                }, m.default.createElement("span", {
                                    className: k.default.nameIcon
                                }, m.default.createElement(A.default, {
                                    name: "collections_folder"
                                })), m.default.createElement("span", {
                                    className: k.default.nameEdit
                                }, e.getNameEdit(n))), m.default.createElement("div", {
                                    className: k.default.operation
                                }, e.props.collection ? I.default.t(454) : I.default.t(442)), m.default.createElement("div", {
                                    className: k.default.listContainer
                                }, m.default.createElement(g.default, {
                                    catalog: e.props.catalog,
                                    flatListController: e._collectionFlatListController,
                                    active: e.active,
                                    selections: e.selections,
                                    onSelectionChanged: function() {
                                        return e.forceUpdate()
                                    }
                                }), e.state.loadingMore && m.default.createElement("div", {
                                    className: k.default.loadingSpinner
                                }, m.default.createElement(T.default, null))), e.getFooter(n))
                            }))
                        }
                    }, {
                        key: "syncSelection",
                        value: function() {
                            var e = this,
                                t = this.props.catalog.productCollection.getProductModels(!0),
                                a = 0;
                            return t.forEach((function(t) {
                                e.selections.isInList(t) ? t.checkmark !== e.selections.isSelected(t) && a++ : e.selections.setVal(t, t.checkmark)
                            })), a
                        }
                    }, {
                        key: "getProductDeltas",
                        value: function() {
                            var e = this,
                                t = this.props.catalog.productCollection.getProductModels(!0),
                                a = [],
                                n = [];
                            return t.forEach((function(t) {
                                var l = e.selections.isSelected(t);
                                t.checkmark !== l && (l ? n.push(t) : a.push(t))
                            })), {
                                added: n,
                                removed: a
                            }
                        }
                    }, {
                        key: "save",
                        value: (t = (0, o.default)(i.default.mark((function e(t) {
                            var a, n, l, r, o, u, d, s, c, f;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (a = (0, L.getProductCatalogContext)(t), this.state.name && "" !== this.state.name.trim()) {
                                            e.next = 5;
                                            break
                                        }
                                        this.setState({
                                            errorName: I.default.t(450)
                                        }), e.next = 18;
                                        break;
                                    case 5:
                                        return this.setState({
                                            isUpdating: !0
                                        }), n = this.getProductDeltas(), l = n.added, r = n.removed, e.prev = 7, o = this.props, u = o.collection, d = o.catalog, s = o.onBack, e.next = 11, (0, h.handleCollectionSave)(d, u, this.state.name || "", l, r, a);
                                    case 11:
                                        e.sent && (s(), c = null == u ? void 0 : u.id, f = this.state.name !== this.state.lastNameSaved, c && f && ((0, P.logCollectionRenamed)({
                                            catalogContext: a,
                                            collectionId: c
                                        }), this.setState({
                                            lastNameSaved: this.state.name
                                        })), u && (0, P.logCollectionItemsAssignment)({
                                            collectionId: u.id,
                                            addedCount: l.length,
                                            removedCount: r.length,
                                            catalogContext: a
                                        })), e.next = 18;
                                        break;
                                    case 15:
                                        e.prev = 15, e.t0 = e.catch(7), this.setState({
                                            isUpdating: !1
                                        });
                                    case 18:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this, [
                                [7, 15]
                            ])
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = (0, f.default)(k.default.container, (0, r.default)({}, k.default.isSending, this.state.isUpdating)),
                                a = (null === (e = this.props.collection) || void 0 === e ? void 0 : e.name) || I.default.t(452);
                            return m.default.createElement(_.default, {
                                theme: "products",
                                onDrop: this.props.onBack
                            }, m.default.createElement(S.default, {
                                title: a,
                                type: S.DRAWER_HEADER_TYPE.LARGE,
                                onBack: this.props.onBack,
                                menu: m.default.createElement(m.default.Fragment, null)
                            }), m.default.createElement(C.default, {
                                className: t,
                                flatListControllers: [this._collectionFlatListController],
                                onScroll: this.onScroll
                            }, this._getDrawerContent()))
                        }
                    }]), n
                }(m.Component);
            t.EditCollectionContent = F, F.displayName = "EditCollectionContent";
            var U = (0, O.default)((0, b.default)(F));
            t.default = U
        },
        9778: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.EditProductDrawer = void 0;
            var r = l(a(59713)),
                i = l(a(34575)),
                o = l(a(93913)),
                u = l(a(2205)),
                d = l(a(99842)),
                s = l(a(94184)),
                c = n(a(67294)),
                f = a(16452),
                p = l(a(16973)),
                m = l(a(26015)),
                h = l(a(34541)),
                v = a(93860),
                g = n(a(54442)),
                E = l(a(43704)),
                _ = l(a(81997)),
                C = l(a(25259)),
                y = l(a(66015)),
                S = n(a(62647)),
                k = l(a(27334)),
                M = a(14650),
                T = a(71701),
                I = l(a(17957)),
                b = l(a(89115)),
                P = l(a(68390)),
                w = a(85539),
                L = n(a(91030)),
                O = a(86763),
                D = a(79164),
                N = l(a(12293)),
                R = l(a(42027)),
                A = l(a(63056)),
                x = l(a(87729)),
                F = l(a(44589)),
                U = l(a(79077)),
                B = n(a(92631)),
                G = l(a(69267)),
                H = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n, l;
                        (0, i.default)(this, a), (l = t.call(this, e))._imagePanelRef = (0, c.createRef)(), l._handleNameChange = function(e) {
                            l.setState({
                                name: e,
                                nameError: "" === e ? b.default.t(740) : "",
                                isModified: !0
                            })
                        }, l.getServerPrice = function(e) {
                            return parseInt(parseFloat(e).toFixed(2).toString().replace(/\.|,/g, ""), 10)
                        }, l._handlePriceChange = function(e) {
                            var t = g.valueFromString(l.state.currency, e),
                                a = "";
                            "" === e || g.validatePriceString(l.state.currency, e, L.MIN_PRICE, L.MAX_PRICE) || (a = b.default.t(741)), l.setState({
                                priceAmount1000: "" === e ? null : t,
                                priceStr: `${e}`,
                                priceError: a,
                                isModified: !0
                            })
                        }, l.handleDescriptionChange = function(e) {
                            l.setState({
                                description: e,
                                isModified: !0
                            })
                        }, l._handleUrlChange = function(e) {
                            var t = "";
                            "" === e || G.default.isValid(e) || (t = b.default.t(746)), l.setState({
                                url: e,
                                urlError: t,
                                isModified: !0
                            })
                        }, l._handleUrlBlur = function() {
                            var e = l.state.url;
                            "" === e || G.default.isHttps(e) || G.default.isHttp(e) || l.setState({
                                url: `https://${e}`
                            })
                        }, l._handleRetailerIdChange = function(e) {
                            l.setState({
                                retailerId: e,
                                retailerIdError: "",
                                isModified: !0
                            })
                        }, l._handleHiddenChange = function() {
                            l.setState({
                                isHidden: !l.state.isHidden
                            })
                        }, l._getProductChanges = function() {
                            var e = l.props.product,
                                t = l.state,
                                a = t.name,
                                n = t.priceAmount1000,
                                r = t.currency,
                                i = t.description,
                                o = t.url,
                                u = t.retailerId,
                                d = t.isHidden;
                            return new L.default({
                                id: e.id,
                                priceAmount1000: n,
                                currency: r,
                                description: i || "",
                                imageCdnUrl: e.imageCdnUrl,
                                additionalImageCdnUrl: e.additionalImageCdnUrl,
                                name: a,
                                retailerId: u,
                                url: o,
                                isHidden: d
                            })
                        }, l._handleSaveItem = function() {
                            var e, t = l.props,
                                a = t.catalog,
                                n = t.product,
                                r = t.newProduct,
                                i = l._getProductChanges();
                            (r ? (0, w.logAddProductClick)((0, D.getProductCatalogContext)(l.context)) : (0, w.logEditProductClick)(n, (0, D.getProductCatalogContext)(l.context)), l.setState({
                                isUpdating: !0
                            }), r || l.state.isModified) ? null === (e = l._imagePanelRef.current) || void 0 === e || e.component.uploadImages().then((function(e) {
                                i.imageCdnUrl = e[0], i.additionalImageCdnUrl = e.slice(1), (r ? a.addProduct : a.editProduct).call(a, i).then(l._handleEditSuccess).catchType(M.CatalogEditServerError, l._handleEditError).finally((function() {
                                    l.setState({
                                        isUpdating: !1
                                    })
                                }))
                            })).catch((function(e) {
                                throw l.setState({
                                    isUpdating: !1
                                }), e
                            })): (0, O.productVisibilitySet)([{
                                productId: n.id.toString(),
                                isHidden: i.isHidden
                            }]).then((function() {
                                n.isHidden = i.isHidden, l._handleEditSuccess(n)
                            })).catchType(M.CatalogEditServerError, l._handleEditError).finally((function() {
                                l.setState({
                                    isUpdating: !1
                                })
                            }))
                        }, l._handleEditError = function(e) {
                            l.props.newProduct ? (0, w.logAddProductFailed)((0, D.getProductCatalogContext)(l.context)) : (0, w.logEditProductFailed)(l.props.product, (0, D.getProductCatalogContext)(l.context), e.statusCode), null != e.errors && e.errors.map((function(e) {
                                "media" === e.name && "duplicate" === e.reason && l.setState({
                                    imageError: b.default.t(736)
                                }), "retailer_id" !== e.name && "retailer-id" !== e.name || "duplicate" !== e.reason || l.setState({
                                    retailerIdError: b.default.t(737)
                                })
                            })), h.default.openToast(c.default.createElement(B.default, {
                                msg: b.default.t(483),
                                id: (0, B.genId)("catalog_save_item_failed")
                            }))
                        }, l._handleEditSuccess = function(e) {
                            var t = l.props,
                                a = t.catalog,
                                n = t.onEditSuccess,
                                r = t.newProduct,
                                i = t.onCreate;
                            a.productCollection.add(e, {
                                merge: !0
                            }), l.props.newProduct ? (0, w.logAddProductSuccess)((0, D.getProductCatalogContext)(l.context)) : (0, w.logEditProductSuccess)(l.props.product, (0, D.getProductCatalogContext)(l.context)), h.default.openToast(c.default.createElement(B.default, {
                                msg: b.default.t(473),
                                id: (0, B.genId)("catalog_item_saved")
                            })), n(e), null != r && i && i()
                        }, l._handleDeleteItem = function() {
                            var e = l.props,
                                t = e.catalog,
                                a = e.product,
                                n = e.onDelete;
                            (0, f.handleProductDelete)(t, a, (0, D.getProductCatalogContext)(l.context)).then((function(e) {
                                e && (h.default.closeDrawerMid(), n && n())
                            }))
                        }, l._handleImageChange = function(e) {
                            var t = "";
                            0 === e.length && (t = b.default.t(739)), l.setState({
                                imageError: t,
                                hasImages: e.length > 0,
                                isModified: !0
                            })
                        }, l.handleDrop = function(e) {
                            var t;
                            null === (t = l._imagePanelRef.current) || void 0 === t || t.component.handleFilePick(e)
                        }, l.handleDragChange = function(e) {
                            l.setState({
                                isDragging: e
                            })
                        };
                        var r = l.props.product,
                            o = null == r.priceAmount1000 ? null : r.priceAmount1000,
                            u = "";
                        if (null != o && null != r.currency) {
                            var d = g.formatToParts(r.currency, o);
                            u = `${d.integer}${d.decimal}`
                        }
                        return l.state = {
                            name: r.name || "",
                            priceAmount1000: o,
                            description: r.description || "",
                            url: r.url || "",
                            retailerId: r.retailerId || "",
                            priceStr: u,
                            currency: r.currency || g.currencyForCountryShortcode((0, v.getCountryShortcodeByPhone)(null === (n = (0, T.getMaybeMeUser)()) || void 0 === n ? void 0 : n.user)),
                            isUpdating: !1,
                            nameError: "",
                            priceError: "",
                            urlError: "",
                            retailerIdError: "",
                            imageError: "",
                            hasImages: !!r.imageCdnUrl,
                            isDragging: !1,
                            isHidden: r.isHidden,
                            isModified: !1
                        }, l
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.listeners,
                                n = t.product;
                            a.add(n, "change:isHidden", (function() {
                                e.setState({
                                    isHidden: e.props.product.isHidden
                                })
                            }))
                        }
                    }, {
                        key: "isValid",
                        value: function() {
                            var e = this.state,
                                t = e.name,
                                a = e.nameError,
                                n = e.priceError,
                                l = e.urlError,
                                r = e.retailerIdError,
                                i = e.imageError,
                                o = e.hasImages;
                            return "" !== t && !1 !== o && a + n + l + r + i === ""
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.product,
                                a = e.onBack,
                                n = e.onCancel,
                                l = e.newProduct,
                                i = this.state,
                                o = i.isUpdating,
                                u = i.isDragging,
                                d = i.currency,
                                f = i.nameError,
                                h = i.priceError,
                                v = i.urlError,
                                y = i.retailerIdError,
                                M = i.imageError,
                                T = c.default.createElement(p.default, {
                                    type: "primary",
                                    onClick: this._handleSaveItem,
                                    disabled: !this.isValid(),
                                    a8nText: "product-edit-drawer-save-button"
                                }, l ? b.default.t(225) : b.default.t(1358)),
                                I = c.default.createElement("div", {
                                    className: k.default.drawerHeader
                                }, c.default.createElement("div", null, l ? b.default.t(495) : b.default.t(496)), c.default.createElement("div", {
                                    className: k.default.drawerHeaderButtonContainer
                                }, T)),
                                P = l ? null : c.default.createElement("div", {
                                    className: k.default.deleteButtonContainer
                                }, c.default.createElement(p.default, {
                                    type: "warning",
                                    onClick: this._handleDeleteItem,
                                    a8nText: "product-edit-drawer-delete-button"
                                }, b.default.t(612))),
                                w = (0, s.default)(k.default.productWrapper, (0, r.default)({}, k.default.isSending, o)),
                                O = u ? c.default.createElement(E.default, null) : null,
                                D = o ? c.default.createElement("div", {
                                    className: k.default.spinner
                                }, c.default.createElement(x.default, {
                                    size: 50,
                                    stroke: 3
                                })) : null,
                                R = A.default.webCatalogProductsOnOff && c.default.createElement("div", {
                                    className: k.default.hiddenContainer
                                }, c.default.createElement(m.default, {
                                    id: "product-hidden-check",
                                    onChange: this._handleHiddenChange,
                                    checked: this.state.isHidden,
                                    disabled: !1
                                }), c.default.createElement("label", {
                                    className: k.default.hiddenLabel,
                                    htmlFor: "product-hidden-check"
                                }, b.default.t(469)), c.default.createElement("div", {
                                    className: k.default.hiddenDescr
                                }, b.default.t(468)));
                            return c.default.createElement(_.default, {
                                key: "catalog-link-drawer",
                                theme: "catalog",
                                onDrop: this.handleDrop,
                                onDragChange: this.handleDragChange
                            }, O, c.default.createElement(S.default, {
                                a8n: "catalog-link-title",
                                title: I,
                                type: S.DRAWER_HEADER_TYPE.SMALL,
                                onBack: a,
                                onCancel: n
                            }), c.default.createElement(C.default, null, c.default.createElement("div", {
                                className: w
                            }, D, c.default.createElement(N.default, {
                                product: t,
                                maxImageCount: L.MAX_PRODUCT_IMAGES,
                                onChange: this._handleImageChange,
                                ref: this._imagePanelRef,
                                error: M
                            }), c.default.createElement(U.default, {
                                a8n: "product-edit-drawer-name-input",
                                value: this.state.name,
                                placeholder: b.default.t(930),
                                onChange: this._handleNameChange,
                                theme: "small",
                                customStyleThemes: ["desaturated"],
                                maxLength: 150,
                                error: f
                            }), c.default.createElement(U.default, {
                                a8n: "product-edit-drawer-price-input",
                                value: this.state.priceStr,
                                placeholder: b.default.t(931, {
                                    currencySymbol: g.formatToParts(d, 0).symbol
                                }),
                                onChange: this._handlePriceChange,
                                theme: "small",
                                maxLength: 30,
                                customStyleThemes: ["desaturated"],
                                error: h
                            }), c.default.createElement(U.default, {
                                a8n: "product-edit-drawer-description-input",
                                value: this.state.description,
                                placeholder: b.default.t(928),
                                onChange: this.handleDescriptionChange,
                                theme: "small",
                                maxLength: 5e3,
                                customStyleThemes: ["desaturated"],
                                multiline: !0
                            }), c.default.createElement(U.default, {
                                a8n: "product-edit-drawer-link-input",
                                value: this.state.url,
                                placeholder: b.default.t(929),
                                onChange: this._handleUrlChange,
                                onBlur: this._handleUrlBlur,
                                theme: "small",
                                customStyleThemes: ["desaturated"],
                                maxLength: 75,
                                error: v,
                                managed: !0
                            }), c.default.createElement(U.default, {
                                a8n: "product-edit-drawer-retailer-id-input",
                                value: this.state.retailerId,
                                placeholder: b.default.t(927),
                                onChange: this._handleRetailerIdChange,
                                theme: "small",
                                customStyleThemes: ["desaturated"],
                                maxLength: 100,
                                error: y
                            }), R, P)))
                        }
                    }]), a
                }(c.Component);
            t.EditProductDrawer = H, H.contextType = y.default, H.CONCERNS = {
                product: ["id", "additionalImageCdnUrl", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "imageCdnUrl", "retailerId", "currency", "isHidden"]
            }, H.displayName = "EditProductDrawer";
            var j = (0, I.default)((0, R.default)((0, F.default)((0, P.default)(H), H.CONCERNS)));
            t.default = j
        },
        55935: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onBack,
                    a = e.onAddProductClick,
                    n = e.onCatalogAlreadyCreated,
                    l = (0, u.useState)(!1),
                    b = (0, i.default)(l, 2),
                    P = b[0],
                    w = b[1],
                    L = u.default.createElement("div", {
                        className: y.default.placeholderIcon
                    }),
                    O = `<a href="${f.default.FB_LEGAL_TERMS_URL}" target="_blank">${_.default.t(751)}</a>`,
                    D = `<a href="${f.default.FB_COMMERCE_POLICY_URL}" target="_blank">${_.default.t(750)}</a>`,
                    N = `<a href="${f.default.WA_COMMERCE_POLICY_URL}" target="_blank">${_.default.t(2008)}</a>`,
                    R = _.default.t(463, {
                        fb_product_link: O,
                        fb_commerce_link: D,
                        wa_commerce_policy_link: N
                    });
                var A = (0, o.default)((0, r.default)({}, y.default.isLoading, P)),
                    x = P ? u.default.createElement("div", {
                        className: y.default.spinner
                    }, u.default.createElement(M.default, {
                        size: 50,
                        stroke: 3
                    })) : null,
                    F = P ? u.default.createElement(d.default, {
                        onClick: function() {},
                        theme: "default",
                        idle: !!P
                    }) : u.default.createElement(h.default.Consumer, null, (function(e) {
                        return u.default.createElement(d.default, {
                            onClick: function() {
                                ! function(e) {
                                    w(!0), (0, C.logCreateProductCatalogClick)(e), (0, S.createCatalog)().then((function() {
                                        (0, C.logCreateProductCatalogSuccess)(e), a()
                                    })).catchType(E.ServerStatusCodeError, (function(t) {
                                        (0, C.logCreateProductCatalogFailed)(e, t.statusCode), c.default.openToast(u.default.createElement(I.default, {
                                            msg: _.default.t(735),
                                            id: (0, I.genId)("err_catalog_already_created")
                                        })), n()
                                    })).finally((function() {
                                        w(!1)
                                    }))
                                }((0, k.getProductCatalogContext)(e))
                            },
                            theme: "default",
                            idle: !1
                        })
                    }));
                return u.default.createElement(p.default, {
                    key: "catalog-link-drawer"
                }, u.default.createElement(v.default, {
                    title: _.default.t(1272),
                    type: v.DRAWER_HEADER_TYPE.LARGE,
                    onBack: t
                }), u.default.createElement(m.default, {
                    className: A
                }, u.default.createElement(g.default, {
                    theme: "padding-small",
                    animation: !1
                }, x, u.default.createElement(T.TextDiv, {
                    theme: "title"
                }, _.default.t(439)), F, u.default.createElement(T.TextDiv, {
                    theme: "plain"
                }, u.default.createElement("div", {
                    dangerouslySetInnerHTML: {
                        __html: R
                    }
                })), u.default.createElement("div", {
                    className: y.default.placeholderContainer
                }, u.default.createElement(s.default, {
                    theme: "add-item-placeholder",
                    image: L,
                    customImage: !0,
                    className: y.default.addItemPlaceholder,
                    primary: "",
                    secondary: "",
                    idle: !0
                }), u.default.createElement("div", {
                    className: y.default.divider
                }), u.default.createElement(s.default, {
                    theme: "add-item-placeholder",
                    image: L,
                    customImage: !0,
                    className: y.default.addItemPlaceholder,
                    primary: "",
                    secondary: "",
                    idle: !0
                }), u.default.createElement("div", {
                    className: y.default.divider
                })))))
            };
            var r = l(a(59713)),
                i = l(a(63038)),
                o = l(a(94184)),
                u = n(a(67294)),
                d = l(a(65389)),
                s = l(a(10598)),
                c = l(a(34541)),
                f = l(a(34263)),
                p = l(a(81997)),
                m = l(a(25259)),
                h = l(a(66015)),
                v = n(a(62647)),
                g = l(a(51376)),
                E = a(14650),
                _ = l(a(89115)),
                C = a(85539),
                y = l(a(29408)),
                S = a(86763),
                k = a(79164),
                M = l(a(87729)),
                T = a(28770),
                I = n(a(92631))
        },
        64232: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ProductInfoDrawer = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(16973)),
                c = l(a(81997)),
                f = l(a(25259)),
                p = l(a(66015)),
                m = n(a(62647)),
                h = l(a(51376)),
                v = l(a(96658)),
                g = a(71701),
                E = l(a(17957)),
                _ = l(a(89115)),
                C = a(85539),
                y = a(59078),
                S = a(79164),
                k = a(88577),
                M = l(a(16158)),
                T = l(a(66493)),
                I = l(a(18045)),
                b = l(a(16576)),
                P = l(a(11574)),
                w = l(a(63056)),
                L = l(a(44589)),
                O = l(a(43454)),
                D = a(28770),
                N = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).handleEditProduct = function() {
                            var e = n.props.product;
                            n.props.onEditProduct && n.props.onEditProduct(e)
                        }, n.handleShareProduct = function() {
                            var e = n.props.product;
                            n.props.onShareProduct && n.props.onShareProduct(e)
                        }, n.handleSendChat = function() {
                            n.props.onCancel(), (0, y.sendProductToChat)(n.props.product, n.props.catalog), (0, C.logProductMessageBusinessClick)(n.props.product, (0, S.getProductCatalogContext)(n.context))
                        }, n.state = {
                            isLoading: !0
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.catalog,
                                n = t.product,
                                l = t.collectionId;
                            a.pullProduct(n.id.toString()).finally((function() {
                                e.setState({
                                    isLoading: !1
                                })
                            })), (0, C.logProductDetailView)({
                                product: n,
                                catalogContext: (0, S.getProductCatalogContext)(this.context),
                                collectionId: l
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.product,
                                a = e.onCancel,
                                n = e.collectionId,
                                l = (0, g.getMaybeMeUser)(),
                                r = O.default.get(l),
                                i = d.default.createElement(D.TextDiv, {
                                    theme: "muted",
                                    className: T.default.businessInfoTitle
                                }, _.default.t(377)),
                                o = t.reviewStatus !== k.PRODUCT_REVIEW_STATUS.APPROVED || t.isHidden && w.default.webCatalogProductsOnOff,
                                u = d.default.createElement("div", null, d.default.createElement("div", {
                                    className: T.default.buttonSeparator
                                }, d.default.createElement(s.default, {
                                    type: "strong",
                                    onClick: this.handleEditProduct,
                                    a8nText: "product-info-drawer edit-button"
                                }, _.default.t(655))), d.default.createElement(s.default, {
                                    type: "strong-primary",
                                    onClick: this.handleShareProduct,
                                    disabled: o,
                                    a8nText: "product-info-drawer share-button"
                                }, _.default.t(1933))),
                                p = d.default.createElement("div", {
                                    className: T.default.drawerHeader
                                }, d.default.createElement("div", {
                                    className: T.default.productName
                                }, t.name), d.default.createElement("div", {
                                    className: T.default.drawerHeaderButtonContainer
                                }, u)),
                                E = r ? d.default.createElement(h.default, {
                                    title: i,
                                    theme: "no-padding"
                                }, d.default.createElement(P.default, {
                                    status: r
                                })) : null,
                                C = this.state.isLoading ? d.default.createElement(v.default, null) : d.default.createElement(d.default.Fragment, null, d.default.createElement(b.default, {
                                    product: t,
                                    isAvailable: !0,
                                    fetching: !1
                                }), d.default.createElement(I.default, {
                                    product: t
                                }), d.default.createElement(M.default, {
                                    product: t,
                                    collectionId: n,
                                    onSendChat: this.handleSendChat,
                                    isAvailable: !0
                                }));
                            return d.default.createElement(c.default, {
                                key: "catalog-link-drawer",
                                theme: "catalog"
                            }, d.default.createElement(m.default, {
                                a8n: "catalog-product-title",
                                title: p,
                                type: m.DRAWER_HEADER_TYPE.SMALL,
                                onCancel: a
                            }), d.default.createElement(f.default, null, d.default.createElement(h.default, {
                                theme: "center-column-fixed-width"
                            }, C), d.default.createElement("div", {
                                className: T.default.productWrapper
                            }, E)))
                        }
                    }]), a
                }(d.Component);
            t.ProductInfoDrawer = N, N.contextType = p.default, N.CONCERNS = {
                product: ["id", "catalogWid", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "canAppeal", "imageCdnUrl", "retailerId", "currency", "isHidden"]
            }, N.displayName = "ProductInfoDrawer";
            var R = (0, E.default)((0, L.default)(N, N.CONCERNS));
            t.default = R
        },
        18045: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product;

                function a() {
                    i.default.openModal(l.default.createElement(u.default.Consumer, null, (function(e) {
                        return l.default.createElement(r.default, {
                            product: t,
                            sessionId: (0, s.getProductCatalogSessionId)(e)
                        })
                    })))
                }
                var n = `<a href="${o.default.WA_COMMERCE_POLICY_URL}" target="_blank">${d.default.t(936)}</a>`;
                if (t.reviewStatus === c.PRODUCT_REVIEW_STATUS.APPROVED) return t.isHidden && p.default.webCatalogProductsOnOff ? l.default.createElement("div", {
                    className: f.default.root
                }, l.default.createElement("div", {
                    className: f.default.icon
                }, l.default.createElement(m.default, {
                    name: "hide"
                })), l.default.createElement("div", {
                    className: f.default.text
                }, l.default.createElement(h.TextDiv, null, d.default.t(1276)))) : null;
                if (t.reviewStatus === c.PRODUCT_REVIEW_STATUS.REJECTED) {
                    if (!0 === t.canAppeal) {
                        var v = `${d.default.t(471,{learn_more_link:n})}`,
                            g = l.default.createElement("div", {
                                dangerouslySetInnerHTML: {
                                    __html: v
                                }
                            }),
                            E = `<span class="${f.default.appealLink}">${d.default.t(472)}</span>`,
                            _ = `${d.default.t(464,{request_review_link:E})}`,
                            C = l.default.createElement("div", {
                                dangerouslySetInnerHTML: {
                                    __html: _
                                }
                            });
                        return l.default.createElement("div", {
                            className: f.default.root,
                            "data-a8n": "product-appeal-rejected-initial-review"
                        }, l.default.createElement("div", {
                            className: f.default.icon
                        }, l.default.createElement(m.default, {
                            name: "info"
                        })), l.default.createElement("div", {
                            className: f.default.text
                        }, g, l.default.createElement(h.TextDiv, {
                            className: f.default.appealText
                        }, l.default.createElement("div", {
                            onClick: a,
                            onKeyPress: a,
                            role: "button",
                            tabIndex: "0",
                            "data-a8n": "product-appeal-button"
                        }, C))))
                    }
                    var y = `${d.default.t(466,{learn_more_link:n})}`,
                        S = l.default.createElement("div", {
                            dangerouslySetInnerHTML: {
                                __html: y
                            }
                        });
                    return l.default.createElement("div", {
                        className: f.default.root,
                        "data-a8n": "product-appeal-rejected-final"
                    }, S)
                }
                if (t.reviewStatus === c.PRODUCT_REVIEW_STATUS.NO_REVIEW || t.reviewStatus === c.PRODUCT_REVIEW_STATUS.OUTDATED) {
                    var k = t.isHidden && p.default.webCatalogProductsOnOff ? `${d.default.t(481,{learn_more_link:n})}` : `${d.default.t(480,{learn_more_link:n})}`;
                    return l.default.createElement("div", {
                        className: f.default.root,
                        "data-a8n": "product-appeal-pending-initial-review"
                    }, l.default.createElement("div", {
                        dangerouslySetInnerHTML: {
                            __html: k
                        }
                    }))
                }
                if (!1 === t.canAppeal) {
                    var M = d.default.t(465);
                    return l.default.createElement("div", {
                        className: f.default.root,
                        "data-a8n": "product-appeal-pending-appeal"
                    }, M)
                }
                return null
            };
            var l = n(a(67294)),
                r = n(a(56056)),
                i = n(a(34541)),
                o = n(a(34263)),
                u = n(a(66015)),
                d = n(a(89115)),
                s = a(79164),
                c = a(88577),
                f = n(a(79829)),
                p = n(a(63056)),
                m = n(a(75131)),
                h = a(28770)
        },
        11574: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(10598)),
                c = l(a(93743)),
                f = l(a(42575)),
                p = a(71701),
                m = l(a(17957)),
                h = l(a(44589)),
                v = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        return (0, r.default)(this, a), t.call(this, e)
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.props.status;
                            return d.default.createElement(s.default, {
                                image: d.default.createElement(f.default, {
                                    id: (0, p.getMaybeMeUser)()
                                }),
                                primary: c.default.pushname,
                                secondary: e.status,
                                idle: !0
                            })
                        }
                    }]), a
                }(d.Component);
            v.CONCERNS = {
                status: ["status"]
            }, v.displayName = "ProfileLockup";
            var g = (0, m.default)((0, h.default)(v, v.CONCERNS));
            t.default = g
        },
        18648: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = n(a(67294)),
                s = l(a(17485)),
                c = l(a(24193)),
                f = l(a(33079)),
                p = l(a(41769)),
                m = l(a(89115)),
                h = l(a(75131)),
                v = l(a(4268)),
                g = l(a(88117)),
                E = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, l = new Array(n), i = 0; i < n; i++) l[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(l))).state = {
                            active: !1,
                            contextMenu: null
                        }, e.handleDelete = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.props.onDelete && e.props.onDelete(e.props.collection)
                        }, e.handleEdit = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.props.onEdit && e.props.onEdit(e.props.collection)
                        }, e.handleSeeCollection = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.props.onSeeCollection && e.props.onSeeCollection(e.props.collection)
                        }, e.removeContext = function() {
                            e.setState({
                                contextMenu: null
                            })
                        }, e.handleContext = function(t) {
                            if (e.state.contextMenu) e.setState({
                                contextMenu: null
                            });
                            else {
                                var a = [];
                                e.props.canManage && (a.push(d.default.createElement(f.default, {
                                    a8n: "mi-show-label",
                                    action: e.handleEdit,
                                    key: "EditLabel"
                                }, m.default.t(448))), a.push(d.default.createElement(f.default, {
                                    a8n: "mi-show-label",
                                    action: e.handleDelete,
                                    key: "DeleteLabel"
                                }, m.default.t(446)))), t.event && t.event.persist(), e.setState({
                                    contextMenu: {
                                        menu: a,
                                        event: t.event,
                                        anchor: t.anchor
                                    }
                                })
                            }
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t = this,
                                a = this.props,
                                n = a.collection,
                                l = a.theme,
                                r = d.default.createElement("div", {
                                    className: c.default.collectionIcon
                                }, d.default.createElement("div", {
                                    className: c.default.iconContainer
                                }, d.default.createElement(h.default, {
                                    name: "collections_folder"
                                }))),
                                i = d.default.createElement(p.default, {
                                    text: n.name,
                                    ellipsify: !0,
                                    titlify: !0
                                });
                            return this.state.contextMenu && (e = d.default.createElement(v.default, {
                                displayName: "CollectionContextMenu",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this.removeContext
                            }, d.default.createElement(g.default, {
                                contextMenu: this.state.contextMenu
                            }))), d.default.createElement(d.default.Fragment, null, d.default.createElement(s.default, {
                                key: n.id.toString(),
                                customImage: !0,
                                image: r,
                                primary: i,
                                theme: l,
                                active: this.state.active,
                                contextEnabled: function() {
                                    return t.props.canManage
                                },
                                onContext: this.handleContext,
                                onClick: this.handleSeeCollection
                            }), e)
                        }
                    }]), a
                }(d.Component);
            E.defaultProps = {
                theme: "collection-edit",
                isMuted: !1
            }, E.displayName = "CollectionManageListItem";
            var _ = E;
            t.default = _
        },
        47455: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    a = e.canManage,
                    n = e.onEditCollection,
                    m = e.onSeeCollection,
                    h = (0, p.default)(e.catalog, ["collections"]);
                return l.default.createElement(s.default, {
                    flatListControllers: [e.flatListController]
                }, l.default.createElement(d.default, {
                    flatListController: e.flatListController,
                    direction: "vertical",
                    forceConsistentRenderCount: !1,
                    data: (v = [], t.forEach((function(e) {
                        e.collection && v.push({
                            itemKey: e.collection.id,
                            collection: e.collection
                        })
                    })), v),
                    renderItem: function(e) {
                        var t = e.collection;
                        return l.default.createElement(u.default.Consumer, null, (function(e) {
                            return l.default.createElement(i.default, {
                                collection: t,
                                canManage: a,
                                onDelete: function() {
                                    return function(e, t) {
                                        (0, r.handleCollectionDelete)((0, f.unproxy)(h), e, t)
                                    }(t, (0, c.getProductCatalogContext)(e))
                                },
                                onEdit: n,
                                onSeeCollection: m
                            })
                        }))
                    },
                    defaultItemHeight: o.default.PRODUCT_LIST_ITEM_HEIGHT
                }));
                var v
            };
            var l = n(a(67294)),
                r = a(16452),
                i = n(a(18648)),
                o = n(a(34263)),
                u = n(a(66015)),
                d = n(a(60482)),
                s = n(a(55959)),
                c = a(79164),
                f = a(89305),
                p = n(a(33819))
        },
        87410: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.CollectionsManagementDrawer = void 0;
            var r = l(a(87757)),
                i = l(a(48926)),
                o = l(a(34575)),
                u = l(a(93913)),
                d = l(a(2205)),
                s = l(a(99842)),
                c = l(a(96486)),
                f = n(a(67294)),
                p = l(a(65389)),
                m = l(a(10725)),
                h = a(78271),
                v = l(a(47455)),
                g = l(a(29025)),
                E = l(a(34263)),
                _ = l(a(81997)),
                C = l(a(25259)),
                y = n(a(62647)),
                S = l(a(50842)),
                k = l(a(96658)),
                M = a(71701),
                T = l(a(89115)),
                I = l(a(68390)),
                b = l(a(42027)),
                P = function(e) {
                    (0, d.default)(n, e);
                    var t, a = (0, s.default)(n);

                    function n(e) {
                        var t;
                        return (0, o.default)(this, n), (t = a.call(this, e))._catalogFlatListController = new S.default, t._handleScroll = function(e, a) {
                            var n, l;
                            t.props.setScrollOffset && t.props.setScrollOffset(a.scrollTop), (null === (n = t.state.scrollHelper) || void 0 === n ? void 0 : n.willLoadMore(a)) && t.setState({
                                loadingMore: !0
                            }), null === (l = t.state.scrollHelper) || void 0 === l || l.onScroll(e, a).then((function(e) {
                                e && t.setState({
                                    loadingMore: !1
                                })
                            })).catch((function(e) {
                                throw t.setState({
                                    loadingMore: !1
                                }), e
                            }))
                        }, t.handleScroll = c.default.throttle(t._handleScroll, 100), t.onScroll = function(e) {
                            t.handleScroll(e, e.currentTarget)
                        }, t.state = {
                            loadingMore: !0,
                            dataSource: null,
                            scrollHelper: null
                        }, t
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.getCatalog();
                            if (t) {
                                var a = new h.CollectionsDataSource(t, !0, E.default.PRODUCT_LIST_ITEM_HEIGHT);
                                t.collections.on("add", c.default.debounce((function() {
                                    return e.forceUpdate()
                                }), 100)), t.collections.on("remove", c.default.debounce((function() {
                                    return e.forceUpdate()
                                }), 100));
                                var n = new h.CatalogListItemScrollHelper(a);
                                this.setState({
                                    dataSource: a,
                                    scrollHelper: n
                                }, (function() {
                                    e.loadInitialItems()
                                }))
                            }
                        }
                    }, {
                        key: "getCatalog",
                        value: function() {
                            var e = (0, M.getMeUser)();
                            return m.default.get(e)
                        }
                    }, {
                        key: "getDrawerContent",
                        value: function() {
                            var e = this,
                                t = this.getCatalog(),
                                a = this.state.dataSource;
                            return t && a ? f.default.createElement("div", null, f.default.createElement(p.default, {
                                onClick: function() {
                                    e.props.editCollection(null)
                                },
                                theme: "collections",
                                title: T.default.t(451)
                            }), f.default.createElement(v.default, {
                                canManage: !0,
                                catalog: t,
                                onEditCollection: this.props.editCollection,
                                data: a.getData(),
                                flatListController: this._catalogFlatListController,
                                onSeeCollection: this.props.onSeeCollection
                            }), this.state.loadingMore && f.default.createElement("div", {
                                className: g.default.loadingSpinner
                            }, f.default.createElement(k.default, null))) : null
                        }
                    }, {
                        key: "loadInitialItems",
                        value: (t = (0, i.default)(r.default.mark((function e() {
                            var t;
                            return r.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return t = this.state.dataSource, e.next = 3, null == t ? void 0 : t.loadInitialItems();
                                    case 3:
                                        this.setState({
                                            loadingMore: !1
                                        });
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this)
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "render",
                        value: function() {
                            return f.default.createElement(_.default, {
                                theme: "products",
                                onDrop: this.props.onBack
                            }, f.default.createElement(y.default, {
                                title: T.default.t(455),
                                type: y.DRAWER_HEADER_TYPE.LARGE,
                                onBack: this.props.onBack,
                                menu: f.default.createElement(f.default.Fragment, null)
                            }), f.default.createElement(C.default, {
                                onScroll: this.onScroll,
                                flatListControllers: [this._catalogFlatListController],
                                scrollOffset: this.props.scrollOffset
                            }, this.getDrawerContent()))
                        }
                    }]), n
                }(f.Component);
            t.CollectionsManagementDrawer = P, P.displayName = "CollectionsManagementDrawer";
            var w = (0, b.default)((0, I.default)(P));
            t.default = w
        },
        12293: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(319)),
                o = r(a(34575)),
                u = r(a(93913)),
                d = r(a(2205)),
                s = r(a(99842)),
                c = l(a(67294)),
                f = r(a(97930)),
                p = r(a(41144)),
                m = r(a(34541)),
                h = r(a(34263)),
                v = a(14656),
                g = l(a(98569)),
                E = r(a(89115)),
                _ = a(16952),
                C = a(87261),
                y = a(16551),
                S = r(a(74984)),
                k = r(a(34860)),
                M = r(a(5548)),
                T = r(a(42027)),
                I = r(a(75131)),
                b = l(a(92631)),
                P = r(a(38512)),
                w = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var l;
                        (0, o.default)(this, a), (l = t.call(this, e)).handleAddFileClick = function() {
                            l.refInput && l.refInput.click()
                        }, l.handleFilePick = function(e) {
                            (0, v.getFiles)(e, h.default.IMAGE_MIMES).then((function(e) {
                                var t = l.props.maxImageCount - l.state.images.length;
                                e.length > t && m.default.openToast(c.default.createElement(b.default, {
                                    msg: E.default.t(997),
                                    duration: 6e3,
                                    action: {
                                        onAction: function() {},
                                        actionText: E.default.t(804),
                                        dismiss: !0,
                                        theme: "success"
                                    },
                                    id: (0, b.genId)()
                                })), e.slice(0, l.props.maxImageCount - l.state.images.length).map((function(e) {
                                    return {
                                        file: e,
                                        filename: e.name,
                                        mimetype: e.type,
                                        type: y.TYPE.PRODUCT
                                    }
                                })).map((function(e) {
                                    var t, a = new p.default({
                                        file: n.resolve(e)
                                    });
                                    return null === (t = a.processPromise) || void 0 === t ? void 0 : t.then((function() {
                                        l._appendImage(a)
                                    }))
                                }))
                            })).checkpoint(l.props.rejectOnUnmount()).catchType(g.Unmount, (function() {})), e.target && e.target.value && (e.target.value = "")
                        }, l.uploadImages = function() {
                            var e = l.state.images.filter((function(e) {
                                return null == e.url
                            })).map((function(e) {
                                return (0, _.uploadProductImage)(e.mediaData.mediaBlob, e.mediaData.filehash).then((function(t) {
                                    e.url = t
                                }))
                            }));
                            return n.all(e).then((function() {
                                return l.state.images.map((function(e) {
                                    return e.url || ""
                                }))
                            }))
                        }, l.setRefInput = function(e) {
                            l.refInput = e
                        };
                        var r = e.product.productImageCollection.filter((function(e) {
                            return !e.old
                        })).map((function(e) {
                            return {
                                url: e.mediaUrl,
                                mediaData: e.mediaData
                            }
                        }));
                        return l.state = {
                            images: r
                        }, l
                    }
                    return (0, u.default)(a, [{
                        key: "_appendImage",
                        value: function(e) {
                            var t = this;
                            e.mediaPrep.waitForPrep().then((function(a) {
                                if (t._validateImage(a)) {
                                    a.mediaStage = C.MEDIA_DATA_STAGE.RESOLVED, a.renderableUrl = e.fullPreview;
                                    var n = a.mediaBlob;
                                    !n || n instanceof S.default || S.default.createFromData(n, n.type).then((function(e) {
                                        a.mediaBlob = e
                                    })), t.setState({
                                        images: [].concat((0, i.default)(t.state.images), [{
                                            url: null,
                                            mediaData: a
                                        }])
                                    }), t.props.onChange && t.props.onChange(t.state.images)
                                }
                            }))
                        }
                    }, {
                        key: "_validateImage",
                        value: function(e) {
                            return !(this.state.images.filter((function(t) {
                                return t.mediaData.filehash === e.filehash
                            })).length > 0) || (m.default.openToast(c.default.createElement(b.default, {
                                id: (0, b.genId)(),
                                msg: E.default.t(736)
                            })), !1)
                        }
                    }, {
                        key: "_deleteImage",
                        value: function(e) {
                            var t = this.state.images.filter((function(t) {
                                return t !== e
                            }));
                            this.setState({
                                images: t
                            }), this.props.onChange && this.props.onChange(t)
                        }
                    }, {
                        key: "_renderTiles",
                        value: function() {
                            var e = this;
                            return this.state.images.filter((function(e) {
                                return e.mediaData
                            })).map((function(t) {
                                return c.default.createElement("div", {
                                    key: t.mediaData.filehash,
                                    className: k.default.imageTile
                                }, c.default.createElement("div", {
                                    className: k.default.btnDelete,
                                    onClick: function() {
                                        return e._deleteImage(t)
                                    },
                                    role: "button",
                                    "data-a8n": f.default.key("delete-image")
                                }, c.default.createElement(I.default, {
                                    className: k.default.deleteIcon,
                                    name: "x-alt"
                                })), c.default.createElement(M.default, {
                                    mediaData: t.mediaData,
                                    className: k.default.imageThumb
                                }))
                            }))
                        }
                    }, {
                        key: "_renderAddImageButton",
                        value: function() {
                            return this.state.images.length < this.props.maxImageCount ? c.default.createElement("div", {
                                className: k.default.btnAddContainer,
                                onClick: this.handleAddFileClick,
                                role: "button",
                                "data-a8n": f.default.key("add-image")
                            }, c.default.createElement("div", {
                                className: k.default.btnAdd
                            }, c.default.createElement(I.default, {
                                name: "camera"
                            }), c.default.createElement("div", {
                                className: k.default.btnAddText
                            }, E.default.t(438)))) : null
                        }
                    }, {
                        key: "_renderFileInput",
                        value: function() {
                            return c.default.createElement("input", {
                                ref: this.setRefInput,
                                type: "file",
                                accept: h.default.IMAGE_MIMES,
                                style: {
                                    display: "none"
                                },
                                onChange: this.handleFilePick,
                                multiple: !0
                            })
                        }
                    }, {
                        key: "renderErrorMessage",
                        value: function() {
                            return c.default.createElement("div", {
                                className: k.default.errorMessage
                            }, this.props.error)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return c.default.createElement("div", {
                                className: k.default.panel
                            }, c.default.createElement("div", {
                                className: k.default.tileContainer
                            }, c.default.createElement(P.default, {
                                transitionAppear: !0,
                                transitionName: "thumb-scale-flex"
                            }, this._renderTiles(), this._renderAddImageButton()), this._renderFileInput()), this.renderErrorMessage())
                        }
                    }]), a
                }(c.Component);
            w.displayName = "ProductImagesEditPanel";
            var L = (0, T.default)(w);
            t.default = L
        },
        35817: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.flatListController,
                    n = e.onProductDetail,
                    l = e.productMessageList,
                    C = l.productCollection.getProductModels(),
                    y = l.getSections(),
                    S = l.getSectionsCount() > 0,
                    k = l.getTotalProductsFetchedOrFailed(),
                    M = l.getProductSize() === k && 0 === C.length,
                    T = [];
                y.forEach((function(e, t) {
                    var a = e.title,
                        n = e.products,
                        l = [];
                    n.forEach((function(e) {
                        var a = e.productId,
                            n = C.find((function(e) {
                                return e.id === a
                            }));
                        null != n && l.push({
                            itemKey: `section-${t}-${n.id.toString()}`,
                            product: n,
                            type: "product",
                            height: d.default.PRODUCT_LIST_ITEM_HEIGHT
                        })
                    })), l.length > 0 && (null != a && "" !== a && T.push({
                        itemKey: `header-${t}-${a}`,
                        label: a,
                        type: "section",
                        height: 72
                    }), T.push.apply(T, l))
                }));
                var I = (0, o.useCallback)((function(e, t) {
                        return (0, p.logCatalogListDetailClick)({
                            product: (0, _.unproxy)(e),
                            catalogContext: t
                        }), n(e)
                    }), [n]),
                    b = (0, o.useCallback)((function(e) {
                        var t = null;
                        switch (e.type) {
                            case "section":
                                var a = e.label;
                                t = o.default.createElement(E.default, {
                                    header: a
                                });
                                break;
                            case "product":
                                var n = e.product;
                                t = o.default.createElement(s.default.Consumer, null, (function(e) {
                                    return o.default.createElement(h.default, {
                                        product: n,
                                        onClick: function() {
                                            return I(n, (0, m.getProductCatalogContext)(e))
                                        },
                                        canManageCatalog: !1
                                    })
                                }))
                        }
                        return t
                    }), [I]);
                return (0, o.useEffect)((function() {
                    M && u.default.openModal(o.default.createElement(g.default, {
                        onConfirm: function() {
                            u.default.closeDrawerRight(), u.default.closeModal()
                        }
                    }))
                }), [M]), o.default.createElement("div", {
                    className: (0, i.default)((t = {}, (0, r.default)(t, v.default.list, !0), (0, r.default)(t, v.default.noSections, !S), t))
                }, o.default.createElement(f.default, {
                    flatListControllers: [a]
                }, o.default.createElement(c.default, {
                    flatListController: a,
                    direction: "vertical",
                    forceConsistentRenderCount: !1,
                    data: T,
                    renderItem: b,
                    itemEnterAnimationsEnabled: !0
                })))
            };
            var r = l(a(59713)),
                i = l(a(94184)),
                o = n(a(67294)),
                u = l(a(34541)),
                d = l(a(34263)),
                s = l(a(66015)),
                c = l(a(60482)),
                f = l(a(55959)),
                p = a(85539),
                m = a(79164),
                h = l(a(78509)),
                v = l(a(89557)),
                g = l(a(39727)),
                E = l(a(48873)),
                _ = a(89305)
        },
        95297: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ProductMessageListDrawer = void 0;
            var r = l(a(34575)),
                i = l(a(93913)),
                o = l(a(2205)),
                u = l(a(99842)),
                d = l(a(96486)),
                s = n(a(67294)),
                c = l(a(73293)),
                f = l(a(72283)),
                p = l(a(91549)),
                m = l(a(34263)),
                h = l(a(81997)),
                v = l(a(25259)),
                g = l(a(66015)),
                E = n(a(62647)),
                _ = l(a(41769)),
                C = n(a(98569)),
                y = a(71719),
                S = l(a(19539)),
                k = l(a(50842)),
                M = l(a(96658)),
                T = l(a(89115)),
                I = l(a(68390)),
                b = a(92919),
                P = a(53418),
                w = a(79164),
                L = l(a(35817)),
                O = l(a(63760)),
                D = l(a(14644)),
                N = l(a(42027)),
                R = l(a(44589)),
                A = a(88828),
                x = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var n;
                        (0, r.default)(this, a), (n = t.call(this, e))._productListFlatListController = new k.default, n._handleScroll = function(e) {
                            n.state.loadingMore || e.scrollTop + m.default.SCROLL_FUDGE > e.scrollHeight - e.clientHeight && n._loadMoreProduct()
                        }, n.handleScroll = d.default.throttle(n._handleScroll, 100), n._loadMoreProduct = function() {
                            var e = n.props.productListId,
                                t = n.state,
                                a = t.stopLoading,
                                l = t.loadedProducts;
                            if (!a) {
                                var r = O.default.assertGet(e),
                                    i = r.getTotalProductsFetchedOrFailed(),
                                    o = r.getProductSize();
                                i !== o ? (n.setState({
                                    loadingMore: !0,
                                    loadedProducts: i
                                }), O.default.update(e).checkpoint(n.props.rejectOnUnmount()).then((function(e) {
                                    n.setState({
                                        loadingMore: !1
                                    }), (Array.isArray(e) ? e[0] : e).getTotalProductsFetchedOrFailed() === l && n.setState({
                                        stopLoading: !0
                                    }), i * m.default.PRODUCT_LIST_ITEM_HEIGHT < window.innerHeight && n._loadMoreProduct()
                                })).catchType(C.Unmount, (function() {})).catch((function() {
                                    n.setState({
                                        loadingMore: !1,
                                        stopLoading: !0
                                    })
                                }))) : n.setState({
                                    stopLoading: !0
                                })
                            }
                        }, n.onScroll = function(e) {
                            n.handleScroll(e.currentTarget), n.props.setScrollOffset && n.props.setScrollOffset(e.currentTarget.scrollTop)
                        }, n._handleCartChange = function() {
                            var e = n.state.cart.itemCount;
                            n.state.cartCount !== e && n.setState({
                                cartCount: e
                            })
                        }, n._handleCartClick = function() {
                            var e = n.props,
                                t = e.contact,
                                a = e.onCartClick;
                            a && a(t.id.toString())
                        };
                        var l = O.default.get(n.props.productListId),
                            i = c.default.findCart(n.props.contact.id.toString());
                        return n.state = {
                            loadingMore: !1,
                            loadedProducts: 0,
                            stopLoading: !1,
                            productMessageList: l,
                            cart: i,
                            cartCount: i.itemCount,
                            cartEnabled: !1,
                            productMessageListFetchState: l ? "SUCCESS" : "NONE"
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.listeners,
                                n = t.contact;
                            a.add(this.state.cart, "all", this._handleCartChange), this.state.productMessageList ? this._loadMoreProduct() : this._findProductMessageList(), (0, p.default)(n.id).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.setState({
                                    cartEnabled: t
                                })
                            })).catchType(C.Unmount, (function() {}))
                        }
                    }, {
                        key: "_findProductMessageList",
                        value: function() {
                            var e = this;
                            return O.default.find(this.props.productListId).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.setState({
                                    productMessageList: t,
                                    productMessageListFetchState: "SUCCESS"
                                }), e._loadMoreProduct()
                            })).catch((function(t) {
                                (0, y.parseErrorState)(t, (function(t) {
                                    return e.setState({
                                        productMessageListFetchState: t
                                    })
                                }))
                            }))
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this.state.productMessageList;
                            return e ? s.default.createElement(s.default.Fragment, null, s.default.createElement("div", null, s.default.createElement(L.default, {
                                productMessageList: e,
                                flatListController: this._productListFlatListController,
                                onProductDetail: this.props.onProductDetail
                            }), this.state.loadingMore && s.default.createElement(M.default, null))) : s.default.createElement(S.default, {
                                fetchState: this.state.productMessageListFetchState
                            })
                        }
                    }, {
                        key: "_getCartIcon",
                        value: function() {
                            var e = this.props,
                                t = e.onCartClick,
                                a = e.contact;
                            if (t && this.state.cartEnabled) {
                                var n = this.state.cartCount,
                                    l = (0, A.isNumber)(n) && n > 0 ? n.toString() : void 0,
                                    r = (0, b.getOnCartClickWithLog)(this._handleCartClick, a.id.toString(), (0, w.getProductCatalogContext)(this.context));
                                return s.default.createElement(P.MenuBarItem, {
                                    a8nText: "menu-bar-cart-link",
                                    icon: s.default.createElement(f.default, {
                                        theme: "inherit-color"
                                    }),
                                    text: l,
                                    title: T.default.t(424),
                                    onClick: r
                                })
                            }
                            return null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.productMessageList;
                            return s.default.createElement(h.default, {
                                theme: "products",
                                onDrop: this.props.onBack
                            }, s.default.createElement(E.default, {
                                title: s.default.createElement("div", {
                                    className: D.default.title
                                }, s.default.createElement(_.default, {
                                    text: null == e ? void 0 : e.title,
                                    ellipsify: !0
                                })),
                                type: E.DRAWER_HEADER_TYPE.SMALL,
                                onBack: this.props.onBack,
                                menu: this._getCartIcon()
                            }), s.default.createElement(v.default, {
                                onScroll: this.onScroll,
                                flatListControllers: [this._productListFlatListController],
                                scrollOffset: this.props.scrollOffset
                            }, this._getDrawerContent()))
                        }
                    }]), a
                }(s.Component);
            t.ProductMessageListDrawer = x, x.contextType = g.default, x.CONCERNS = {
                contact: ["id"]
            }, x.displayName = "ProductMessageListDrawer";
            var F = (0, N.default)((0, I.default)((0, R.default)(x, x.CONCERNS)));
            t.default = F
        },
        39727: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return l.default.createElement(r.default, {
                    onOK: t,
                    okText: o.default.t(1865)
                }, l.default.createElement(i.default, {
                    text: o.default.t(1279)
                }))
            };
            var l = n(a(67294)),
                r = n(a(25960)),
                i = n(a(41769)),
                o = n(a(89115))
        },
        86104: (e, t, a) => {
            "use strict";
            var n = a(20862),
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = l(a(63038)),
                i = l(a(91080)),
                o = n(a(67294)),
                u = l(a(10725)),
                d = l(a(89115)),
                s = n(a(66132)),
                c = l(a(66615)),
                f = function(e, t) {
                    var a = (0, o.useState)(!1),
                        n = (0, r.default)(a, 2),
                        l = n[0],
                        f = n[1],
                        p = (0, o.useState)([]),
                        m = (0, r.default)(p, 2),
                        h = m[0],
                        v = m[1],
                        g = o.default.createElement(c.default, {
                            disabled: !l,
                            onClick: function() {
                                var t, a = (0, i.default)(null === (t = h[0]) || void 0 === t ? void 0 : t.catalogWid, "products[0]?.catalogWid"),
                                    n = (0, i.default)(u.default.get(a), "CatalogCollection.get(catalogWid)");
                                e.onShare(n)
                            }
                        });
                    return o.default.createElement(s.default, {
                        ref: t,
                        title: d.default.t(1420),
                        onCancel: e.onCancel,
                        onConfirm: e.onConfirm,
                        listType: s.ListType.PRODUCT_SELECT_MODAL,
                        enableSearchBox: !1,
                        customHeader: g,
                        onSelectionChanged: function(e, t, a) {
                            f(0 === a.length)
                        },
                        onDataLoaded: function(e) {
                            var t = e;
                            v(t), f(t.length > 0)
                        }
                    })
                },
                p = (0, o.forwardRef)(f);
            t.default = p
        },
        66615: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled ? u.default.disabled : "",
                    a = e.disabled ? null : e.onClick,
                    n = l.default.createElement("span", {
                        className: u.default.title
                    }, i.default.t(1269)),
                    s = l.default.createElement(o.default, {
                        theme: "compact",
                        disabled: e.disabled
                    }, l.default.createElement(d.default, {
                        name: "catalog"
                    }));
                return l.default.createElement(r.default, {
                    image: s,
                    onClick: a,
                    primary: n,
                    theme: "list-button-compact",
                    className: t
                })
            };
            var l = n(a(67294)),
                r = n(a(10598)),
                i = n(a(89115)),
                o = n(a(2740)),
                u = n(a(32375)),
                d = n(a(75131))
        },
        35032: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, c.default)(e.statusV3, ["id", "t", "hasUnread", "unreadCount", "totalCount", "contact"]),
                    a = (0, c.default)(e.contact, ["formattedName", "statusMute"]),
                    n = (0, r.default)((0, l.default)({}, d.default.dimmed, a.statusMute)),
                    f = u.default.relativeDateAndTimeStr(t.t);
                return i.default.createElement(o.default, {
                    className: n,
                    key: t.id.toString(),
                    customImage: !0,
                    theme: "status-list",
                    image: i.default.createElement(s.default, {
                        statusV3: t,
                        contact: a,
                        onClick: e.onClick
                    }),
                    primary: a.formattedName,
                    secondary: f,
                    onClick: e.onClick,
                    contextEnabled: function() {
                        return !1
                    }
                })
            };
            var l = n(a(59713)),
                r = n(a(94184)),
                i = n(a(67294)),
                o = n(a(17485)),
                u = n(a(79140)),
                d = n(a(49787)),
                s = n(a(37703)),
                c = n(a(33819))
        },
        37703: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.theme,
                    n = e.thumbnailPlaceholder,
                    i = e.msg,
                    u = (0, f.default)(e.statusV3, ["lastStatus"]),
                    s = (0, f.default)(e.contact, ["statusMute"]),
                    m = h(a),
                    v = null != i ? i : u.lastStatus;
                t = null != n ? n : v ? r.default.createElement(o.default, {
                    id: v.sender,
                    theme: "status_v3",
                    size: 40
                }) : null;
                return r.default.createElement("div", {
                    className: (0, l.default)(c.default.container, m),
                    role: e.role || "",
                    onContextMenu: null,
                    onClickCapture: function(t) {
                        e.onClick && e.onClick(), t.stopPropagation(), t.preventDefault()
                    }
                }, s.statusMute || "status-panel" === a ? null : r.default.createElement(d.default, {
                    statusV3: u
                }), r.default.createElement(p, {
                    msg: v,
                    theme: a,
                    thumbnailPlaceholder: t
                }))
            };
            var l = n(a(94184)),
                r = n(a(67294)),
                i = n(a(34263)),
                o = n(a(42575)),
                u = n(a(11413)),
                d = n(a(79974)),
                s = a(77630),
                c = n(a(39756)),
                f = n(a(33819));

            function p(e) {
                var t = e.msg,
                    a = e.theme,
                    n = e.thumbnailPlaceholder,
                    o = h(a),
                    d = c.default.statusImage;
                return t ? t.type === i.default.MSG_TYPE.CHAT ? r.default.createElement(m, {
                    msg: t,
                    theme: a
                }) : r.default.createElement(u.default, {
                    containerClassName: (0, l.default)(c.default.thumbContainer, o, c.default.statusImageFallbackBackground),
                    childClassName: (0, l.default)(d, o),
                    msg: t,
                    thumbnailPlaceholder: n
                }) : r.default.createElement("div", {
                    className: (0, l.default)(d, o, c.default.statusImageFallbackBackground)
                })
            }

            function m(e) {
                var t = e.msg,
                    a = e.theme;
                return r.default.createElement("div", {
                    className: (0, l.default)(c.default.statusImage, h(a)),
                    style: {
                        backgroundColor: t.statusV3TextBg
                    }
                }, r.default.createElement("div", {
                    className: (0, l.default)(c.default.textThumb, h(a))
                }, r.default.createElement(s.StatusV3Text, {
                    msg: t,
                    theme: null != a ? a : "status-thumbnail"
                })))
            }

            function h(e) {
                return "status-panel" === e ? c.default.thumbSizeLarge : c.default.thumbSizeSmall
            }
        },
        5081: (e, t, a) => {
            "use strict";
            var n = a(95318),
                l = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.search = function(e, t) {
                var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 30,
                    n = {
                        q: e,
                        SafeSearch: "Strict",
                        appid: s,
                        mkt: p[i.default.getLocale()] || p.en,
                        size: f,
                        aspect: c,
                        count: a,
                        offset: t
                    },
                    l = o.default.build(d, n);
                return u.default.get(l, u.default.RESP_TYPE.JSON).then((function(t) {
                    if (!t.response.hasOwnProperty("_type")) throw new r.InvalidServerResponseError(l, status, `Not a valid Bing response: ${JSON.stringify(t.response)}`);
                    if ("ErrorResponse" === t.response._type) {
                        var a = t.response;
                        throw new r.BingServerError(e, t.status, a)
                    }
                    if ("Images" !== t.response._type) throw new r.InvalidServerResponseError(l, status, `Did not receive an image search response, potentially malformed query ${JSON.stringify(t.response)}`);
                    return t.response
                }))
            };
            var r = l(a(98569)),
                i = n(a(89115)),
                o = n(a(69267)),
                u = n(a(89428)),
                d = "https://www.bingapis.com/api/v6/images/search",
                s = "D41D8CD98F00B204E9800998ECF8427E4F4A7492",
                c = "Square",
                f = "Medium",
                p = {
                    ar: "ar-SA",
                    da: "da-DK",
                    de: "de-DE",
                    en: "en-US",
                    es: "es-US",
                    fi: "fi-FI",
                    fr: "fr-FR",
                    it: "it-IT",
                    ko: "ko-KR",
                    nl: "nl-NL",
                    pl: "pl-PL",
                    "pt-BR": "pt-BR",
                    ru: "ru-RU",
                    sv: "sv-SE",
                    tr: "tr-TR",
                    "zh-CN": "zh-CN",
                    "zh-TW": "zh-TW",
                    "zh-HK": "zh-HK"
                }
        },
        68744: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return S.apply(this, arguments)
            };
            var r = l(a(87757)),
                i = l(a(63038)),
                o = l(a(48926)),
                u = a(46042),
                d = a(17643),
                s = a(55157),
                c = a(65802),
                f = a(71701),
                p = a(7991),
                m = l(a(46005)),
                h = a(50494);
            var v = /^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;

            function g(e) {
                var t = v.exec(function(e) {
                    return e.user.split("@")[0]
                }(e));
                return d.Binary.build(t ? t[1] + t[2] : e.toString()).readByteArray()
            }

            function E(e, t) {
                return `00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)
            }

            function _(e, t) {
                for (var a = n.resolve(d.Binary.build(0, 0, t, e).readByteArray()), l = 0; l < 5200; l++) a = a.then((function(e) {
                    return self.crypto.subtle.digest({
                        name: "SHA-512"
                    }, d.Binary.build(e, t).readByteArray())
                }));
                return a.then((function(e) {
                    var t = new DataView(e instanceof ArrayBuffer ? e.slice(0, 30) : e.slice(0, 30).buffer);
                    return [E(t, 0), E(t, 5), E(t, 10), E(t, 15), E(t, 20), E(t, 25)].join("")
                }))
            }

            function C(e, t, a, l) {
                return n.all([_(e, t), _(a, l)]).then((function(e) {
                    return e.sort().join("")
                }))
            }

            function y(e, t, a, n) {
                var l = new d.Binary;
                return (0, u.encodeProto)(c.CombinedFingerprintSpec, {
                    version: 0,
                    localFingerprint: {
                        publicKey: t,
                        identifier: e
                    },
                    remoteFingerprint: {
                        publicKey: n,
                        identifier: a
                    }
                }, l), l.readBuffer()
            }

            function S() {
                return (S = (0, o.default)(r.default.mark((function e(t) {
                    var a, l, o, u, d, c, v, E, _, S, k, M, T, I, b;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = (0, f.assertGetMe)(), e.next = 3, (0, s.getFanOutList)([t, a]);
                            case 3:
                                return l = e.sent, e.prev = 4, e.next = 7, (0, p.ensureE2ESessions)(l);
                            case 7:
                                e.next = 12;
                                break;
                            case 9:
                                e.prev = 9, e.t0 = e.catch(4), __LOG__(4, void 0, new Error)`ensureE2ESessions with error`;
                            case 12:
                                return o = [], u = [], l.forEach((function(e) {
                                    e.user === a.user ? u.push(e) : o.push(e)
                                })), e.prev = 15, e.next = 18, (0, h.getAllIdentityKeysBytesOrThrow)(o);
                            case 18:
                                return d = e.sent, e.next = 21, (0, h.getAllIdentityKeysBytesOrThrow)(u);
                            case 21:
                                return c = e.sent, e.next = 24, m.default.getIdentityKeyPair();
                            case 24:
                                if (v = e.sent) {
                                    e.next = 28;
                                    break
                                }
                                return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`, e.abrupt("return", null);
                            case 28:
                                return c.push(new Uint8Array(v.pubKey)), E = (0, h.identityKeysToBinary)(c), _ = (0, h.identityKeysToBinary)(d), S = g((0, f.getMeUser)()), k = g(t), e.next = 35, n.all([C(S, E, k, _), y(S, E, k, _)]);
                            case 35:
                                if (null != (M = e.sent)) {
                                    e.next = 38;
                                    break
                                }
                                return e.abrupt("return", null);
                            case 38:
                                return T = (0, i.default)(M, 2), I = T[0], b = T[1], e.abrupt("return", {
                                    binary: b,
                                    string: I
                                });
                            case 42:
                                return e.prev = 42, e.t1 = e.catch(15), __LOG__(3)`getIdentityVerificationData: error ${e.t1} when trying to generate identtiy QR code`, e.abrupt("return", null);
                            case 46:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [4, 9],
                        [15, 42]
                    ])
                })))).apply(this, arguments)
            }
        },
        8559: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getAction = function(e) {
                var t = e.key,
                    a = e.ctrlKey,
                    n = e.metaKey,
                    l = e.altKey,
                    r = e.shiftKey;
                if ("Control" === t || "Meta" === t || "Alt" === t || "Shift" === t) return;
                return a && n || a && l ? d[function(e, t) {
                    if (t && ("Tab" === e || "Enter" === e || "Backspace" === e || " " === e)) return `Shift+${e}`;
                    return e
                }(t, r)] : void 0
            }, t.getKey = function(e) {
                var t = o(e);
                if (!t.length) return;
                var a = t[0],
                    n = a.key,
                    l = a.nativeKey,
                    r = a.nativeModifier,
                    i = l || n;
                return i ? s(i, r) : void 0
            }, t.getAdditionalShortcuts = function() {
                var e = {};
                return (0, l.default)(i.default.members()).forEach((function(t) {
                    var a = o(t);
                    a.length <= 1 || a.slice(1).forEach((function(a) {
                        var n = a.key,
                            l = a.nativeKey,
                            r = a.nativeModifier,
                            i = l || n;
                        i && (e[s(i, r)] = t)
                    }))
                })), e
            }, t.getShortcutKey = function(e) {
                var t = o(e);
                if (t.length) {
                    var a = t[0],
                        n = a.key,
                        l = a.nativeKey;
                    a.webKey;
                    return l || n
                }
                return
            };
            var l = n(a(319)),
                r = n(a(96486)),
                i = n(a(37311));

            function o(e) {
                switch (e) {
                    case i.default.CONTACT_US:
                        return [{
                            key: "H"
                        }];
                    case i.default.DELETE_OR_EXIT_CHAT:
                        return [{
                            key: "Backspace",
                            nativeKey: "D"
                        }];
                    case i.default.GO_TO_NEXT_CHAT:
                        return [{
                            key: "Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "}"
                        }];
                    case i.default.GO_TO_PREV_CHAT:
                        return [{
                            key: "Shift+Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "{"
                        }];
                    case i.default.LOGOUT:
                        return [];
                    case i.default.OPEN_NEW_CHAT:
                        return [{
                            key: "n"
                        }];
                    case i.default.OPEN_NEW_GROUP:
                        return [{
                            key: "N"
                        }];
                    case i.default.OPEN_PROFILE:
                        return [{
                            key: "p"
                        }];
                    case i.default.OPEN_SETTINGS:
                        return [{
                            key: ","
                        }];
                    case i.default.SEARCH:
                        return [{
                            webKey: "/",
                            nativeKey: "f"
                        }];
                    case i.default.SEARCH_IN_CHAT:
                        return [{
                            key: "F"
                        }];
                    case i.default.TOGGLE_ARCHIVE:
                        return [{
                            key: "E"
                        }];
                    case i.default.TOGGLE_MUTE:
                        return [{
                            key: "M"
                        }];
                    case i.default.TOGGLE_PIN:
                        return [{
                            key: "P"
                        }];
                    case i.default.TOGGLE_UNREAD:
                        return [{
                            key: "U"
                        }];
                    case i.default.ZOOM_IN:
                        return [{
                            key: "+"
                        }, {
                            key: "="
                        }];
                    case i.default.ZOOM_OUT:
                        return [{
                            key: "-"
                        }];
                    case i.default.ZOOM_RESET:
                        return [{
                            key: "0"
                        }];
                    case i.default.INCREASE_PTT_SPEED:
                        return [{
                            key: ">"
                        }];
                    case i.default.DECREASE_PTT_SPEED:
                        return [{
                            key: "<"
                        }];
                    case i.default.OPEN_EMOJI_PANEL:
                        return [{
                            key: "e"
                        }];
                    case i.default.OPEN_GIF_PANEL:
                        return [{
                            key: "g"
                        }];
                    case i.default.OPEN_STICKER_PANEL:
                        return [{
                            key: "s"
                        }];
                    default:
                        return []
                }
            }
            var u, d = (u = {}, (0, l.default)(i.default.members()).forEach((function(e) {
                o(e).forEach((function(t) {
                    var a = t.key,
                        n = t.webKey || a;
                    n && (u[n] = e)
                }))
            })), u);

            function s(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "CmdOrCtrl",
                    a = "+" !== e ? e : "Plus",
                    n = 1 === a.length && a.match(/[a-z]/i);
                if (!n) return `${t}+${r.default.upperFirst(a)}`;
                var l = a.match(/[a-z]/);
                return l ? `${t}+${r.default.upperFirst(a)}` : `Shift+${t}+${a}`
            }
        },
        63278: (e, t, a) => {
            "use strict";
            var n = a(60077).default,
                l = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, o.promiseLoop)((function(t, a, l) {
                    var r = (0, i.delayMs)(d.expBackoff(l, 6e4, void 0, .1));
                    return (c.default.state === c.STATE.CONNECTED ? n.resolve() : (0, s.default)(c.default, "change:state", u.default.matches({
                        state: c.STATE.CONNECTED
                    }))).then((function() {
                        return e()
                    })).then((function(e) {
                        if (e.status >= 500 && e.status < 600) return r;
                        t(e)
                    })).catch((function() {
                        return r
                    }))
                }))
            };
            var i = a(53615),
                o = a(80835),
                u = r(a(96486)),
                d = l(a(59502)),
                s = r(a(61110)),
                c = l(a(7860))
        },
        178: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getTosUrl = function() {
                return `${r}?lg=${l.default.getLocale()}`
            }, t.TOS_BASE_URL = void 0;
            var l = n(a(89115)),
                r = "https://www.whatsapp.com/legal/";
            t.TOS_BASE_URL = r
        },
        31186: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.validateURL = t.validateEmail = t.EMAIL_REGEX = void 0;
            var n = a(69267),
                l = new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);
            t.EMAIL_REGEX = l;
            t.validateEmail = function(e) {
                return !e || l.test(e)
            };
            t.validateURL = function(e) {
                return !e || n.URL_REGEX.test(e)
            }
        },
        9349: (e, t, a) => {
            e.exports = a.p + "img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"
        },
        13237: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                editMain: "_2I1Ow",
                dayMain: "JQF0C",
                timeWrapper: "_3MRIR",
                hoursAnd: "_2JxoB",
                hoursMain: "_28Fp0",
                dayCheckbox: "_2TA8L",
                dayInfo: "_1nLa3",
                dayInfoText: "_3nHg5"
            }
        },
        31942: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                editMain: "_3JLJ7",
                list: "_2E4iI",
                rowMain: "uomL_",
                rowCheckbox: "x3Vkl",
                rowLabel: "_2H7gl",
                disabled: "_2rN2h",
                loadingSpinner: "_2ZkHo",
                searchBackground: "kkGAP"
            }
        },
        20230: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                businessHoursDayColumn: "_2e5cd",
                businessHoursTimeColumn: "ePJ9B",
                businessHoursSection: "_25cLK",
                businessHoursTime: "_1Fbr2",
                addAnotherWebsite: "_2ic4J",
                businessMap: "_2lFZs",
                mapOverlay: "_3KH8A",
                overlayHint: "zLudj",
                infoText: "egL-4",
                verifiedNameIcon: "vr8kz",
                noPaddingTop: "_3-G7O"
            }
        },
        51875: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                loadingSpinner: "_3YfhH",
                retryButton: "_1Ks-M"
            }
        },
        13732: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                editPencil: "_3n6oF",
                section: "_1SrUt",
                smallMargin: "_2TAxi",
                noMargin: "_3jvCQ",
                sectionPrimaryIcon: "_1rZAT",
                fieldPrimaryIcon: "p8Oeo",
                sectionMain: "_3rWgV",
                sectionContainerMain: "_39NMC",
                sectionEditIcon: "_3-M9v",
                sectionEmptyText: "qn8pr",
                hidden: "_1LUgV"
            }
        },
        41671: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                info: "_3_VBJ",
                footer: "_1fPbz",
                emptyCartContainer: "_2o_Dj",
                emptyCardHeader: "_3hoSO",
                emptyCardText: "_8jb_l",
                btnSend: "_5P7L4",
                cartMessage: "_2F64R"
            }
        },
        95827: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                price: "JOk72",
                actions: "_31IdY",
                deleteIcon: "_2fSr8",
                cartListItem: "_1kVL7"
            }
        },
        98307: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                select: "_1xCOB"
            }
        },
        86536: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                deleteIcon: "_19lTm"
            }
        },
        4389: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "_3Q5hz"
            }
        },
        42684: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                notifyName: "_3Pmbe"
            }
        },
        70180: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "_13MJe",
                text: "hM3sj",
                icon: "_1p9YY"
            }
        },
        96257: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                header: "_1vhuQ"
            }
        },
        87240: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2RE0a",
                border: "_3t6bN",
                square: "_36Gk7",
                avatar: "_1b8fw",
                count: "_1gLP4",
                two: "_1EzI5",
                first: "JOgRb",
                second: "_3Q0g1",
                three: "_33l2L",
                third: "_1MivT",
                four: "_18BoY",
                fourth: "_1P7KC"
            }
        },
        19122: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                overlay: "gDU26",
                icon: "_28Ee5",
                text: "_3D1Iu"
            }
        },
        97719: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1E1m-",
                hasPrefixIcon: "FhjkT",
                hasPostfixIcon: "_2vpgU",
                content: "_1B-sn",
                icon: "_2rrog",
                prefixIcon: "_2zcko",
                paddedIcon: "_2SfKW"
            }
        },
        38354: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                download_button: "_2LQ4-",
                downloadButton: "_2LQ4-"
            }
        },
        34531: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                imageGallery: "_3uMAp",
                imageGalleryList: "_1WX5F",
                imageGalleryItem: "MkTEt",
                imageGalleryItemSpacer: "_2ppZW",
                imageGalleryItemImage: "_6CxGV",
                imageGalleryItemOverlay: "_7mUkD",
                selected: "_1KnO5",
                imageGalleryFooter: "PYlBE",
                focusAnimation: "_30mp5",
                focusAnimationKeyframes: "_3i50e"
            }
        },
        64917: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                key: "_3XnBm"
            }
        },
        16899: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                inputEmoji: "_3K0ya",
                wrapper: "_1paHP",
                textInput: "_3yEml",
                labelText: "_2YN70",
                clearInput: "_1U7gF",
                float: "_24wuh",
                textActive: "_1nfyj",
                suggestionsPositioner: "_25axk",
                suggestionsContainer: "_3X1SA",
                charCounter: "_3yMv6",
                inputControls: "_202sS",
                charCounterWithClearBtn: "T2VTG",
                spacer: "_3vk_J",
                noPlaceholder: "_1KJOl",
                buttonContainer: "_3Ai1P",
                active: "_2359L"
            }
        },
        60039: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3cOtp",
                body: "_1YLvc"
            }
        },
        85747: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1w1m1",
                disabled: "_3Sg2g",
                count: "ItnCt",
                large: "_3OTTU"
            }
        },
        82823: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                tabContainer: "_2kl47",
                tab: "_3fLXe",
                selected: "_2TdgQ"
            }
        },
        39567: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                versionInfo: "AwT3E"
            }
        },
        52144: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                positioner: "_388vZ",
                container: "ewANj",
                resizableInput: "_1L8rJ",
                emojiButton: "_3tKNQ",
                buttonIconWrapper: "_1F5dF",
                inputContainer: "_3DCJ3",
                hiddenText: "_269u7",
                hiddenTextLine: "_3F7_-",
                emojiPlaceholder: "_39TQD"
            }
        },
        50907: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2nStn",
                inputContainer: "_1VmmK",
                videoCaption: "_2M4pc",
                buttonContainer: "_26J91",
                clearBtn: "_3EUIt",
                inputEmoji: "I1HlI",
                charCounter: "_3HWI2",
                suggestionsPositioner: "_3-qS1",
                suggestionsContainer: "_1Uy4i",
                viewOnceContainer: "_2RA7a"
            }
        },
        30635: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                thumb: "_2AkjL",
                active: "_31gut",
                bodyWrapper: "_1iECW",
                body: "_1hZLd",
                bodyIcon: "_299B_",
                btnDelete: "_1By33"
            }
        },
        39875: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_34aQy",
                header: "qAj2u",
                headerRight: "_3PqRX",
                canvasContainer: "_1PFn9",
                cropRotateContainer: "_3zRbB",
                closeButton: "_1gvdP",
                closeButtonPlaceholder: "_1Ao72",
                canvas: "_153i9",
                footer: "_1nPzf",
                bottomToolbar: "_1nNuD",
                captionInputContainer: "_1iQr1",
                captionInputHidden: "_6dYhh"
            }
        },
        79334: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1Mcu-",
                previewOnly: "_2NB7f",
                dropOverlay: "_1PdGl",
                dropOverlayOutline: "_2HexZ",
                spinner: "pzFG8",
                footer: "_1HI4Y",
                addMediaButton: "_1xotB",
                addMediaButtonDisabled: "WAMhx",
                filmstripContainer: "_1vAZI",
                thumbs: "_7Tfhi",
                sendButton: "_33pCO",
                captureFooter: "_1z1Aw"
            }
        },
        10706: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3gx1m",
                cropperContainer: "_2mSFk"
            }
        },
        45134: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                body: "_25wph",
                previewContainer: "OW_mU",
                previewIcon: "_4FGL4",
                header: "_1Xi6x",
                metadata: "_3QpE7"
            }
        },
        84130: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2oWjT",
                header: "Ku3Q6",
                title: "_2RTJr",
                pageCount: "_1aYm8",
                closeButton: "_3gqDa"
            }
        },
        58099: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "jcXC6"
            }
        },
        91976: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2SXhH",
                footer: "UJ-0N"
            }
        },
        86382: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2wtUo",
                disabled: "wZyqj",
                icon: "ZZ0GN",
                rotate: "_2X1cd",
                body: "_2O4Bw",
                caret: "_104hn"
            }
        },
        4837: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3eK79",
                colorChipsContainer: "_1E-L7"
            }
        },
        88501: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                colorButton: "_2J8i-",
                primaryColorChip: "fteqj",
                primaryColorChipMedium: "_1Rjww",
                secondaryColorChip: "_1H9V5",
                active: "_3Jsf_",
                hover: "_1jiBu",
                selected: "_1lanH",
                colorChipWithBorder: "_2WYx6"
            }
        },
        60755: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1uNZ6",
                input: "_1bDiJ"
            }
        },
        50889: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                canvas: "_3ZCwl",
                cursor: "_1YJQa"
            }
        },
        90560: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "fZGUF"
            }
        },
        52418: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1LRKO",
                rotateLeftButton: "_3dKFO"
            }
        },
        43384: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "QUfeO",
                fontLabel: "_3OMGG",
                icon: "_3SJCV"
            }
        },
        16702: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                item: "_1j1xr",
                selected: "_2DKLD",
                sansSerif: "_106wS",
                serif: "_1yqqW",
                noricanRegular: "bzq8z",
                bryndanWrite: "_3Pj9c",
                oswaldHeavy: "ah3iR",
                alignmentContainer: "_2lKFu",
                alignmentIcon: "mi3vs",
                alignmentIconSelected: "_1KlZW"
            }
        },
        89046: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                cirle: "_10ZsU",
                circleFilled: "_1ZATr",
                unchecked: "_1B4g5",
                checked: "_3s-4-"
            }
        },
        60349: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1_bv-",
                thicknessButton: "_3bAiP",
                thicknessChip: "_3iRrK",
                selected: "_32C9L"
            }
        },
        84053: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                scaler: "_2EO74",
                scalerButton: "_1fjLC"
            }
        },
        29351: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                inputContainer: "XVAlv",
                label: "_3zFV7",
                input: "_3RaCQ"
            }
        },
        51245: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                body: "_1YHIM",
                thumbs: "_2il6K",
                thumbsContainer: "_3Sf3o",
                btnSend: "_19dz5",
                captionInput: "_1urgr",
                mediaBody: "_2VQwU",
                invalidContainer: "_2UMJ9",
                invalidMedia: "q5piz",
                mediaWarning: "eSHRj",
                btnAdd: "KmorN",
                btnAddDisabled: "_3UVYT",
                btnAddText: "DNiBl"
            }
        },
        92024: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                thumb: "_2yXI9",
                active: "_30Jeb",
                body: "_2oWSB",
                btnDelete: "_1BdpB",
                bodyDoc: "_38Hry"
            }
        },
        77046: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "JKr_m",
                media: "_3R3yC"
            }
        },
        10750: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_26L6R",
                preview: "_1yHz2",
                img: "_3hEGq"
            }
        },
        71003: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3fFxj",
                media: "_3lqv9",
                document: "hH6sl",
                text: "eAWMI",
                icon: "fDWKK"
            }
        },
        58523: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1ULgK",
                media: "_2gN82",
                img: "OunMM",
                audio: "_3ZDt1",
                videoContainer: "_33jN5",
                spinner: "_1-L7X",
                video: "_2Vd8_",
                staticPreview: "sWhPU"
            }
        },
        38728: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2nVq-",
                preview: "_1K_xd",
                caption: "_3xLDc",
                img: "_2zsdh",
                imgBorder: "_2Cuay"
            }
        },
        53864: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                btnViewOnce: "_197l9",
                noMargin: "_2Ne5-",
                disabled: "_2f3_U"
            }
        },
        60994: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                text: "woR8K",
                graphic: "PnU7f"
            }
        },
        88191: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                list: "_2i0C9",
                hint: "_3sZ4R",
                button: "AoASc"
            }
        },
        26616: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3zKdl",
                body: "Sy3TC",
                captionInput: "_32AUO",
                footer: "_11gZr",
                retakeBtn: "rKFEM",
                retakeIcon: "_2rZzC",
                caption: "_1sxcB",
                videoContainer: "_2xIhM",
                video: "_2jZjN",
                btn: "_2kkeT",
                videoInactive: "_2eCp4",
                btnSend: "_1103Z",
                image: "_288ya",
                snapshot: "_3sE1m"
            }
        },
        75935: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_sme7",
                chip: "_1Hi4U"
            }
        },
        33621: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                newGroupButton: "EptxG"
            }
        },
        40261: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                icon: "_2WtuC",
                body: "_3TCJd",
                spinner: "_1PKms",
                ack: "YYcY9",
                statusBlue: "_13UwK"
            }
        },
        61169: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                deviceInfo: "vHpTf",
                deviceInfoLabel: "_1-Z2I",
                deviceInfoCheckbox: "IlQC9",
                emailLink: "_16vce"
            }
        },
        25958: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                section: "Yc7EA",
                container: "_3Q-IP",
                control: "_2-cwr",
                label: "_22inq"
            }
        },
        45082: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                dropOverlay: "PHaD9",
                dropOverlayOutline: "WsbTY"
            }
        },
        34361: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                btnSend: "_2fSLr",
                attributionLink: "_22sy6",
                mediaBody: "_2jVhQ",
                attribution: "_1kog_",
                footer: "_31LfW",
                containerBackground: "_1j68I",
                retake: "bZxYm",
                retakeIcon: "_1GJtK",
                mediaElementBase: "_1dxg6",
                mediaElement: "_1T8co _1dxg6"
            }
        },
        83123: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wrapper: "fvxZ_",
                icon: "_3kxe5",
                text: "sfUBV"
            }
        },
        57363: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                linkContainer: "_3eSYR",
                descContainer: "_1r8tU",
                icon: "_3qnQ8"
            }
        },
        26297: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                confirmationText: "_2rM2V"
            }
        },
        67371: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "_3X4ur",
                titleIcon: "_3v5-C",
                ack: "_3hJA9",
                statusBlue: "_31P1q",
                forwardCount: "_36jfD",
                spinner: "_3pJTm",
                list: "_34Zzk",
                footer: "W5HdQ"
            }
        },
        4025: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                commentInput: "_2_o99",
                search: "_1Plju",
                groupInfo: "_2wLei",
                onSendInvite: "_2-WpU"
            }
        },
        77798: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                animation: "o43XS",
                "play-ltr": "_1-zyO",
                playLtr: "_1-zyO",
                "play-rtl": "_27Hce",
                playRtl: "_27Hce",
                versionInfo: "_1hWGI"
            }
        },
        95694: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "Ph7CX",
                list: "_3_bJS",
                section: "_3FmxE",
                action: "_1rse8",
                shortcut: "_1Cbf3"
            }
        },
        66995: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "srSIT",
                wallpaperColorCanvas: "_33YuY",
                wallpaperColorEmpty: "_1BHKm",
                canvasActive: "_3o6gY",
                canvasHover: "_3zuY0"
            }
        },
        35180: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                addLabelBtContainer: "ohbFn"
            }
        },
        23918: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2BtE_",
                textContainer: "_2Tvyf",
                spinner: "HYKvS"
            }
        },
        50521: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2136P",
                list: "C1Dd9",
                header: "K1c_P",
                item: "_16f8P",
                right: "DMk3i",
                left: "_1mO8w",
                close: "_38Gu8",
                name: "_2z4ea",
                time: "_4VLPt"
            }
        },
        94692: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wrapper: "_9Gs_R",
                offline: "_3rEcJ",
                circle: "_2Xn1u",
                text: "_1nFpn",
                notification: "p9CjV",
                ended: "_2OrJW",
                lastUpdated: "_3VPfk"
            }
        },
        26658: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wrapper: "_26J0I",
                inactive: "_2ZG5x",
                offline: "Pc7bU",
                circle: "_1487t",
                text: "_2WNWn",
                backToCenter: "_3LWZ9",
                visible: "_2Ozk7"
            }
        },
        89332: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2BPRJ",
                map: "_312iE",
                authFailed: "xgGDH",
                loading: "L5P7F"
            }
        },
        92018: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3rs7K",
                selected: "_10G_J",
                glow: "h5TUN",
                stale: "_3WyhQ",
                expired: "_1HO_K",
                pin: "_2JeQm"
            }
        },
        6304: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                list: "D0Q5P",
                stopSharingButton: "_8wYL"
            }
        },
        22828: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                popup: "_1O7kH",
                container: "_1qWAL",
                twoLines: "_2dn9y",
                name: "_2UN5N",
                status: "_1fM0V",
                menuButton: "_2UenO",
                triangle: "_1NoUg"
            }
        },
        94831: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                actionBtns: "_1s6Xm",
                newLabelBtn: "_3bYuL",
                plus: "_2ZM_7"
            }
        },
        93388: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                mediaViewerImg: "_3X0ym",
                cropOverlay: "_2LR6k"
            }
        },
        25850: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                nextButton: "_1Opmc",
                section: "_1p7Ee",
                label: "_1I3g8",
                control: "gwZYu"
            }
        },
        48566: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                spinner: "_27bPO",
                search: "_3zFPA",
                inputarea: "_1x9wV",
                inputLine: "etp_f",
                contacts: "_2DdHI",
                drawerSection: "_37Xh5",
                inputareaSizer: "_2-opG"
            }
        },
        35456: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                photoPickerWrapper: "_1Mc0y",
                scale: "_55HVY",
                nameWrapper: "_2LTDQ",
                "well-animation": "_1EgwP",
                wellAnimation: "_1EgwP",
                phoneIcon: "_9P72S",
                phoneField: "_1zywm",
                infoText: "_3FDYs"
            }
        },
        83968: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                icon: "_3nXFq",
                iconLock: "_1q7G4",
                text: "_2QEzO",
                controls: "_1O2-j",
                checkbox: "_3xbR9",
                header: "_1_8IZ"
            }
        },
        50717: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1J075",
                section: "_2BZQN",
                control: "_1iSYt",
                label: "_3AXj8",
                disabled: "_1Aj3d"
            }
        },
        78350: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                more: "_394Lu",
                hotKeyWraper: "_3lwKF"
            }
        },
        55771: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                body: "nWPOn",
                vcardWrapper: "j80SY",
                btnContainer: "_386ov",
                btnPosition: "_3o41r"
            }
        },
        98129: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wallpaperApplyDoodle: "_1aWJq",
                checkboxLabel: "XvSmy",
                wallpaperColorGrid: "KzJy3",
                wallpaperColorCanvas: "Iwkc0",
                wallpaperDefaultTitle: "_2jzUd",
                wallpaperColorEmpty: "_1qqLM",
                canvasHover: "_3Mp8z",
                canvasActive: "_2MCR7",
                canvasDefault: "GRVkn"
            }
        },
        15805: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                date: "DFImE",
                info: "_22yfR"
            }
        },
        16248: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                price: "_3VVtW",
                separator: "I8-Ql",
                quantity: "_3hg85"
            }
        },
        8371: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                descriptionText: "HZZS9",
                loadingSpinner: "_1D_wr"
            }
        },
        40198: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                nameContainer: "_29TgP",
                nameIcon: "_2VsX7",
                nameEdit: "ajaQb",
                listContainer: "g5Pwo",
                footer: "gsAan",
                saveButton: "_2992-",
                operation: "Ky876",
                spinner: "_10Kpf",
                isSending: "_2saS4",
                container: "g0kY2",
                loadingSpinner: "_1mBPZ"
            }
        },
        27334: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                productWrapper: "nwLZK",
                drawerHeader: "_9loHN",
                drawerHeaderButtonContainer: "_3UHa1",
                deleteButtonContainer: "_1GJGf",
                isSending: "R3KoU",
                spinner: "_3Of6S",
                hiddenLabel: "_1wTLv",
                hiddenDescr: "_133oH",
                hiddenContainer: "dhIGH"
            }
        },
        29408: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                addItemPlaceholder: "_13K6_",
                placeholderIcon: "_21z7W",
                placeholderContainer: "j43hv",
                divider: "_1fHvf",
                isLoading: "_3cWYA",
                spinner: "_3skoT"
            }
        },
        66493: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                drawerHeader: "_361UW",
                productName: "_3oqif",
                buttonSeparator: "_1dmnE",
                drawerHeaderButtonContainer: "G-hW5",
                productWrapper: "_2OajO",
                businessInfoTitle: "_2Wol_"
            }
        },
        79829: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                root: "_28jDA",
                appealText: "Cifen",
                appealLink: "_2cP3S",
                icon: "_3fJrr",
                text: "_2ZAuC"
            }
        },
        24193: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                collectionIcon: "_1hToA",
                iconContainer: "_16Vdq"
            }
        },
        29025: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                loadingSpinner: "_15oXt"
            }
        },
        34860: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                panel: "_2k6IR",
                tileContainer: "hFwyO",
                imageTile: "_37Ag3",
                imageThumb: "_2gPsu",
                btnDelete: "_2qZnM",
                deleteIcon: "_2ICL9",
                btnAdd: "SNrLn",
                btnAddContainer: "_JDHz",
                btnAddText: "_1rMC8",
                errorMessage: "_3Ueu_"
            }
        },
        89557: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                list: "_3hjFg",
                noSections: "_3UBYX"
            }
        },
        14644: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "jm-c-"
            }
        },
        32375: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                disabled: "_29h2z",
                title: "_2AWxj"
            }
        },
        49787: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                dimmed: "khEuM"
            }
        },
        39756: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                textThumb: "qgEhU",
                thumbSizeSmall: "_14N8a",
                thumbSizeLarge: "_2dKet",
                statusImage: "_37ckN",
                statusImageFallbackBackground: "_14MS9",
                container: "_3xFA4",
                thumbContainer: "_1cDhn"
            }
        }
    }
]);